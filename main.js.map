{"version":3,"sources":["./src/app/components/ui/settings/inputs/base-input-edit/base-input-edit.component.less","./src/app/components/ui/settings/value-accessors/StyleValueAccessor.ts","./src/app/tools/decorators/Subscriber/Subscriber.decorator.ts","./src/app/components/ui/settings/inputs/label/label.component.ts","./src/app/fake-config.js","./src/app/configs/fakeDocument.ts","./src/app/components/ui/settings/inputs/color/color.component.html","./src/app/state/ui-state.service.ts","./src/app/components/ui/settings/inputs/text/text.component.ts","./src/app/components/ui/ui-node-component/ui-node.component.ts","./src/app/entities/UIObject.ts","./src/app/components/ui/preview-panel/preview-panel.component.less","./src/app/services/services.module.ts","./src/app/components/ui/settings/value-accessors/GroupDomNodeAccessor.ts","./src/app/api/websocket.service.ts","./src/app/api/api.module.ts","./src/app/entities/BaseNodes.ts","./src/app/components/ui/settings/value-accessors/DomNodeAccessor.ts","./src/app/components/ui/settings/inputs/text/text.component.less","./src/app/components/renderers/dom/document/document-renderer.component.ts","./src/app/domain/actions.service.ts","./src/app/components/ui/control-editor-panel/control-editor-panel.component.ts","./src/app/services/custom-blocks/custom-blocks.service.ts","./src/app/state/state-manager.service.ts","./src/app/components/ui/control-panel/control-panel.component.less","./src/app/components/ui/blocks-panel/blocks-panel.component.less","./src/app/state/state.module.ts","./src/app/components/ui/preview-panel/preview-panel.component.html","./src/app/components/ui/settings/value-accessors/TextValueAccessor.ts","./src/app/components/ui/preview-panel/preview-panel-container.component.less","./src/environments/environment.ts","./src/app/entities/BehaviorableNode.ts","./src/app/services/node-wrapper/node-wrapper.service.ts","./src/app/tools/decorators/decorator.tools.ts","./src/app/components/ui/settings/inputs/color/color.component.less","./src/app/components/ui/block-thumb/block-thumb.component.html","../ui-editor-common/services/dom.data.service.ts","./src/app/components/ui/settings/inputs/color/color.component.ts","./src/app/components/document/document-node-component/document-node-components.ts","./src/app/components/ui/settings/value-accessors/BaseValueAccessor.ts","./src/app/components/ui/settings/controls/controls.ts","./src/app/components/ui/header/header.component.less","./src/app/state/document.state.service.ts","./src/app/components/ui/settings/controls/base-control-edit/base-control-edit.component.html","./src/app/components/ui/control-panel/control-panel.component.ts","./src/app/components/document/document-node-component/document-node.component.less","./src/app/components/ui/settings/inputs/base-input-edit/base-input-edit.component.ts","./src/app/components/ui/settings/inputs/inputs.ts","./src/app/configs/applicationUI.ts","./src/app/components/ui/settings/inputs/select/select.component.less","./src/app/components/ui/uicontainer/uicontainer.component.less","./src/app/components/ui/settings/inputs/toggler/toggler.component.ts","../ui-editor-common/entities/HtmlObject.ts","./src/app/components/ui/preview-panel/preview-panel-container.component.ts","./src/app/components/document/document-node-component/document-node.component.ts","./src/app/components/renderers/html/html-editor/html-editor.component.less","./src/app/state/config.state.service.ts","./src/app/components/document/document-node-component/document-node.component.html","./src/app/tools/decorators/decorator.types.ts","./src/app/components/ui/settings/inputs/label/label.component.html","./src/app/components/ui/settings/inputs/base-input-edit/base-input-edit.component.html","./src/app/components/ui/history/history.component.less","./src/app/components/ui/preview-panel/styles.ts","./src/app/components/ui/accordion/accordion.component.html","./src/app/app.component.ts","./src/app/state/app.state.service.ts","./src/app/components/ui/settings/controls/base-control-edit/base-control-edit.component.ts","./src/app/components/ui/block-thumb/block-thumb.component.less","./src/app/components/ui/settings/inputs/label/label.component.less","./src/app/components/ui/settings/control-object-value.pipe.ts","./src/app/tools/decorators/AsyncValue/AsyncValue.decorator.ts","./src/app/app.component.html","./src/app/components/ui/code-editor/code-editor.component.html","./src/app/components/ui/settings/inputs/toggler/toggler.component.less","./src/app/components/ui/settings/controls/base/base-control.component.less","./src/app/components/ui/base-nodes-container/base-nodes-container.component.ts","./src/app/components/ui/base-nodes-container/base-nodes-container.component.less","./src/app/api/repository.service.ts","./src/app/app.module.ts","./src/app/entities/NodeComponent.ts","./src/app/components/ui/blocks-panel/blocks-panel.component.ts","./src/app/components/ui/settings/controls/base/base-control.component.ts","./src/app/components/renderers/dom/base.node-component.ts","./src/app/tools/decorators/EditorEventListener/EditorEventListener.decorator.ts","./src/app/tools/decorators/Emitter/Emitter.decorator.ts","./src/app/tools/ControlUtils.ts","./src/app/components/document/amp-element/amp-element.component.less","./src/app/components/document/amp-element/amp-element.component.html","./src/app/tools/HtmlConverter.ts","./src/$_lazy_route_resource lazy namespace object","./src/app/components/ui/ui-components.ts","./src/app/components/ui/settings/value-accessors/BufferValueAccessor.ts","./src/app/components/ui/header/header.component.html","./src/app/components/document/external-block-wrapper/external-block-wrapper.component.ts","./src/app/components/ui/settings/value-accessors/FormValueAccessor.ts","./src/app/components/ui/ui-node-component/ui-node-components.ts","./src/app/components/ui/settings/inputs/base.input.component.ts","../ui-editor-common/tools/NodeUtils.ts","./src/app/components/ui/code-editor/code-editor.component.ts","./src/app/components/ui/accordion/accordion.component.less","./src/app/domain/action-manager.service.ts","./src/app/tools/SharedSubscription.ts","./src/app/components/components.module.ts","./src/app/components/ui/settings/inputs/toggler/toggler.component.html","../ui-editor-common/entities/WSMessages.ts","./src/app/components/ui/accordion/accordion.component.ts","./src/app/components/ui/settings/controls/base-control-edit/base-control-edit.component.less","./src/app/state/events.service.ts","./src/app/components/ui/uicontainer/uicontainer.component.ts","./src/app/components/ui/settings/inputs/button/button.component.less","./src/app/configs/master.ts","./src/app/components/ui/settings/inputs/select/select.component.ts","./src/app/components/ui/ui-node-component/ui-node.component.html","./src/app/services/controls/controls.service.ts","./src/app/tools/LogicalOperator.ts","./src/app/core/core.module.ts","./src/app/components/ui/settings/value-accessors/valueAccessors.ts","./src/app/components/ui/settings/inputs/select/select.component.html","./src/app/tools/decorators/InjectedValue/InjectedValue.decorator.ts","./src/app/components/renderers/renderers.ts","./src/app/components/renderers/dom/base.dom-renderer.ts","./src/app/components/document/amp-element/amp-element.component.ts","./src/app/tools/decorators/Mixins/Mixins.decorator.ts","./src/app/components/ui/block-thumb/block-thumb.component.ts","./src/app/components/ui/history/history.component.html","./src/app/components/ui/header/header.component.ts","./src/app/app.component.less","./src/app/services/extra-module-injector/extra-module-injector.ts","./src/app/domain/domain.module.ts","./src/app/components/renderers/html/html-editor/html-editor.component.html","./src/app/components/ui/history/history.component.ts","./src/app/components/ui/settings/inputs/text/text.component.html","./src/app/components/ui/settings/inputs/button/button.component.ts","./src/app/configs/baseBlocks.ts","./src/app/tools/decorators/StateStream/StateStream.decorator.ts","./src/app/components/renderers/dom/ui/ui-renderer.component.ts","./src/app/components/ui/settings/inputs/button/button.component.html","./src/app/components/ui/code-editor/code-editor.component.less","./src/app/components/ui/control-editor-panel/control-editor-panel.component.less","./src/app/components/renderers/css/css-renderer.component.ts","./src/app/components/ui/settings/BaseControlEditSettings.ts","./src/app/components/ui/control-editor-panel/control-editor-panel.component.html","./src/app/components/ui/ui-node-component/ui-node.component.less","./src/main.ts","./src/app/components/ui/preview-panel/preview-panel.component.ts","./src/app/tools/OperationUtils.ts","./src/app/entities/EditorEvent.ts","./src/app/components/renderers/html/html-editor/html-editor.component.ts","./src/app/components/document/external-block-wrapper/external-block-wrapper.component.html"],"names":["console","log","window","block","initialized","defaultTemplate","tag","attributes","width","height","style","children","content","fontFamily","fontSize","fontWeight","shadow","fontStyle","textAlign","fill","src","left","top","angle","opacity","initialize","win","fakeConfig","externalBlocks"],"mappings":"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","file":"main.js","sourcesContent":["export default \"input {\\n  width: 100%;\\n}\\n:host {\\n  background: rgba(173, 216, 230, 0.36);\\n  border: 1px solid rgba(32, 178, 170, 0.43);\\n  padding: 5px;\\n  margin: 5px;\\n}\\n:host:hover {\\n  background: rgba(173, 216, 230, 0.52);\\n  border: 1px solid rgba(32, 178, 170, 0.62);\\n}\\n.input-container {\\n  background: rgba(15, 255, 5, 0.36);\\n  border: 1px solid rgba(0, 255, 95, 0.69);\\n  padding: 10px;\\n}\\n* {\\n  font-size: 12px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2Jhc2UtaW5wdXQtZWRpdC9iYXNlLWlucHV0LWVkaXQuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2Jhc2UtaW5wdXQtZWRpdC9iYXNlLWlucHV0LWVkaXQuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0Y7QURHQTtFQUNFLHFDQUFBO0VBQ0EsMENBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ0RGO0FESUE7RUFDRSxxQ0FBQTtFQUNBLDBDQUFBO0FDRkY7QURLQTtFQUNFLGtDQUFBO0VBQ0Esd0NBQUE7RUFDQSxhQUFBO0FDSEY7QURNQTtFQUNFLGVBQUE7QUNKRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2Jhc2UtaW5wdXQtZWRpdC9iYXNlLWlucHV0LWVkaXQuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5cbjpob3N0IHtcbiAgYmFja2dyb3VuZDogcmdiYSgxNzMsIDIxNiwgMjMwLCAwLjM2KTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzMiwgMTc4LCAxNzAsIDAuNDMpO1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbjogNXB4O1xufVxuXG46aG9zdDpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTczLCAyMTYsIDIzMCwgMC41Mik7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzIsIDE3OCwgMTcwLCAwLjYyKTtcbn1cblxuLmlucHV0LWNvbnRhaW5lcntcbiAgYmFja2dyb3VuZDogcmdiYSgxNSwgMjU1LCA1LCAwLjM2KTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAyNTUsIDk1LCAwLjY5KTtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuKiB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbiIsImlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG59XG46aG9zdCB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTczLCAyMTYsIDIzMCwgMC4zNik7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzIsIDE3OCwgMTcwLCAwLjQzKTtcbiAgcGFkZGluZzogNXB4O1xuICBtYXJnaW46IDVweDtcbn1cbjpob3N0OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgxNzMsIDIxNiwgMjMwLCAwLjUyKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzMiwgMTc4LCAxNzAsIDAuNjIpO1xufVxuLmlucHV0LWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTUsIDI1NSwgNSwgMC4zNik7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMjU1LCA5NSwgMC42OSk7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG4qIHtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuIl19 */\";","import {IterableValueItem, IterableControlValueAccessor} from '../../../../entities/UIObject';\nimport {HtmlConverter} from '../../../../tools/HtmlConverter';\nimport {BaseValueAccessor} from './BaseValueAccessor';\n\nexport class StyleValueAccessor extends BaseValueAccessor implements IterableControlValueAccessor {\n  styleObject: any;\n\n  constructor(styleValue: string) {\n    super();\n    if (typeof styleValue !== 'string') {\n      styleValue = '';\n    }\n    this.styleObject = HtmlConverter.stylesToObject(styleValue);\n  }\n\n  getRawValue(): string {\n    return Object.keys(this.styleObject).map(k => `${k}:${this.styleObject[k]}`).join(';');\n  }\n\n  getValue(valuePath: string): any {\n    return this.getItem(valuePath);\n  }\n\n  setValue(valuePath: string, value: any): any {\n    this.styleObject[valuePath] = value;\n    if (!this.styleObject[valuePath]) {\n      delete this.styleObject[valuePath];\n    }\n  }\n\n  [Symbol.iterator](): Iterator<IterableValueItem> {\n    let pointer = 0;\n    const iterable = this;\n    return {\n      next(value?: any): IteratorResult<any> {\n        if (pointer < Object.keys(iterable.styleObject).length) {\n          const result = {\n            done: false,\n            value: {\n              key: Object.keys(iterable.styleObject)[pointer],\n              value: iterable.styleObject[Object.keys(iterable.styleObject)[pointer]]\n            } as IterableValueItem\n          };\n          pointer++;\n          return result;\n        } else {\n          return {\n            done: true,\n            value: null\n          };\n        }\n      }\n    };\n  }\n\n\n  updateItem(valuePath: string, value: any): void {\n    Object.assign(this.styleObject, value);\n    if (!this.styleObject[valuePath]) {\n      delete this.styleObject[valuePath];\n    }\n  }\n\n\n  getItem(valuePath: string): string {\n    return this.styleObject[valuePath];\n  }\n\n  addItem(item: any): any {\n    Object.assign(this.styleObject, item);\n  }\n\n  removeItem(valuePath: string): any {\n    delete this.styleObject[valuePath];\n  }\n\n\n}\n","import {\n  ReducerOptions,\n  StateStreamOptions,\n  StateSubscriberOptions,\n  EventSubscriberOptions,\n  SubscriberType,\n  SubscriberOptions\n} from '../decorator.types';\n\nfunction addSubscriber(target: any, prop: string, key: string, options: SubscriberOptions): void {\n  let subscribersProp = Object.getOwnPropertyDescriptor(target, prop);\n  if (!subscribersProp) {\n    subscribersProp = Object.defineProperty(target, prop, {\n      value: [\n        ...(target.constructor.prototype[prop] || [])\n      ]\n    });\n  }\n  target[prop].push({key, className: target.constructor.name, ...options});\n}\n\nexport function EventSubscriber(options?: EventSubscriberOptions) {\n  return function (target: any, key: string, descriptor: PropertyDescriptor) {\n    addSubscriber(target, SubscriberType.subscriber, key, options);\n  };\n}\n\nexport function Reducer(options?: ReducerOptions) {\n  return function (target: any, key: string, descriptor: PropertyDescriptor) {\n    addSubscriber(target, SubscriberType.reducer, key, options);\n  };\n}\n\nexport function StateSubscriber(options?: StateSubscriberOptions) {\n  return function (target: any, key: string, descriptor: PropertyDescriptor) {\n    addSubscriber(target, SubscriberType.stateSubscriber, key, options);\n  };\n}\n","import { Component } from '@angular/core';\nimport { BaseInputComponent } from '../base.input.component';\n\n/**\n *   \n */\n\n@Component({\n  selector: 'label',\n  templateUrl: './label.component.html',\n  styleUrls: ['./label.component.less']\n})\nexport class LabelComponent extends BaseInputComponent {\n}\n","console.log(\"win:\",window);\n// import {init, render} from './BannerApp';\n\nconst block = {\n  initialized: false,\n  defaultTemplate: {\n    tag: 'BANNER',\n    attributes: {\n      width: '320',\n      height: '240',\n      style: 'border: 2px solid green;'\n    },\n    children: [\n      {\n        tag: 'TEXT',\n        attributes: {\n          content: 'Hello!',\n          fontFamily: 'Comic Sans',\n          fontSize: 20,\n          fontWeight: 'bold',\n          shadow: 'rgba(100,100,100,0.9) 5px 5px 5px',\n          fontStyle: 'italic',\n          textAlign: 'right',\n          fill: 'green'\n        }\n      },\n      {\n        tag: 'IMG',\n        attributes: {\n          src: 'https://www.ars.usda.gov/ARSUserFiles/oc/images/photos/gallery/camera.jpg',\n          left: 100,\n          top: 100,\n          angle: 30,\n          opacity: 0.85\n        }\n      }\n\n    ]\n  },\n  // render,\n  initialize: (win) => {\n    // init(win);\n    block.initialized = true;\n  }\n};\nexport const fakeConfig = {externalBlocks: [block]};\n","import {HtmlConverter} from '../tools/HtmlConverter';\n\nimport {html as masterHtml, css as masterCss} from './master';\n\nconst html = `\n<div class=\"body\">\n  <div class=\"header\">FAKE Header</div>\n  <div class=\"main\">\n    <div class=\"article\">Article</div>\n    <div class=\"nav\">Nav</div>\n    <div class=\"aside\">Aside</div>\n  </div>\n  <div class=\"footer\">Footer</div>\n</div>\n`;\n\nconst css = `\n * {\n            box-sizing: border-box;\n          }\n          .body {\n            display: flex;\n            min-height: 100%;\n            flex-direction: column;\n            margin: 0;\n          }\n          .main {\n            display: flex;\n            flex: 1;\n          }\n          .main > .article {\n            flex: 1;\n          }\n          .main > .nav,\n          .main > .aside {\n            flex: 0 0 20vw;\n            background: beige;\n          }\n          .main > .nav {\n            order: -1;\n          }\n          .header, .footer {\n            background: yellowgreen;\n            height: 20vh;\n          }\n          .header, .footer, .article, .nav, .aside {\n            padding: 1em;\n          }\n\n`;\n\nexport function getFakeDocument() {\n  return {\n    authorId: 'FAKE_AUTHOR',\n    id: 'FAKE_DOCUMENT',\n    // html: HtmlConverter.HtmlToObject(html)[0],\n    html: HtmlConverter.HtmlToObject(masterHtml)[0],\n    css: {\n      // textValue: css\n      textValue: masterCss\n    }\n  };\n}\n","export default \"<input type=\\\"color\\\" [value]=\\\"value\\\" (change)=\\\"value = $event.target.value\\\">\";","import {Injectable} from '@angular/core';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {UIObject} from '../entities/UIObject';\nimport {EventsService} from './events.service';\nimport {Reducer} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventType, UISetEvent} from '../entities/EditorEvent';\nimport {EditorState} from './state.types';\n\n@Injectable()\n@EditorEventListener()\nexport class UIState {\n  @AsyncValue()\n  @StateStream({stateProperty: 'ui'})\n  // @ts-ignore\n  public ui: UIObject/* = this.ui*/;\n\n  public constructor(private events: EventsService) {\n    console.log('UI state:', this);\n  }\n\n  @Reducer({type: EditorEventType.SET_UI, stateProperty: 'ui'})\n  private onUISet(state: EditorState, e: UISetEvent): UIObject {\n    return e.data;\n  }\n\n  public setUI(ui: UIObject): void {\n    EventsService.dispatch({type: EditorEventType.SET_UI, data: ui});\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {BaseInputComponent} from '../base.input.component';\n\n/**\n *    text\n */\n@Component({\n  selector: 'text',\n  templateUrl: './text.component.html',\n  styleUrls: ['./text.component.less']\n})\nexport class TextComponent extends BaseInputComponent {\n  @Input() type: string = 'text';\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, OnDestroy, OnInit} from '@angular/core';\nimport {BaseNodeComponent} from '../../renderers/dom/base.node-component';\nimport {\n  ConditionConnection,\n  IterableValueItem,\n  UINodeEvent,\n  UIObject,\n  UIRendererMode\n} from '../../../entities/UIObject';\nimport {UIRendererComponent} from '../../renderers/dom/ui/ui-renderer.component';\nimport {cloneDeep, get, set} from 'lodash';\nimport {LogicalOperator} from '../../../tools/LogicalOperator';\n\nexport const baseUIComponentSelector = '[ui-node-component]';\n\n/**\n *     UI,  {@link BaseNodeComponent}\n * <br/>    drag & drop     \n *    [node]{@link UIObject}   {@link UIRendererComponent}\n*/\n@Component({\n  selector: baseUIComponentSelector,\n  templateUrl: './ui-node.component.html',\n  styleUrls: ['./ui-node.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UINodeComponent extends BaseNodeComponent implements OnInit, OnDestroy {\n\n  public id = Math.random();\n  public localState: any = {};\n\n  node: UIObject;\n  container: UIRendererComponent;\n  uiNodeEvent: EventEmitter<UINodeEvent> = new EventEmitter<UINodeEvent>();\n  rendererMode = UIRendererMode.DISPLAY;\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    if (this.node) {\n      this.updateLocalState();\n      Object.keys(this.node.attributes || []).forEach(attr => this.el.nativeElement.setAttribute(attr, this.node.attributes[attr]));\n    }\n  }\n\n  protected updateLocalState() {\n    this.node.localState && Object.assign(this.localState, this.node.localState);\n  }\n\n  protected applyChildBinding(child: UIObject, to: string, from: string, context: any = this): UIObject {\n    if (child.iterate && !from) {\n      set(child, to, cloneDeep(context));\n    } else {\n      set(child, to, cloneDeep(get(context, from)));\n    }\n    return child;\n  }\n\n\n  public applyBindings(child: UIObject, context: any = this): UIObject {\n    child = cloneDeep(child);\n    if (child.bindings) {\n      Object\n        .entries(child.bindings)\n        .forEach(([to, from]) => child = this.applyChildBinding(child, to, from, context));\n    }\n    return child;\n  }\n\n  // todo override in control to check value accessor as well\n  /**\n   *     child    if \n   * @param child\n   */\n  public isChildDisplayed(child: UIObject): boolean {\n    if (!child.if) {\n      return true;\n    }\n\n    let result;\n\n    for (const condition of child.if) {\n\n      const value1 = get(this, condition.prop1);\n      const value2 = condition.prop2 ? get(this, condition.prop2) : condition.value;\n\n      if (!condition.connection) {\n        result = LogicalOperator[condition.comparison](value1, value2);\n      } else if (condition.connection === ConditionConnection.OR && result) {\n        return result;\n      } else {\n        result = LogicalOperator[condition.connection](result, LogicalOperator[condition.comparison](value1, value2));\n      }\n    }\n    return result;\n  }\n\n  public onComponentEvent(event: UINodeEvent, iterableComponentIndex?: string | number): void {\n  }\n\n  // todo CAREFUL MAY MESS UP THINGS\n\n  public trackByPath(index: number, item: UIObject) {\n    return `${index}_${item.path.join(',')}`;\n  }\n\n  public trackByKey(index: number, item: IterableValueItem) {\n    return `${index}_${item.key}`;\n  }\n\n  ngOnDestroy(): void {\n  }\n}\n\n\n\n\n","import {HtmlObject} from '../../../common/entities/HtmlObject';\nimport {Path} from '../../../common/entities/Path';\nimport {DataMethod} from '../../../common/services/dom.data.service';\n\nexport enum UIObjectType {\n  CONTAINER = 'CONTAINER',\n  PREVIEW = 'PREVIEW',\n  CODE_EDITOR = 'CODE_EDITOR',\n  CONTROLS_PANEL = 'CONTROLS_PANEL',\n  HEADER = 'HEADER',\n  CONTROL_EDITOR_PANEL = 'CONTROL_EDITOR_PANEL',\n  ACCORDION = 'ACCORDION',\n  BLOCKS_PANEL = 'BLOCKS_PANEL',\n  BLOCK_THUMB = 'BLOCK_THUMB',\n  PREVIEW_CONTAINER = 'PREVIEW_CONTAINER ',\n  HISTORY = 'HISTORY'\n}\n\nexport enum ControlType {\n  BASE = 'BASE'\n}\n\nexport enum InputType {\n  TEXT = 'TEXT',\n  COLOR = 'COLOR',\n  NUMBER = 'NUMBER',\n  SELECTPICKER = 'SELECTPICKER',\n  TOGGLER = 'TOGGLER',\n  BUTTON = 'BUTTON',\n  DYNAMIC = 'DYNAMIC',\n  LABEL = 'LABEL',\n  INPUT_EDIT = 'INPUT_EDIT'\n}\n\nexport enum ControlUpdateType {\n  DELETE = 'DELETE',\n  INSERT = 'INSERT',\n  MODIFY = 'MODIFY',\n  NONE = 'NONE',\n}\n\nexport type UIObjectTypes = UIObjectType | ControlType | InputType;\n\n\nexport interface ControlValueAccessor {\n  transformer: boolean;\n  structural: boolean;\n\n  getModifiedPath?(): Path;\n\n  getModifiedValue?(): any;\n\n  getRawValue(): any;\n\n  getValue(valuePath: string | number): any;\n\n  setValue(valuePath: string | number, value: any): any;\n\n  isValid(): boolean;\n}\n\n\nexport interface IterableControlValueAccessor extends ControlValueAccessor, Iterable<any> {\n\n  updateItem(valuePath: string | number, value: any): any;\n\n  getItem(valuePath: string | number): any;\n\n  removeItem(valuePath: string | number): any;\n\n  addItem(item: any): any;\n}\n\nexport enum ComparisonType {\n  EQUAL = '===',\n  NOT_EQUAL = '!==',\n  CAST_EQUAL = '=='\n}\n\nexport enum ConditionConnection {\n  OR = 'OR',\n  AND = 'AND'\n}\n\nexport interface DisplayCondition {\n  prop1: string;\n  prop2?: string;\n  value?: any;\n  comparison: ComparisonType;\n  connection?: ConditionConnection;\n}\n\nexport interface UIObject extends HtmlObject {\n  id?: string;\n  tag: UIObjectTypes;\n  children: UIObject[];\n  localState?: any;\n  if?: DisplayCondition[];\n  iterate?: string;\n  bindings?: UINodeBinding;\n}\n\nexport interface IterableValueItem {\n  key: string | number;\n  value: any;\n}\n\nexport interface UINodeBinding {\n  [key: string]: string;\n}\n\nexport interface SettingsObject extends UIObject {\n  value?: any;\n  /**\n   *       value accessor\n   */\n  updateType?: ControlUpdateType;\n  id?: string;\n}\n\nexport interface ControlObject extends SettingsObject {\n  tag: ControlType;\n  children: (ControlObject | InputObject)[];\n  // object that will provide control's children requested values\n  valueAccessor: ControlValueAccessorType;\n}\n\nexport interface InputObject extends SettingsObject {\n  tag: InputType;\n  dynamicFromTypes?: InputType[];\n}\n\n\nexport interface BlockConfig {\n  controls: ControlObject[];\n}\n\nexport enum ControlValueAccessorType {\n  STYLE = 'STYLE',\n  TEXT = 'TEXT',\n  FORM = 'FORM',\n  DOM = 'DOM',\n  GROUP_DOM = 'GROUP_DOM',\n  BUFF = 'BUFF'\n}\n\nexport enum UINodeEventType {\n  CONTROL_VALUE_UPDATE = 'CONTROL_VALUE_UPDATE',\n  CONTROL_PROPERTY_UPDATED = 'CONTROL_PROPERTY_UPDATED',\n}\n\nexport interface UINodeEvent {\n  type: UINodeEventType;\n  emitter?: any;\n}\n\nexport interface UpdateSummary {\n  modifiedPath: Path;\n  modifiedProperty: string;\n  value: any;\n  // updateType: ControlUpdateType;\n  dataMethod: DataMethod;\n}\n\nexport interface ControlUpdatedEvent extends UINodeEvent {\n  emitter?: SettingsObject;\n  // modifiedPath?: Path;\n  summary?: UpdateSummary;\n}\n\n/**\n *  \n */\nexport enum UIRendererMode {\n  EDIT = 'EDIT',\n  DISPLAY = 'DISPLAY'\n}\n\n","export default \"/*\\n:host {\\n  display: block;\\n  border: 1px solid red;\\n  height: 100%;\\n  width: 100%;\\n  overflow-y: auto;\\n}\\n\\n.test {\\n  color: red\\n}\\n*/\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy91aS9wcmV2aWV3LXBhbmVsL3ByZXZpZXctcGFuZWwuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztDQVlDIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS9wcmV2aWV3LXBhbmVsL3ByZXZpZXctcGFuZWwuY29tcG9uZW50Lmxlc3MifQ== */\";","import {NgModule} from '@angular/core';\nimport {ControlsService} from './controls/controls.service';\nimport {CustomBlocksService} from './custom-blocks/custom-blocks.service';\nimport {ExtraModuleInjector} from './extra-module-injector/extra-module-injector';\nimport {NodeWrapperService} from './node-wrapper/node-wrapper.service';\n\n@NgModule({\n    imports: [\n    ],\n    declarations: [],\n    exports: [],\n    providers: [\n        ControlsService,\n        CustomBlocksService,\n        ExtraModuleInjector,\n        NodeWrapperService\n    ]\n})\nexport class ServicesModule {\n\n}\n","import {HtmlObject} from '../../../../../../../ui-editor-common/entities/HtmlObject';\nimport {NodeUtils} from '../../../../../../../ui-editor-common/tools/NodeUtils';\nimport {IterableControlValueAccessor} from '../../../../entities/UIObject';\nimport {DomNodeAccessor} from './DomNodeAccessor';\n\nexport class GroupDomNodeAccessor extends DomNodeAccessor implements IterableControlValueAccessor {\n\n  constructor(node: HtmlObject) {\n    super(node);\n  }\n\n\n  setValue(valuePath: string, value: HtmlObject): void {\n    if (valuePath) {\n      const domNodes = (<Element>this.getDomNode()).querySelectorAll(valuePath);\n      if (domNodes) {\n        Array.from(domNodes).forEach(node => {\n          const oldNode = this.getNodeByDomNode(node);\n          value.path = oldNode.path;\n          NodeUtils.reIndexNodeChildren(value);\n          Object.assign(oldNode, value);\n        });\n      }\n\n      return;\n    }\n\n    super.setValue(valuePath, value);\n  }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {EventsService} from '../state/events.service';\nimport {DocumentSetEvent, EditorEventType} from '../entities/EditorEvent';\nimport {Patch} from '../../../../ui-editor-common/entities/Patch';\nimport {WSMessages} from '../../../../ui-editor-common/entities/WSMessages';\nimport {EventSubscriber, StateSubscriber} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {ApplicationState} from '../state/state.types';\nimport {BehaviorableNode} from '../entities/BehaviorableNode';\nimport {ConfigStateService} from '../state/config.state.service';\nimport {DocumentStateService} from '../state/document.state.service';\n\n@Injectable()\n@EditorEventListener()\nexport class WebsocketService {\n  @AsyncValue()\n  @StateStream({stateProperty: 'applicationState'})\n  // @ts-ignore\n  private applicationState: ApplicationState/* = this.applicationState*/;\n  private ws: WebSocket;\n\n  // todo POC\n  public connected: boolean;\n\n  public constructor(private configState: ConfigStateService,\n                     private documentState: DocumentStateService) {\n    window['ws'] = this;\n  }\n\n  @EventSubscriber({type: EditorEventType.SET_DOCUMENT})\n  private onDocumentSet(e: DocumentSetEvent): void {\n    e.data && this.connectToPatchService(e.data.id);\n  }\n\n  @StateSubscriber({stateProperty: 'applicationState.selectedNode'})\n  private onNodeSelected(node: BehaviorableNode) {\n    this.sendWSMessage(WSMessages.NODE_SELECTED, {\n      path: node ? node.path : null,\n      // documentId: this.data.getDocumentId()\n      documentId: this.documentState.getDocumentId()\n    });\n  }\n\n  private onRemoteNodeSelect(data): void {\n    EventsService.dispatch({\n      type: EditorEventType.UPDATE_APP_STATE,\n      data: {\n        selectedRemoteNodes: [...this.applicationState.selectedRemoteNodes, {node: this.documentState.getChildByPath(data.path), ...data}]\n      }\n    });\n\n  }\n\n  private onRemotePatch(data) {\n    console.log('onRemotePatch', data);\n    EventsService.dispatch({type: EditorEventType.REMOTE_UPDATE, data});\n  }\n\n  public sendWSMessage(event: WSMessages, data: any): void {\n    console.log('sendWSMessage', event, data);\n    this.ws && this.ws.send(JSON.stringify({event, data}));\n  }\n\n  public savePatch(patch: Patch): void {\n    console.log('savePatch:', patch);\n    this.sendWSMessage(WSMessages.PATCH, patch);\n    EventsService.dispatch({type: EditorEventType.USER_UPDATE, data: patch});\n  }\n\n  public connectToPatchService(documentId: any): void {\n    const HOST = this.configState.getWSHost();\n    this.ws = new WebSocket(HOST);\n\n    this.ws.onopen = () => {\n      this.sendWSMessage(WSMessages.CONNECT, {documentId});\n      this.connected = true;\n    };\n\n    this.ws.onmessage = e => {\n      console.log('got WS message:', e);\n      try {\n        const data = JSON.parse(e.data);\n        this[data.type] && this[data.type](data.data);\n      } catch (err) {\n        console.warn('WS error:', err);\n      }\n    };\n\n    this.ws.onclose = () => {\n      console.log('closed');\n      this.ws.close();\n    };\n  }\n\n  public disconnect(): void {\n    this.ws.close();\n    this.connected = false;\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {RepositoryService} from './repository.service';\nimport {WebsocketService} from './websocket.service';\nimport {HttpClientModule} from '@angular/common/http';\n\n@NgModule({\n    imports: [\n        HttpClientModule,\n    ],\n    declarations: [],\n    exports: [],\n    providers: [\n        RepositoryService,\n        WebsocketService\n    ]\n})\nexport class ApiModule {\n\n}\n","export enum BaseNodes {\n  DIV = 'DIV',\n  SPAN = 'SPAN',\n  H1 = 'H1',\n  H2 = 'H2',\n  H3 = 'H3',\n  A = 'A',\n  IMG = 'IMG',\n  SECTION = 'SECTION',\n  TABLE = 'TABLE',\n  TBODY = 'TBODY',\n  TR = 'TR',\n  TD = 'TD',\n  AMP_ELEMENT = 'AMP-ELEMENT',\n  CUSTOM_BLOCK_WRAPPER = 'CUSTOM-BLOCK-WRAPPER',\n}\n","import {HtmlNodeType, HtmlObject} from '../../../../../../../ui-editor-common/entities/HtmlObject';\nimport {BaseValueAccessor} from './BaseValueAccessor';\nimport {HtmlConverter} from '../../../../tools/HtmlConverter';\nimport {NodeUtils} from '../../../../../../../ui-editor-common/tools/NodeUtils';\nimport {IterableControlValueAccessor, IterableValueItem} from '../../../../entities/UIObject';\nimport {Path} from '../../../../../../../ui-editor-common/entities/Path';\n\nexport class DomNodeAccessor extends BaseValueAccessor implements IterableControlValueAccessor {\n  private modifiedPath: Path;\n  protected node;\n\n  public structural = true;\n\n  constructor(node: HtmlObject) {\n    super();\n    this.node = node;\n  }\n\n  protected getDomNode() {\n    return HtmlConverter.parseObject(this.node, true);\n  }\n\n  protected getNodeByDomNode(domNode: Element): HtmlObject {\n    const fullPath = domNode\n      .getAttribute('path')\n      .split(',')\n      .map(e => parseInt(e, 10));\n\n    const relativePath = fullPath.slice(this.node.path.length);\n    return NodeUtils.getChildByPath(this.node, relativePath);\n  }\n\n  protected getIterableItems(): HtmlObject[] {\n    return this.node.children.filter(c => c.type === HtmlNodeType.ELEMENT_NODE);\n  }\n\n  getRawValue(): HtmlObject {\n    return this.node;\n  }\n\n  getValue(valuePath: string): HtmlObject {\n    if (valuePath) {\n      const domNode = (<Element>this.getDomNode()).querySelector(valuePath);\n      if (domNode) {\n        return this.getNodeByDomNode(domNode);\n      }\n      return null;\n    }\n    return this.node;\n  }\n\n  setValue(valuePath: string, value: HtmlObject): void {\n    if (valuePath) {\n      const domNode = (<Element>this.getDomNode()).querySelector(valuePath);\n      if (domNode) {\n        const oldNode = this.getNodeByDomNode(domNode);\n        value.path = oldNode.path;\n        NodeUtils.reIndexNodeChildren(value);\n        Object.assign(oldNode, value);\n        this.modifiedPath = oldNode.path;\n      }\n\n      return;\n    }\n\n    value.path = this.node.path;\n    NodeUtils.reIndexNodeChildren(value);\n    this.node = value;\n    this.modifiedPath = this.node.path;\n  }\n\n  [Symbol.iterator](): Iterator<IterableValueItem> {\n    let pointer = 0;\n    const iterableItems = this.getIterableItems();\n    return {\n      next(value?: any): IteratorResult<any> {\n        if (pointer < iterableItems.length) {\n          const result = {\n            done: false,\n            value: {\n              key: pointer,\n              value: iterableItems[pointer]\n            } as IterableValueItem\n          };\n          pointer++;\n          return result;\n        } else {\n          return {\n            done: true,\n            value: null\n          };\n        }\n      }\n    };\n  }\n\n  // todo maybe should be moved to another accessor\n  addItem(item: HtmlObject): any {\n    item.tag = item.tag.toUpperCase();\n    this.node.children.push({\n      attributes: {},\n      children: [],\n      path: [],\n      type: HtmlNodeType.ELEMENT_NODE,\n      ...item\n    });\n    NodeUtils.reIndexNodeChildren(this.node);\n    this.modifiedPath = this.node.children[this.node.children.length - 1].path;\n  }\n\n  getItem(valuePath: number): any {\n    return this.node.children[valuePath];\n  }\n\n  removeItem(valuePath: number): any {\n    const iterableItems = this.getIterableItems();\n    this.modifiedPath = iterableItems[valuePath].path;\n    this.node.children = this.node.children.filter(c => c !== iterableItems[valuePath]);\n    NodeUtils.reIndexNodeChildren(this.node);\n  }\n\n  updateItem(valuePath: number, value: HtmlObject): any {\n    const iterableItems = this.getIterableItems();\n    const oldItem = iterableItems[valuePath];\n    value.path = oldItem.path;\n    NodeUtils.reIndexNodeChildren(value);\n    Object.assign(oldItem, value);\n    this.modifiedPath = oldItem.path;\n  }\n\n  public getModifiedPath(): Path {\n    return this.modifiedPath;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL3RleHQvdGV4dC5jb21wb25lbnQubGVzcyJ9 */\";","import {\n  Component,\n  ComponentFactoryResolver,\n  Injector, Input,\n  OnDestroy,\n  OnInit,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport {BaseDomRenderer} from '../base.dom-renderer';\nimport {DocumentNodeComponent} from '../../../document/document-node-component/document-node.component';\nimport {BaseNodeComponent} from '../base.node-component';\nimport {documentNodeComponents, documentNodeComponentsMap} from '../../../document/document-node-component/document-node-components';\nimport {HtmlObject} from '../../../../../../../ui-editor-common/entities/HtmlObject';\nimport {BaseNodes} from '../../../../entities/BaseNodes';\n\n/**\n *     (email)\n * <br/> node  {@link HtmlObject}\n */\n@Component({\n  selector: 'document-renderer',\n  template: '',\n  entryComponents: documentNodeComponents,\n})\nexport class DocumentRendererComponent extends BaseDomRenderer implements OnInit, OnDestroy {\n  @Input() node: HtmlObject;\n  component: DocumentNodeComponent;\n\n  constructor(injector: Injector, componentFactoryResolver: ComponentFactoryResolver, viewContainerRef: ViewContainerRef) {\n    super(injector, componentFactoryResolver, viewContainerRef);\n  }\n\n  protected getComponentType(): Type<BaseNodeComponent> {\n    if (this.node.externalBlock) {\n      return documentNodeComponentsMap[BaseNodes.CUSTOM_BLOCK_WRAPPER];\n    }\n    return documentNodeComponentsMap[this.node.tag] || documentNodeComponentsMap['DIV'];\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {\n    Action,\n    DeleteAction,\n    InsertAction,\n    MoveAction,\n    UpdateAction\n} from '../../../../ui-editor-common/entities/Action';\nimport {HtmlObject} from '../../../../ui-editor-common/entities/HtmlObject';\nimport {DataMethod} from '../../../../ui-editor-common/services/dom.data.service';\nimport {UpdateSummary} from '../entities/UIObject';\nimport {ControlUtils} from '../tools/ControlUtils';\nimport {Path} from '../../../../ui-editor-common/entities/Path';\nimport {cloneDeep, get} from 'lodash';\nimport {DocumentStateService} from '../state/document.state.service';\n\n@Injectable()\nexport class ActionsService {\n    // todo maybe all objects should be deep cloned, investigate\n    constructor(private documentState: DocumentStateService) {\n\n    }\n\n    public getNodeUpdateAction(oldNode: HtmlObject, modifiedPath: Path, modifiedProperty: string, modifiedValue: any): UpdateAction {\n        return {\n            do: {\n                path: [...modifiedPath],\n                method: DataMethod.UPDATE,\n                attribute: modifiedProperty,\n                value: cloneDeep(modifiedValue),\n            },\n            undo: {\n                path: [...modifiedPath],\n                method: DataMethod.UPDATE,\n                attribute: modifiedProperty,\n                value: cloneDeep(modifiedProperty ? get(oldNode, modifiedProperty) : oldNode),\n            }\n        };\n    }\n\n    public getNodeDeleteAction(path: Path, nodes: HtmlObject[]): DeleteAction {\n        return {\n            do: {\n                path: [...path],\n                count: nodes.length,\n                method: DataMethod.DELETE\n            },\n            undo: {\n                path: [...path],\n                nodes: cloneDeep(nodes),\n                method: DataMethod.INSERT\n            }\n        };\n    }\n\n    public getNodeInsertAction(path: Path, nodes: HtmlObject[]): InsertAction {\n        return {\n            do: {\n                path: [...path],\n                nodes: cloneDeep(nodes),\n                method: DataMethod.INSERT\n            },\n            undo: {\n                path: [...path],\n                count: nodes.length,\n                method: DataMethod.DELETE\n            }\n        };\n    }\n\n    public getNodeMoveAction(from: Path, to: Path): MoveAction {\n        return {\n            do: {\n                path: [...from],\n                method: DataMethod.MOVE,\n                destinationPath: [...to]\n            },\n            undo: {\n                path: [...to],\n                method: DataMethod.MOVE,\n                destinationPath: [...from]\n            }\n        };\n    }\n\n    public getActionBySummary(previousNodeValue: HtmlObject, summary: UpdateSummary): Action {\n        if (summary.dataMethod === DataMethod.UPDATE) {\n            const modifiedProperty = ControlUtils.getModifiedProperty(summary.modifiedProperty);\n            const oldNode = summary.modifiedPath ? this.documentState.getChildByPath(summary.modifiedPath) : previousNodeValue;\n            return this.getNodeUpdateAction(oldNode, summary.modifiedPath || oldNode.path, modifiedProperty, summary.value);\n        } else if (summary.dataMethod === DataMethod.DELETE) {\n\n        } else if (summary.dataMethod === DataMethod.INSERT) {\n\n        }\n        return null;\n    }\n\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {\n  ControlObject,\n  ControlType,\n  ControlValueAccessorType,\n  SettingsObject,\n  UINodeEventType,\n  UIRendererMode\n} from '../../../entities/UIObject';\nimport {HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {ControlPanelComponent} from '../control-panel/control-panel.component';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {cloneDeep} from 'lodash';\nimport {NodeWrapperService} from '../../../services/node-wrapper/node-wrapper.service';\nimport {ControlsService} from '../../../services/controls/controls.service';\nimport {StateSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {ControlUtils} from '../../../tools/ControlUtils';\nimport {BehaviorableNode} from '../../../entities/BehaviorableNode';\nimport {DomDataService} from '../../../../../../ui-editor-common/services/dom.data.service';\n\n/**\n *  /     .  {@link ControlPanelComponent}\n *      CONTROL_EDITOR_PANEL {@link UIObjectType}\n * */\n@Component({\n  selector: 'control-editor-panel',\n  templateUrl: './control-editor-panel.component.html',\n  styleUrls: ['./control-editor-panel.component.less', '../base-nodes-container/base-nodes-container.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n@EditorEventListener()\nexport class ControlEditorPanelComponent extends ControlPanelComponent implements OnInit, OnDestroy {\n  rendererMode = UIRendererMode.EDIT;\n  editedNode: HtmlObject;\n\n  public constructor(events: EventsService,\n                     actionManager: ActionManagerService,\n                     actions: ActionsService,\n                     cdr: ChangeDetectorRef,\n                     el: ElementRef,\n                     private wrapper: NodeWrapperService,\n                     private controls: ControlsService,\n                     injector: Injector) {\n    super(events, actionManager, actions, cdr, el, injector);\n  }\n\n  private cleanConfig(node: SettingsObject) {\n    delete node.value;\n    node.children.forEach(n => this.cleanConfig(n));\n  }\n\n  private getCleanControlConfig(): ControlObject {\n    const config = cloneDeep(this.applicationState.controlsDataService.data.html);\n    this.cleanConfig(config);\n    return config;\n  }\n\n  @StateSubscriber({stateProperty: 'applicationState.selectedNode', definedOnly: true})\n  protected onNodeSelected(node: BehaviorableNode) {\n    this.editedNode = node.getHtmlObjectValue();\n    if (!this.applicationState.controlsDataService) {\n      this.applicationState = {\n        controlsDataService: new DomDataService({\n          html: this.applicationState.editedControl || {\n            ...ControlUtils.defaultControlProperties,\n            tag: ControlType.BASE,\n            valueAccessor: ControlValueAccessorType.BUFF,\n            children: [],\n            bindings: {value: 'editedNode'}\n          }\n        } as any)\n      };\n    } else {\n      this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n    }\n  }\n\n  public exit(): void {\n    this.applicationState = {\n      addingControl: false,\n      controlsDataService: undefined,\n      editedControl: undefined,\n    };\n    this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n  }\n\n  public save(): void {\n    this.controls.saveControl(this.getCleanControlConfig(), this.editedNode.customBlockId);\n    this.wrapper.selectNode(this.editedNode);\n    this.exit();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {cloneDeep} from 'lodash';\nimport {RepositoryService} from '../../api/repository.service';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {CustomBlock} from '../../../../common/entities/CustomBlock';\nimport {HtmlObject} from '../../../../common/entities/HtmlObject';\nimport {EditorEventListener} from '../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {AsyncValue} from '../../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../../tools/decorators/StateStream/StateStream.decorator';\nimport {ApplicationConfig} from '../../entities/ApplicationConfig';\n\n// todo add to blocks state\n\n@Injectable()\n@EditorEventListener()\nexport class CustomBlocksService {\n\n  // @ts-ignore\n  @AsyncValue() @StateStream({stateProperty: 'config'}) public config: ApplicationConfig/* = this.config*/;\n  customBlocks: CustomBlock[];\n  documentId: string;\n\n  constructor(private repository: RepositoryService) {\n    this.documentId = window.location.pathname.replace('/', '') || '1';\n  }\n\n  public getCustomBlocks(): Observable<CustomBlock[]> {\n\n    if (this.config.useFakeData) {\n      this.customBlocks = [];\n    }\n\n    if (this.customBlocks) {\n      return of(this.customBlocks);\n    }\n\n    return this.repository\n      .loadBlocks(this.documentId)\n      .pipe(\n        map(blocks => {\n          this.customBlocks = blocks;\n          return this.customBlocks;\n        })\n      );\n  }\n\n  public saveCustomBlock(id: string, node: HtmlObject): void {\n    const block: CustomBlock = cloneDeep({...node, customBlockId: id, path: null, documentId: this.documentId});\n    this.customBlocks.push(block);\n    this.repository\n      .createBlock(block, this.documentId)\n      .subscribe(() => console.log('block created'), e => console.error('failed to store block', e));\n  }\n}\n","import {EventsService} from './events.service';\nimport {EditorState} from './state.types';\nimport {ConnectableObservable, Observable} from 'rxjs';\nimport {distinctUntilChanged, map, publishReplay, scan} from 'rxjs/operators';\nimport {EditorEvent} from '../entities/EditorEvent';\nimport {Injectable} from '@angular/core';\nimport {EventSubscriberOptions, ReducerOptions, StateSubscriberOptions} from '../tools/decorators/decorator.types';\nimport {get, set} from 'lodash';\nimport {LogMethod} from '../tools/decorators/Log/Log.decorator';\nimport {SharedSubscription} from '../tools/SharedSubscription';\n\n@Injectable()\nexport class StateManagerService {\n    private static reducersMap: { [type: string]: ReducerOptions[] } = {};\n    private static initialState: EditorState = {} as any;\n    private static reducers: ReducerOptions[] = [];\n    private static $state: ConnectableObservable<EditorState> = EventsService.getDispatcher()\n        .pipe(\n            scan(StateManagerService.reducer, StateManagerService.initialState),\n            distinctUntilChanged(),\n            publishReplay(1),\n        ) as ConnectableObservable<EditorState>;\n    private static subscribers = new SharedSubscription<StateSubscriberOptions>(\n        StateManagerService.$state,\n        StateManagerService.isTargetSubscriber,\n        StateManagerService.isInvalidSubscriber,\n        true\n    );\n\n    constructor() {\n        StateManagerService.$state.connect();\n        console.log('CONNECTED', StateManagerService.$state);\n        console.log('state:', this);\n        StateManagerService.$state.subscribe(value => {\n            console.log('%cSTATE UPDATED:', 'font-weight:bold;color:red;', value);\n        });\n    }\n\n    private static isTargetSubscriber(subscriber: StateSubscriberOptions, state: EditorState): boolean {\n        // console.log(\"isTargetSubscriber\", subscriber, state)\n        // if (!subscriber.stateProperty) {\n        //     return true;\n        // }\n        // return get(state, subscriber.stateProperty) !== get(StateManagerService.previousState || {}, subscriber.stateProperty);\n\n        const value = !subscriber.stateProperty ? state : get(state, subscriber.stateProperty);\n        // const previousValue = !subscriber.stateProperty ? StateManagerService.previousState :\n        //     get(StateManagerService.previousState, subscriber.stateProperty);\n        const previousValue = subscriber.previousSentValue;\n\n        const r =  value !== previousValue && (!subscriber.definedOnly || !!value);\n        // console.log(\"check:\",r);\n        return  r;\n    }\n\n    private static isInvalidSubscriber(subscriber: StateSubscriberOptions): boolean {\n        return subscriber.context.destroyed;\n    }\n\n    private static reducer(state: EditorState, action: EditorEvent): EditorState {\n        const matchingReducers = StateManagerService.reducersMap[action.type] || [];\n        matchingReducers.forEach(r => {\n            try {\n                state = StateManagerService.applyReducer(state, action, r);\n            } catch (e) {\n                console.error('Reducer error:', r, e);\n            }\n        });\n        return state;\n    }\n\n    // @LogMethod()\n    private static applyReducer(state: EditorState, action: EditorEvent, options: ReducerOptions): EditorState {\n        if (!options.stateProperty) {\n            return {...options.reducer(state, action)};\n        }\n        const oldPropertyValue = get(state, options.stateProperty);\n        const newPropertyValue = {...options.reducer(oldPropertyValue, action)};\n        state = {...state};\n        set(state, options.stateProperty, newPropertyValue);\n        return state;\n    }\n\n    public static addReducer(options: ReducerOptions): Function {\n        StateManagerService.reducersMap[options.type] = StateManagerService.reducersMap[options.type] || [];\n        StateManagerService.reducersMap[options.type].push(options);\n        return () => {\n            StateManagerService.reducersMap[options.type] = StateManagerService.reducersMap[options.type].filter(o => o !== options);\n        };\n    }\n\n    public static getStatePropertyStream(prop: string): Observable<EditorState | any> {\n        return StateManagerService.$state.pipe(map(state => prop ? get(state, prop) : state));\n    }\n\n    public static addSubscriber(subscriber: StateSubscriberOptions): Function {\n        return this.subscribers.addSubscriber({\n            options: subscriber,\n            invoke: function (state) {\n                const value = subscriber.stateProperty ? get(state, subscriber.stateProperty) : state;\n                this.previousSentValue = value;\n                subscriber.context[subscriber.key].call(subscriber.context, value);\n            }\n        });\n    }\n}\n","export default \":host {\\n  display: block;\\n  border: 1px solid green;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvY29udHJvbC1wYW5lbC9jb250cm9sLXBhbmVsLmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC9jb21wb25lbnRzL3VpL2NvbnRyb2wtcGFuZWwvY29udHJvbC1wYW5lbC5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3VpL2NvbnRyb2wtcGFuZWwvY29udHJvbC1wYW5lbC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyZWVuO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbn1cbiIsIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyZWVuO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuIl19 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvYmxvY2tzLXBhbmVsL2Jsb2Nrcy1wYW5lbC5jb21wb25lbnQubGVzcyJ9 */\";","import {NgModule} from '@angular/core';\nimport {EventsService} from './events.service';\nimport {UIState} from './ui-state.service';\nimport {AppStateService} from './app.state.service';\nimport {ConfigStateService} from './config.state.service';\nimport {DocumentStateService} from './document.state.service';\nimport {StateManagerService} from './state-manager.service';\n\n@NgModule({\n    imports: [\n    ],\n    declarations: [],\n    exports: [],\n    providers: [\n        StateManagerService,\n        AppStateService,\n        ConfigStateService,\n        DocumentStateService,\n        EventsService,\n        UIState\n    ]\n})\nexport class StateModule {\n\n}\n","export default \"<css-renderer></css-renderer>\\n<!--<document-renderer [node]=\\\"data.data.html\\\" *ngIf=\\\"data.data\\\"></document-renderer>-->\\n<!--<document-renderer [node]=\\\"d\\\" *ngIf=\\\"d\\\"></document-renderer>-->\\n<!--<document-renderer [node]=\\\"documentHtml | async\\\"></document-renderer>-->\\n\\n<document-renderer\\n  *ngIf=\\\"html$ | async as html\\\"\\n  [node]=\\\"html\\\">\\n</document-renderer>\\n\\n<!--<iframe #frame (load)=\\\"onFrameLoad(frame)\\\"></iframe>-->\\n\";","import {HtmlNodeType, HtmlObject} from '../../../../../../../ui-editor-common/entities/HtmlObject';\nimport {BaseValueAccessor} from './BaseValueAccessor';\nimport {Path} from '../../../../../../../ui-editor-common/entities/Path';\n\n\nexport class TextValueAccessor extends BaseValueAccessor {\n  private node: HtmlObject;\n  private text: HtmlObject;\n\n  constructor(node: HtmlObject) {\n    super();\n    if (node) {\n      this.node = node;\n      if (this.node.children[0] && this.node.children[0].type === HtmlNodeType.TEXT_NODE) {\n        this.text = this.node.children[0];\n      } else {\n        this.createText();\n      }\n    }\n  }\n\n  private createText(): void {\n    this.node.children[0] = {\n      type: HtmlNodeType.TEXT_NODE, attributes: undefined, children: [], content: '', path: [], tag: '',\n    };\n    this.text = this.node.children[0];\n  }\n\n  getRawValue(): HtmlObject {\n    return this.node;\n  }\n\n  getValue(valuePath: string): string {\n    if (this.text) {\n      return this.text.content;\n    }\n  }\n\n  setValue(valuePath: string, value: any): void {\n    if (this.text) {\n      this.text.content = value;\n    }\n  }\n\n  public getModifiedPath(): Path {\n    return this.text.path;\n  }\n\n  getModifiedValue() {\n    return this.text;\n  }\n\n}\n","export default \"iframe {\\n  background-color: transparent;\\n  border: 0px none transparent;\\n  padding: 0px;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvcHJldmlldy1wYW5lbC9wcmV2aWV3LXBhbmVsLWNvbnRhaW5lci5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvY29tcG9uZW50cy91aS9wcmV2aWV3LXBhbmVsL3ByZXZpZXctcGFuZWwtY29udGFpbmVyLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsNkJBQUE7RUFDQSw0QkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUVBLFdBQUE7RUFDQSxZQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3VpL3ByZXZpZXctcGFuZWwvcHJldmlldy1wYW5lbC1jb250YWluZXIuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbmlmcmFtZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXI6IDBweCBub25lIHRyYW5zcGFyZW50O1xuICBwYWRkaW5nOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIC8vcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuIiwiaWZyYW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogMHB4IG5vbmUgdHJhbnNwYXJlbnQ7XG4gIHBhZGRpbmc6IDBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbiJdfQ== */\";","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {HtmlAttributes, HtmlNodeType, HtmlObject} from '../../../common/entities/HtmlObject';\nimport {BlockConfig} from './UIObject';\nimport {cloneDeep} from 'lodash';\n\n// @LogClass()\nexport class BehaviorableNode implements HtmlObject {\n  private nodeKeys;\n\n  tag: string;\n  type: HtmlNodeType;\n  attributes: HtmlAttributes;\n  children: HtmlObject[];\n  path: number[];\n  config: BlockConfig;\n\n  public constructor(node: HtmlObject, config: BlockConfig) {\n    node = cloneDeep(node);\n    this.nodeKeys = Object.keys(node);\n    this.nodeKeys.forEach(k => this[k] = node[k]);\n    this.config = cloneDeep(config);\n  }\n\n  // @LogMethod()\n  public getHtmlObjectValue(): HtmlObject {\n    const object = {} as HtmlObject;\n    this.nodeKeys.forEach(k => object[k] = this[k]);\n    return object;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HtmlObject} from '../../../../common/entities/HtmlObject';\nimport {BehaviorableNode} from '../../entities/BehaviorableNode';\nimport {ControlsService} from '../controls/controls.service';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {EventsService} from '../../state/events.service';\nimport {EditorEventType} from '../../entities/EditorEvent';\n\n/**\n * ,    [] {@link HtmlObject}   \n * BehaviorableNode(      )   UPDATE_APP_STATE  selectedNode = BehaviorableNode\n */\n@Injectable()\nexport class NodeWrapperService {\n\n  constructor(private controls: ControlsService) {\n  }\n\n  public getBehaviorableNode(node: HtmlObject): Observable<BehaviorableNode> {\n    return this.controls\n      .getControls(node.customBlockId)\n      .pipe(\n        map((controls) => new BehaviorableNode(node, {controls}))\n      );\n  }\n\n  public selectNode(node: HtmlObject): void {\n    this.getBehaviorableNode(node)\n      .subscribe(n => EventsService.dispatch({\n        type: EditorEventType.UPDATE_APP_STATE,\n        data: {selectedNode: n}\n      }));\n  }\n}\n","export default class DecoratorTools {\n\n  public static defineProperty(target, key) {\n\n    const valueKey = '_' + key;\n    const getter = function () {\n      const value = this[valueKey];\n      return value;\n    };\n\n    const setter = function (newValue) {\n      this[valueKey] = newValue;\n    };\n\n    Object.defineProperty(target, key, {\n      get: getter,\n      set: setter,\n      enumerable: true,\n      configurable: true\n    });\n\n    return Object.getOwnPropertyDescriptor(target, key);\n  }\n\n  public static getPropertyDescriptor(target: Object, key: string): PropertyDescriptor {\n    let propertyDescriptor = Object.getOwnPropertyDescriptor(target, key);\n    if (!propertyDescriptor) {\n      propertyDescriptor = DecoratorTools.defineProperty(target, key);\n    }\n    return propertyDescriptor;\n  }\n\n  public static getMethodDescriptor(target: Object, key: string): PropertyDescriptor {\n    let methodDescriptor = Object.getOwnPropertyDescriptor(target, key);\n    // if (!methodDescriptor) {\n    //   methodDescriptor = DecoratorTools.defineMethod(target, key);\n    // }\n    return methodDescriptor;\n  }\n\n  public static redefineAccessors(target, key, newAccessorsGetter) {\n    const propertyDescriptor = DecoratorTools.getPropertyDescriptor(target, key);\n    const _get = propertyDescriptor.get;\n    const _set = propertyDescriptor.set;\n\n    Object.defineProperty(target, key, newAccessorsGetter(_get, _set));\n  }\n\n  public static redefineObjectMethod(target, methodName, newMethodGetter): void {\n    const method = target[methodName];\n    target[methodName] = newMethodGetter(method);\n  }\n\n  public static customExtend(derivedCtor: any, baseCtors: any[]) {\n    for (let i = 0, len = baseCtors.length; i < len; i++) {\n      const baseCtor = baseCtors[i];\n      const propertyKeys = Object.getOwnPropertyNames(baseCtor.prototype);\n      for (let j = 0, len2 = propertyKeys.length; j < len2; j++) {\n        const name = propertyKeys[j];\n        derivedCtor.prototype[name] = baseCtor.prototype[name];\n      }\n    }\n  }\n\n  public static decorateConstructor(original, cb) {\n    const decorated = new Proxy(original, {\n      construct(clss, params, newTarget) {\n        // console.log('A1:', arguments);\n        const doConstruct = () => Reflect.construct(clss, params, newTarget);\n        return cb(doConstruct, params);\n      },\n      apply(target, thisArg, params) {\n        // console.log('A2', arguments);\n        // console.log('thisArg', thisArg);\n        const doCall = () => target.call(thisArg, ...params);\n        if (target === original) {\n          return cb(doCall, params, thisArg);\n        }\n        return doCall();\n      }\n    });\n\n    const metaDataKeys = Reflect['getMetadataKeys'](original);\n    metaDataKeys.forEach(function (key) {\n      Reflect['defineMetadata'](key, Reflect['getOwnMetadata'](key, original), decorated);\n    });\n\n    return decorated;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2NvbG9yL2NvbG9yLmNvbXBvbmVudC5sZXNzIn0= */\";","export default \"<div class=\\\"service-element block-thumb\\\">\\n  {{localState.block.customBlockId || localState.block.tag}}\\n</div>\\n\";","import {HtmlDocument} from '../entities/HtmlDocument';\nimport {HtmlObject} from '../entities/HtmlObject';\nimport {NodeUtils} from '../tools/NodeUtils';\nimport {DeleteCommand, InsertCommand, MoveCommand, UpdateCommand} from '../entities/Command';\n\nexport enum DataMethod {\n  UPDATE = 'updateNode',\n  DELETE = 'removeNodes',\n  INSERT = 'insertNodes',\n  MOVE = 'moveNodes'\n}\n\n/** @deprecated used for editing controls and in service\n * @todo unify with data state and inherit by it*/\nexport class DomDataService {\n\n  public data: HtmlDocument;\n\n  public constructor(data: HtmlDocument) {\n    this.data = data;\n  }\n\n  public updateNode(command: UpdateCommand): HtmlObject {\n    if (command.path && command.path.length) {\n      return NodeUtils.updateNode(this.data.html, command.path, command.attribute, command.value);\n    }\n\n    this.data.html = command.value;\n    return command.value;\n\n  }\n\n  public moveNodes(command: MoveCommand): HtmlObject[] {\n    const removedNodes = NodeUtils.removeNodes(this.data.html, command.path, 1);\n    return NodeUtils.insertNodes(this.data.html, command.destinationPath, removedNodes);\n  }\n\n  public insertNodes(command: InsertCommand): HtmlObject[] {\n    return NodeUtils.insertNodes(this.data.html, command.path, command.nodes);\n  }\n\n  public removeNodes(command: DeleteCommand): HtmlObject[] {\n    return NodeUtils.removeNodes(this.data.html, command.path, command.count);\n  }\n\n\n}\n","import { Component } from '@angular/core';\nimport { BaseInputComponent } from '../base.input.component';\n\n/**\n *    color\n */\n@Component({\n  selector: 'color',\n  templateUrl: './color.component.html',\n  styleUrls: ['./color.component.less']\n})\nexport class ColorComponent extends BaseInputComponent {\n\n}\n","import {\n  AComponent,\n  DIVComponent,\n  DocumentNodeComponent,\n  H1Component,\n  H2Component,\n  H3Component, IMGComponent, SectionComponent,\n  SPANComponent, TableComponent, TBodyComponent, TDComponent, TRComponent\n} from './document-node.component';\nimport {BaseNodes} from '../../../entities/BaseNodes';\nimport {AmpElementComponent} from '../amp-element/amp-element.component';\nimport {ExternalBlockWrapperComponent} from '../external-block-wrapper/external-block-wrapper.component';\n\nexport const documentNodeComponents = [\n  DocumentNodeComponent,\n  DIVComponent,\n  SPANComponent,\n  H1Component,\n  H2Component,\n  H3Component,\n  AComponent,\n  IMGComponent,\n  SectionComponent,\n  TableComponent,\n  TBodyComponent,\n  TRComponent,\n  TDComponent,\n  AmpElementComponent,\n  ExternalBlockWrapperComponent,\n];\n\n\nexport const documentNodeComponentsMap = {\n  [BaseNodes.DIV]: DIVComponent,\n  [BaseNodes.SPAN]: SPANComponent,\n  [BaseNodes.H1]: H1Component,\n  [BaseNodes.H2]: H1Component,\n  [BaseNodes.H3]: H1Component,\n  [BaseNodes.A]: AComponent,\n  [BaseNodes.IMG]: IMGComponent,\n  [BaseNodes.SECTION]: SectionComponent,\n  [BaseNodes.TABLE]: TableComponent,\n  [BaseNodes.TBODY]: TBodyComponent,\n  [BaseNodes.TR]: TRComponent,\n  [BaseNodes.TD]: TDComponent,\n  [BaseNodes.AMP_ELEMENT]: AmpElementComponent,\n  [BaseNodes.CUSTOM_BLOCK_WRAPPER]: ExternalBlockWrapperComponent,\n};\n\n// http://source.unsplash.com/random/50x50\n// http://source.unsplash.com/random/320x240\n\n// <amp-carousel width=\"450\" height=\"300\" autoplay=\"\" delay=\"2000\" type=\"slides\">\n//   <amp-img src=\"http://source.unsplash.com/random/50x50\" width=\"400\" height=\"300\" alt=\"a sample image\"></amp-img>\n//   <amp-img src=\"http://source.unsplash.com/random/50x50\" width=\"400\" height=\"300\" alt=\"another sample image\"></amp-img>\n//   <amp-img src=\"http://source.unsplash.com/random/50x50\" width=\"400\" height=\"300\" alt=\"and another sample image\"></amp-img>\n// </amp-carousel>\n","import {ControlValueAccessor} from '../../../../entities/UIObject';\n\nexport abstract class BaseValueAccessor implements ControlValueAccessor {\n  public transformer = false;\n  public structural = false;\n\n  abstract getRawValue(): any ;\n\n  abstract getValue(valuePath: string): any;\n\n  abstract setValue(valuePath: string, value: any): any;\n\n  isValid() {\n    return true;\n  }\n\n  getModifiedValue() {\n    return this.getRawValue();\n  }\n}\n","import {ControlType} from '../../../../entities/UIObject';\nimport {BaseControlComponent} from './base/base-control.component';\nimport {BaseControlEditComponent} from './base-control-edit/base-control-edit.component';\n\nexport const controls = [\n  BaseControlComponent,\n  BaseControlEditComponent\n];\n\nexport const controlsMap = {\n  [ControlType.BASE]: BaseControlComponent\n};\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvaGVhZGVyL2hlYWRlci5jb21wb25lbnQubGVzcyJ9 */\";","import {HtmlObject} from '../../../common/entities/HtmlObject';\nimport {Injectable} from '@angular/core';\nimport {HtmlDocument} from '../../../common/entities/HtmlDocument';\nimport {NodeUtils} from '../../../common/tools/NodeUtils';\nimport {DeleteCommand, InsertCommand, MoveCommand, UpdateCommand} from '../../../../ui-editor-common/entities/Command';\nimport {EditorState} from './state.types';\nimport {DocumentSetEvent, EditorEventType, PatchEvent} from '../entities/EditorEvent';\nimport {Reducer} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {EventsService} from './events.service';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {Patch} from '../../../common/entities/Patch';\nimport {LogMethod} from '../tools/decorators/Log/Log.decorator';\n\n/** @todo unify with dom data service, make non instance methods static*/\n@Injectable()\n@EditorEventListener()\nexport class DocumentStateService {\n\n  // todo probably separate css state should be created\n  @AsyncValue()\n  @StateStream({stateProperty: 'document'})\n  // @ts-ignore\n  private document: HtmlDocument/* = this.document*/;\n\n\n  public constructor() {\n    console.log('document state:', this);\n  }\n\n  @Reducer({type: EditorEventType.SET_DOCUMENT, stateProperty: 'document'})\n  private onDocumentSet(state: EditorState, e: DocumentSetEvent): HtmlDocument {\n    return e.data;\n  }\n\n  @Reducer({type: EditorEventType.EXECUTE_PATCH, stateProperty: 'document'})\n  private onPatch(state: HtmlDocument, e: PatchEvent): HtmlDocument {\n    // @ts-ignore\n    e.data.actions.forEach(action => this[action.do.method](action.do, state));\n    return state;\n  }\n\n  private updateNode(command: UpdateCommand, data: HtmlDocument): HtmlObject {\n    if (command.path && command.path.length) {\n      return NodeUtils.updateNode(data.html, command.path, command.attribute, command.value);\n    }\n    return command.value;\n  }\n\n  private moveNodes(command: MoveCommand, data: HtmlDocument): HtmlObject[] {\n    const removedNodes = NodeUtils.removeNodes(data.html, command.path, 1);\n    return NodeUtils.insertNodes(data.html, command.destinationPath, removedNodes);\n  }\n\n  private insertNodes(command: InsertCommand, data: HtmlDocument): HtmlObject[] {\n    return NodeUtils.insertNodes(data.html, command.path, command.nodes);\n  }\n\n  private removeNodes(command: DeleteCommand, data: HtmlDocument): HtmlObject[] {\n    return NodeUtils.removeNodes(data.html, command.path, command.count);\n  }\n\n  // @LogMethod()\n  public getChildByPath(path: number[], getClosest = true): HtmlObject {\n    return NodeUtils.getChildByPath(this.document.html, path, getClosest);\n  }\n\n  public getDocumentId(): string {\n    return this.document.id;\n  }\n\n  public setDocument(document: HtmlDocument): void {\n    EventsService.dispatch({type: EditorEventType.SET_DOCUMENT, data: document});\n  }\n\n  public executePatch(patch: Patch): void {\n    EventsService.dispatch({type: EditorEventType.EXECUTE_PATCH, data: patch});\n  }\n}\n","export default \"<ng-container *ngIf=\\\"node\\\">\\n  <button (click)=\\\"collapsed = true\\\" *ngIf=\\\"!collapsed\\\"></button>\\n  <button (click)=\\\"collapsed = false\\\" *ngIf=\\\"collapsed\\\"></button>\\n  <button (click)=\\\"deleteControl()\\\">Delete</button>\\n  <button (click)=\\\"addControl()\\\">Add control</button>\\n  <button (click)=\\\"addInput()\\\">Add input</button>\\n  <span *ngIf=\\\"collapsed\\\" class=\\\"collapsed-details service-element\\\">&nbsp; {{node.valueAccessor}}\\n    .{{(node.bindings | keyvalue)[0].value}}</span>\\n  <ng-container *ngIf=\\\"!collapsed\\\">\\n    <br>\\n    <b>Contained value:</b>\\n    <ngx-json-viewer [json]=\\\"node.value | controlObjectValue\\\" [expanded]=\\\"false\\\"></ngx-json-viewer>\\n<!--    <span>{{node.value|json}}</span>-->\\n    <br>\\n    <b>Value accessor:</b><br>\\n    <select-component [value]=\\\"node.valueAccessor\\\"\\n                      [items]=\\\"valueAccessors\\\"\\n                      (valueChange)=\\\"renameValueAccessor($event)\\\">\\n    </select-component>\\n    <br>\\n    <div *ngFor=\\\"let binding of node.bindings | keyvalue\\\" class=\\\"service-element\\\">\\n      <b>Property:</b><br>\\n      <text [value]=\\\"getParentBindingPropertyName(binding.value)\\\"\\n            (valueChange)=\\\"renameParentBindingProperty(binding.key,$event)\\\">\\n      </text>\\n      <br>\\n    </div>\\n    <ng-container *ngIf=\\\"isIterable()\\\">\\n      <b>Iterate:</b><br>\\n      <toggler-component [value]=\\\"!!node.iterate\\\" (valueChange)=\\\"setIteration($event)\\\"></toggler-component>\\n      <br>\\n    </ng-container>\\n    <b>Additional settings:</b><br>\\n    <toggler-component [value]=\\\"showAdditionalSettings\\\"\\n                       (valueChange)=\\\"showAdditionalSettings = !showAdditionalSettings\\\">\\n    </toggler-component>\\n    <ng-container *ngIf=\\\"showAdditionalSettings\\\">\\n      <br>\\n      <!--      todo forbid add or delete if parent value accessor is not iterable-->\\n      <b>ModificationType:</b><br>\\n      <select-component [value]=\\\"node.updateType\\\"\\n                        [items]=\\\"updateTypes\\\"\\n                        (valueChange)=\\\"setUpdateType($event)\\\">\\n      </select-component>\\n      <br>\\n      <b>Local state:</b><br>\\n      <textarea (change)=\\\"setLocalState($event.target.value)\\\">{{node.localState | json}}</textarea>\\n    </ng-container>\\n  </ng-container>\\n  <ng-container *ngFor=\\\" let child of node.children; trackBy: trackByPath\\\">\\n    <ng-container *ngIf=\\\"isChildDisplayed(child)\\\">\\n      <ui-renderer *ngIf=\\\"!child.iterate\\\"\\n                   [node]=\\\"applyBindings(child)\\\"\\n                   (componentEvent)=\\\"onComponentEvent($event)\\\"\\n                   [mode]=\\\"rendererMode\\\">\\n      </ui-renderer>\\n      <ng-container *ngIf=\\\"child.iterate\\\">\\n        <ui-renderer *ngFor=\\\"let value of this[child.iterate]; trackBy: trackByKey\\\"\\n                     [node]=\\\"applyBindings(child, value)\\\"\\n                     (componentEvent)=\\\"onComponentEvent($event,value.key)\\\"\\n                     [mode]=\\\"rendererMode\\\">\\n        </ui-renderer>\\n      </ng-container>\\n    </ng-container>\\n  </ng-container>\\n</ng-container>\\n\";","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, OnInit} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {BehaviorableNode} from '../../../entities/BehaviorableNode';\nimport {\n  ControlObject,\n  ControlType,\n  ControlUpdatedEvent,\n  ControlValueAccessorType,\n  UINodeEventType\n} from '../../../entities/UIObject';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {ControlUtils} from '../../../tools/ControlUtils';\nimport {HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {BaseNodesContainerComponent} from '../base-nodes-container/base-nodes-container.component';\nimport {filter} from 'rxjs/operators';\nimport {detailedDiff} from 'deep-object-diff';\nimport {EditorEvent, EditorEventType} from '../../../entities/EditorEvent';\nimport {StateSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {LogClass} from '../../../tools/decorators/Log/Log.decorator';\n\n/**\n *     ,  {@link BaseNodesContainerComponent}\n *      CONTROLS_PANEL {@link UIObjectType}\n *     applicationState.selectedNode   \"Add control\"\n */\n@Component({\n  selector: 'control-panel',\n  templateUrl: '../ui-node-component/ui-node.component.html',\n  styleUrls: ['./control-panel.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n@EditorEventListener()\n// @LogClass()\nexport class ControlPanelComponent extends BaseNodesContainerComponent implements OnInit {\n  editedNode: HtmlObject;\n\n  public constructor(events: EventsService,\n                     public actionManager: ActionManagerService,\n                     public actions: ActionsService,\n                     cdr: ChangeDetectorRef,\n                     el: ElementRef,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  /**\n   *   \"Add control\"        Node  node children\n   * @param node\n   */\n  @StateSubscriber({stateProperty: 'applicationState.selectedNode', definedOnly: true})\n  protected onNodeSelected(node: BehaviorableNode) {\n    this.editedNode = node;\n    this.node.children = [\n      {\n        ...ControlUtils.defaultControlProperties,\n        tag: ControlType.BASE,\n        valueAccessor: ControlValueAccessorType.BUFF,\n        children: [\n          ControlUtils.getButton({bindTo: 'applicationState.addingControl', label: 'Add control', value: true})\n        ]\n      } as ControlObject,\n      ...node.config.controls\n    ];\n    // this.cdr.detectChanges();\n    this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n  }\n\n  /**\n   *   {@link ActionManagerService#runActions}   [UINodeEventType.CONTROL_VALUE_UPDATE]{@link UINodeEventType#CONTROL_VALUE_UPDATE}\n   * @param {ControlUpdatedEvent} event\n   */\n  public onComponentEvent(event: ControlUpdatedEvent): void {\n    console.log('%c\\nonComponentEvent:', 'font-weight:bold;', event);\n    if (event.type === UINodeEventType.CONTROL_VALUE_UPDATE) {\n\n      console.log('update summary:', event.summary);\n      // event.emitter.value = cloneDeep(event.emitter.value);\n      // const nodeBefore = cloneDeep(this.editedNode);\n      // set(this, event.emitter.bindings.value, event.emitter.value);\n      // console.log('updated node:', this.editedNode);\n      // console.log('detailedDiff', detailedDiff(nodeBefore, this.editedNode));\n\n      // this.actionManager.runActions([\n      //   this.actions.getNodeUpdateAction(this.editedNode)\n      // ]);\n\n      this.actionManager.runActions([\n        this.actions.getActionBySummary(this.editedNode, event.summary)\n      ]);\n    }\n  }\n}\n","export default \"/*\\n:host {\\n  position: relative;\\n}\\n\\n.action-buttons {\\n  position: absolute;\\n  right: 2px;\\n  top: 2px;\\n  z-index: 100;\\n}\\n\\n.action-button {\\n  color: red;\\n  font-weight: bold;\\n  font-size: 20px;\\n  height: 25px;\\n  overflow: hidden;\\n  line-height: 25px;\\n  text-shadow: 0px 0px 4px #ffffff;\\n  display: inline-block;\\n  cursor: pointer;\\n  margin-left: 5px;\\n}\\n\\n.delete-button {\\n  color: red;\\n}\\n\\n.save-button {\\n  font-size: 17px;\\n  line-height: 23px;\\n  color: green;\\n}\\n\\n.author-name {\\n  width: 100px;\\n  height: 20px;\\n  z-index: 100;\\n  position: absolute;\\n  font-size: 11px;\\n  font-family: arial, serif;\\n  text-align: center;\\n  line-height: 20px;\\n  right: 0;\\n  top: 0;\\n}\\n\\n\\nngx-json-viewer {\\n  display: block;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  font-weight: bold;\\n  text-shadow: 1px 0 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, -1px 0 0 #fff;\\n}\\n\\nngx-json-viewer::ng-deep {\\n  section {\\n    display: flex;\\n    margin: 0 !important;\\n  }\\n\\n  .segment-key, .segment-separator {\\n    display: none;\\n  }\\n}\\n\\n.save-form {\\n  background: lightblue;\\n  padding: 25px;\\n  text-align: center;\\n  border: 1px solid blue;\\n  border-radius: 5px;\\n  box-shadow: 10px 10px 19px 0px rgba(0, 0, 0, 0.75);\\n  z-index: 1000;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate3d(-50%, -50%, 0);\\n  height: 70px;\\n  width: 300px;\\n}\\n\\n*/\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kb2N1bWVudC9kb2N1bWVudC1ub2RlLWNvbXBvbmVudC9kb2N1bWVudC1ub2RlLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBcUZDIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kb2N1bWVudC9kb2N1bWVudC1ub2RlLWNvbXBvbmVudC9kb2N1bWVudC1ub2RlLmNvbXBvbmVudC5sZXNzIn0= */\";","import {\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    Component,\n    DoCheck,\n    HostBinding,\n    OnInit,\n    ViewChild,\n} from '@angular/core';\nimport {\n    ControlUpdateType,\n    InputObject,\n    InputType,\n    UINodeEvent,\n    UINodeEventType,\n} from '../../../../../entities/UIObject';\nimport {BaseInputComponent} from '../base.input.component';\nimport {BaseControlEditSettings} from '../../BaseControlEditSettings';\nimport {isEqual} from 'lodash';\nimport {filter} from 'rxjs/operators';\nimport {SelectItem} from '../select/select.component';\nimport {MixinsDecorator} from '../../../../../tools/decorators/Mixins/Mixins.decorator';\nimport {EditorEvent} from '../../../../../entities/EditorEvent';\nimport {UpdateCommand} from '../../../../../../../../ui-editor-common/entities/Command';\n\n/**\n *   / \n */\n@Component({\n    selector: 'base-input-edit',\n    templateUrl: './base-input-edit.component.html',\n    styleUrls: ['./base-input-edit.component.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n@MixinsDecorator([BaseControlEditSettings])\nexport class BaseInputEditComponent extends BaseInputComponent implements DoCheck, OnInit, AfterViewChecked {\n\n    @HostBinding('attr.draggable') draggable = true;\n    @ViewChild('renderer') renderer;\n\n    showAdditionalSettings = false;\n    inputTypes: SelectItem[] = Object.entries(InputType).map(([key, value]) => ({value, label: key}));\n    updateTypes: SelectItem[] = Object.entries(ControlUpdateType).map(([key, value]) => ({value, label: key}));\n    tag: string;\n\n    ngOnInit() {\n        super.ngOnInit();\n        this.tag = this.node.tag;\n    }\n\n    ngDoCheck(): void {\n        if (!isEqual(this.node, this.container.node)) {\n            this.node = <InputObject>this.container.node;\n            this.node.localState && Object.assign(this.localState, this.node.localState);\n        }\n        if (this.node && !isEqual(this.node.localState, this.localState)) {\n            this.updateLocalState();\n        }\n\n    }\n\n    ngAfterViewChecked(): void {\n        if (this.node.tag !== this.tag) {\n            this.tag = this.node.tag;\n            this.renderer.updateComponent();\n        }\n    }\n\n    private saveControl() {\n        this.applicationState.controlsDataService.updateNode({\n            path: this.node.path,\n            value: this.node\n        } as UpdateCommand);\n\n        this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n    }\n\n    public onComponentEvent(event: UINodeEvent, iterableComponentIndex?: string | number): void {\n        if (this.node) {\n            this.uiNodeEvent.emit(event);\n        }\n    }\n\n    // protected isOverCurrentNode() {\n    //   return filter((e: EditorEvent) => !this.dragged &&\n    //     this.node.path.length &&\n    //     (e.data.target === this.el.nativeElement ||\n    //       (<Element>e.data.target).closest('base-input-edit') === this.el.nativeElement));\n    // }\n\n    protected isOverCurrentNode(e: EditorEvent): boolean {\n        return !this.dragged &&\n            this.node.path.length &&\n            (e.data.target === this.el.nativeElement ||\n                (<Element>e.data.target).closest('base-input-edit') === this.el.nativeElement);\n    }\n\n    protected onDragEnter(e: EditorEvent) {\n    }\n\n    protected onDrop(e: EditorEvent): void {\n    }\n\n    public changeInputType(type: InputType): void {\n        this.node.tag = type;\n        this.saveControl();\n    }\n\n    public setLocalStateProperty(property: string, value: string) {\n        this.node.localState[property] = value;\n        this.saveControl();\n    }\n\n}\n","import {ColorComponent} from './color/color.component';\nimport {TextComponent} from './text/text.component';\nimport {InputType} from '../../../../entities/UIObject';\nimport {LabelComponent} from './label/label.component';\nimport {ButtonInputComponent} from './button/button.component';\nimport {BaseInputEditComponent} from './base-input-edit/base-input-edit.component';\nimport {SelectComponent} from './select/select.component';\nimport {TogglerComponent} from './toggler/toggler.component';\nexport const inputs = [\n  ColorComponent,\n  TextComponent,\n  LabelComponent,\n  ButtonInputComponent,\n  BaseInputEditComponent,\n  SelectComponent,\n  TogglerComponent\n];\n\nexport const inputsMap = {\n  [InputType.COLOR]: ColorComponent,\n  [InputType.TEXT]: TextComponent,\n  [InputType.LABEL]: LabelComponent,\n  [InputType.BUTTON]: ButtonInputComponent,\n  [InputType.INPUT_EDIT]: BaseInputEditComponent,\n  [InputType.SELECTPICKER]: SelectComponent,\n  [InputType.TOGGLER]: TogglerComponent\n};\n","import {ComparisonType, ConditionConnection, UIObject, UIObjectType} from '../entities/UIObject';\nimport {ControlUtils} from '../tools/ControlUtils';\n\n/**\n * Html  ,    JSON \n */\nexport const applicationUI: UIObject = {\n  ...ControlUtils.defaultUINodeProperties,\n  tag: UIObjectType.CONTAINER,\n  type: 1,\n  attributes: {class: 'body'},\n  children: [\n    {\n      ...ControlUtils.defaultUINodeProperties,\n      tag: UIObjectType.CONTAINER,\n      type: 1,\n      attributes: {class: 'header', style: 'height: 5vh;'},\n      children: [\n        {\n          ...ControlUtils.defaultUINodeProperties,\n          tag: UIObjectType.HEADER,\n          type: 1,\n          attributes: {style: 'width: 100%;height: 100%;display: block;'},\n          children: [],\n        }\n      ],\n    },\n    {\n      ...ControlUtils.defaultUINodeProperties,\n      tag: UIObjectType.CONTAINER,\n      type: 1,\n      attributes: {class: 'main'/*, style: 'height: 73vh;'*/},\n      children: [\n        {\n          ...ControlUtils.defaultUINodeProperties,\n          tag: UIObjectType.CONTAINER,\n          type: 1,\n          attributes: {class: 'article'},\n          localState: {\n            renderer: 'iframeRendederer'\n          },\n          children: [\n            {\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.PREVIEW_CONTAINER,\n              type: 1,\n              attributes: {},\n              children: [],\n            }\n          ],\n        },\n        {\n          ...ControlUtils.defaultUINodeProperties,\n          tag: UIObjectType.CONTAINER,\n          type: 1,\n          attributes: {\n            class: 'nav',\n          },\n          children: [\n            {\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.CONTROLS_PANEL,\n              type: 1,\n              attributes: {},\n              children: [],\n              if: [\n                {\n                  prop1: 'applicationState.selectedNode',\n                  comparison: ComparisonType.NOT_EQUAL,\n                  value: undefined\n                },\n                {\n                  prop1: 'applicationState.viewingHistory',\n                  comparison: ComparisonType.EQUAL,\n                  value: false,\n                  connection: ConditionConnection.AND\n                }\n              ]\n            },\n            {\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.BLOCKS_PANEL,\n              type: 1,\n              attributes: {},\n              children: [],\n              if: [\n                {\n                  prop1: 'applicationState.selectedNode',\n                  comparison: ComparisonType.EQUAL,\n                  value: undefined\n                },\n                {\n                  prop1: 'applicationState.viewingHistory',\n                  comparison: ComparisonType.EQUAL,\n                  value: false,\n                  connection: ConditionConnection.AND\n                }\n              ]\n            },\n            // todo add some unique state marker for each component ffs\n            {\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.HISTORY,\n              type: 1,\n              attributes: {},\n              children: [],\n              if: [\n                {\n                  prop1: 'applicationState.viewingHistory',\n                  comparison: ComparisonType.EQUAL,\n                  value: true\n                }\n              ]\n            }\n          ],\n          if: [\n            {\n              prop1: 'applicationState.addingControl',\n              comparison: ComparisonType.EQUAL,\n              value: false\n            }\n          ]\n        },\n\n        {\n          ...ControlUtils.defaultUINodeProperties,\n          tag: UIObjectType.CONTAINER,\n          type: 1,\n          attributes: {\n            class: 'nav',\n            style: 'flex-grow: 1; flex-basis: 0; max-width:50%;'\n          },\n          children: [\n            {\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.CONTROL_EDITOR_PANEL,\n              type: 1,\n              attributes: {},\n              children: [],\n            }\n          ],\n          if: [{\n            prop1: 'applicationState.addingControl',\n            comparison: ComparisonType.EQUAL,\n            value: true\n          }],\n        },\n\n\n      ],\n    },\n    {\n      ...ControlUtils.defaultUINodeProperties, tag: UIObjectType.CONTAINER,\n      type: 1,\n      attributes: {\n        class: 'footer'\n      },\n      children: [\n        {\n          ...ControlUtils.defaultUINodeProperties, tag: UIObjectType.CODE_EDITOR,\n          type: 1,\n          attributes: {},\n          children: [],\n        }\n      ],\n    }\n  ],\n};\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL3NlbGVjdC9zZWxlY3QuY29tcG9uZW50Lmxlc3MifQ== */\";","export default \":host {\\n  position: relative;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvdWljb250YWluZXIvdWljb250YWluZXIuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvdWljb250YWluZXIvdWljb250YWluZXIuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS91aWNvbnRhaW5lci91aWNvbnRhaW5lci5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4iLCI6aG9zdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbiJdfQ== */\";","import {Component} from '@angular/core';\nimport {BaseInputComponent} from '../base.input.component';\n\n/**\n *    checkbox\n */\n@Component({\n  selector: 'toggler-component',\n  templateUrl: './toggler.component.html',\n  styleUrls: ['./toggler.component.less']\n})\nexport class TogglerComponent extends BaseInputComponent {\n}\n","import {NodeObject} from './NodeObject';\n\nexport enum HtmlNodeType {\n  ELEMENT_NODE = 1,\n  TEXT_NODE = 3,\n  CDATA_SECTION_NODE = 4,\n  PROCESSING_INSTRUCTION_NODE = 7,\n  COMMENT_NODE = 8,\n  DOCUMENT_NODE = 9,\n  DOCUMENT_TYPE_NODE = 10,\n  DOCUMENT_FRAGMENT_NODE = 11,\n}\n\nexport interface HtmlAttributes {\n  [property: string]: string;\n}\n\nexport interface HtmlObject extends NodeObject {\n  tag: string;\n  type: HtmlNodeType;\n  content?: string;\n  attributes: HtmlAttributes;\n  children: HtmlObject[];\n  customBlockId?: string;\n  externalBlock?: boolean;\n}\n","import {ChangeDetectorRef, Component, ComponentFactoryResolver, ElementRef, Injector, ViewContainerRef} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {EventsService} from '../../../state/events.service';\nimport {PreviewPanelComponent} from './preview-panel.component';\nimport {previewStyles} from './styles';\nimport {EditorEventType} from '../../../entities/EditorEvent';\n\n/**\n *   (email)   iframe,  {@link UINodeComponent}\n *      PREVIEW_CONTAINER {@link UIObjectType}\n *  PreviewPanelComponent     body iframe\n */\n@Component({\n  selector: 'preview-container-component',\n  template: '<iframe #frame (load)=\"onFrameLoad(frame)\"></iframe>',\n  styleUrls: ['./preview-panel-container.component.less'],\n  entryComponents: [PreviewPanelComponent],\n})\nexport class PreviewPanelContainer extends UINodeComponent {\n\n  frameDocument: Document;\n\n  constructor(injector: Injector,\n              protected componentFactoryResolver: ComponentFactoryResolver,\n              protected viewContainerRef: ViewContainerRef,\n              el: ElementRef,\n              cdr: ChangeDetectorRef,\n              events: EventsService) {\n    super(cdr, el, events, injector);\n  }\n\n\n  // TODO store required scripts in head of document model, set head with static html, body with dynamic editable components\n  /**\n   *       {@link PreviewPanelComponent},     \n   * @param frame iframe  \n   */\n  onFrameLoad(frame: HTMLIFrameElement): void {\n    this.applicationState = {previewFrame: frame};\n    setTimeout(() => {\n      this.frameDocument = frame.contentDocument;\n      const compFactory = this.componentFactoryResolver.resolveComponentFactory(PreviewPanelComponent);\n      const compRef = this.viewContainerRef.createComponent(compFactory);\n      this.frameDocument.body.appendChild(compRef.location.nativeElement);\n\n      const styleWrapper = document.createElement('div');\n      styleWrapper.innerHTML = previewStyles.trim();\n      this.frameDocument.head.appendChild(styleWrapper.firstChild);\n\n      const loadScript = (src) => {\n        const node = document.createElement('script');\n        node.src = src;\n        node.type = 'text/javascript';\n        node.async = true;\n        node.charset = 'utf-8';\n        this.frameDocument.head.appendChild(node);\n      };\n      loadScript('https://cdn.ampproject.org/v0/amp-carousel-0.1.js');\n      loadScript('https://cdn.ampproject.org/v0/amp-accordion-0.1.js');\n      loadScript('https://cdn.ampproject.org/v0.js');\n      // loadScript('assets/BannerApp.js');\n    });\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Injector,\n  OnDestroy,\n  OnInit\n} from '@angular/core';\nimport {DocumentRendererComponent} from '../../renderers/dom/document/document-renderer.component';\nimport {EventsService} from 'src/app/state/events.service';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {NodeUtils} from '../../../../../../ui-editor-common/tools/NodeUtils';\nimport {BaseNodeComponent} from '../../renderers/dom/base.node-component';\nimport {HtmlNodeType, HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {NodeWrapperService} from '../../../services/node-wrapper/node-wrapper.service';\nimport {CustomBlocksService} from '../../../services/custom-blocks/custom-blocks.service';\nimport {EditorEvent, EditorEventType} from '../../../entities/EditorEvent';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {EventSubscriber, StateSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\n\nexport const baseBlockSelector = '[document-node-component]';\nconst changeDetectionStrategy = ChangeDetectionStrategy.OnPush;\n\n/**\n *     (),  {@link BaseNodeComponent}\n * <br/>            \n */\n@Component({\n  selector: baseBlockSelector,\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom\n})\n@EditorEventListener()\n// @LogClass()\nexport class DocumentNodeComponent extends BaseNodeComponent implements OnInit, OnDestroy {\n  @HostBinding('attr.draggable') draggable = true;\n\n  nodeTypes = HtmlNodeType;\n  node: HtmlObject;\n  container: DocumentRendererComponent;\n  showSaveForm = false;\n\n  @HostBinding('class.document-node-component')\n  public documentNode = true;\n\n  @HostBinding('class.hovered-node-component')\n  public hovered = false;\n\n  @HostBinding('class.selected-node-component')\n  public selected = false;\n\n  @HostBinding('style.box-shadow')\n  public selectedRemotelyStyle: string;\n\n  public remoteSelectionData: any;\n\n  public constructor(el: ElementRef,\n                     events: EventsService,\n                     protected actionManager: ActionManagerService,\n                     cdr: ChangeDetectorRef,\n                     protected actions: ActionsService,\n                     private nodeWrapper: NodeWrapperService,\n                     private customBlocks: CustomBlocksService,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  @StateSubscriber({stateProperty: 'document'})\n  onDocumentUpdated() {\n    this.cdr.markForCheck();\n  }\n\n  protected isNewNode(node: HtmlObject): boolean {\n    return !this.applicationState.draggedNode.path || !this.applicationState.draggedNode.path.length;\n  }\n\n  protected onDragStart() {\n    this.applicationState = {draggedNode: this.node};\n    super.onDragStart();\n  }\n\n  protected moveInto(e: Event): void {\n    this.actionManager.runActions([\n      this.actions.getNodeMoveAction(\n        this.applicationState.draggedNode.path,\n        this.getPathToInsert(this.applicationState.draggedNode.path, e, true)\n      )\n    ]);\n    this.onDragStop();\n  }\n\n  protected onDragStop(): void {\n    super.onDragStop();\n  }\n\n  protected onDrop(e: EditorEvent): void {\n    if (this.isNewNode(this.applicationState.draggedNode)) {\n      this.copyInto(e.data);\n    } else {\n      super.onDrop(e);\n    }\n  }\n\n  protected copyInto(e: Event): void {\n    this.actionManager.runActions([\n      this.actions.getNodeInsertAction(\n        this.getPathToInsert(this.applicationState.draggedNode.path, e), [this.applicationState.draggedNode]\n      )\n    ]);\n    this.onDragStop();\n  }\n\n  // @LogMethod()\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.setNodeSelection();\n  }\n\n  @EventSubscriber({type: EditorEventType.MOUSE_OUT_NODE})\n  private onHoveOut(e: EditorEvent) {\n    const el = this.el.nativeElement;\n    if (this.hovered && e.data.toElement !== el &&\n      (e.data.relatedTarget ? !e.data.relatedTarget.classList.contains('service-element') : true)) {\n      this.hovered = false;\n      this.cdr.markForCheck();\n    }\n  }\n\n  @EventSubscriber({type: EditorEventType.MOUSE_OVER_NODE, pipes: 'isOverCurrentNode'})\n  private onHover(e: EditorEvent) {\n    this.hovered = true;\n    this.cdr.markForCheck();\n  }\n\n  @EventSubscriber({type: EditorEventType.REMOTE_NODE_SELECTED})\n  private setRemoteNodesNodeSelection(): void {\n    for (const n of this.applicationState.selectedRemoteNodes) {\n      if (NodeUtils.arePathsEqual(this.node.path, n.node.path)) {\n        this.selectedRemotelyStyle = `inset 0px 0px 0px 2px ${n.color}`;\n        this.remoteSelectionData = n;\n        return;\n      }\n    }\n    this.remoteSelectionData = null;\n    this.selectedRemotelyStyle = ``;\n  }\n\n  @StateSubscriber({stateProperty: 'applicationState.selectedNode'})\n  private setNodeSelection(): void {\n    this.selected = this.applicationState.selectedNode && NodeUtils.arePathsEqual(this.node.path, this.applicationState.selectedNode.path);\n    if (!this.selected) {\n      this.showSaveForm = false;\n      this.cdr.markForCheck();\n    }\n  }\n\n  // todo replace with single preview panel event\n  @HostListener('click', ['$event'])\n  onClick(e) {\n    e.stopPropagation();\n    this.nodeWrapper.selectNode(this.node);\n  }\n\n  public removeNode(): void {\n    console.log('removeNode');\n    this.actionManager.runActions([\n      this.actions.getNodeDeleteAction(this.node.path, [this.node])\n    ]);\n  }\n\n  public saveNode(id: string): void {\n    this.showSaveForm = false;\n    this.customBlocks.saveCustomBlock(id, this.node);\n  }\n\n  ngOnDestroy(): void {\n  }\n}\n\n//todo change detector of service element, so each element must not be marked with class\n@Component({\n  selector: 'div:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class DIVComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'span:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class SPANComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'h1:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class H1Component extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'h2:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class H2Component extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'h3:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class H3Component extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'a:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class AComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'img:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class IMGComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'section:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class SectionComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'table:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class TableComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'tbody:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class TBodyComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'tr:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class TRComponent extends DocumentNodeComponent {\n}\n\n@Component({\n  selector: 'td:not(.service-element)',\n  templateUrl: './document-node.component.html',\n  styleUrls: ['./document-node.component.less'],\n  //encapsulation: ViewEncapsulation.ShadowDom,\n  changeDetection: changeDetectionStrategy\n})\nexport class TDComponent extends DocumentNodeComponent {\n}\n","export default \"textarea {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXJzL2h0bWwvaHRtbC1lZGl0b3IvaHRtbC1lZGl0b3IuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXJzL2h0bWwvaHRtbC1lZGl0b3IvaHRtbC1lZGl0b3IuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9yZW5kZXJlcnMvaHRtbC9odG1sLWVkaXRvci9odG1sLWVkaXRvci5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbInRleHRhcmVhe1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuIiwidGV4dGFyZWEge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuIl19 */\";","import {Injectable} from '@angular/core';\nimport {ApplicationConfig, ExternalBlock} from '../entities/ApplicationConfig';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {ConfigSetEvent, EditorEventType} from '../entities/EditorEvent';\nimport {EventsService} from './events.service';\nimport {Reducer} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorState} from './state.types';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\n\n@Injectable()\n@EditorEventListener()\nexport class ConfigStateService {\n  @AsyncValue()\n  @StateStream({stateProperty: 'config'})\n  // @ts-ignore\n  public config: ApplicationConfig/* = this.config*/;\n\n  public constructor() {\n    console.log('config state:', this);\n  }\n\n  @Reducer({type: EditorEventType.SET_CONFIG, stateProperty: 'config'})\n  private onConfigSet(state: EditorState, e: ConfigSetEvent): ApplicationConfig {\n    return e.data;\n  }\n\n  public setConfig(config: ApplicationConfig): void {\n    EventsService.dispatch({type: EditorEventType.SET_CONFIG, data: config});\n  }\n\n  public getWSHost() {\n    return `ws://${location.hostname}:8080`;\n  }\n\n  public getExternalBlocks(): ExternalBlock[] {\n    return this.config.externalBlocks;\n  }\n\n  public getExternalBlockConfig(tag: string): ExternalBlock {\n    return this.getExternalBlocks().find(b => b.defaultTemplate.tag === tag);\n  }\n\n  public getConfig(): ApplicationConfig {\n    return this.config;\n  }\n}\n","export default \"<div class=\\\"author-name service-element\\\" *ngIf=\\\"remoteSelectionData\\\" [style.background]=\\\"remoteSelectionData.color\\\">\\n  {{remoteSelectionData.name}}\\n</div>\\n<div class=\\\"service-element action-buttons\\\">\\n  <div class=\\\"action-button save-button service-element\\\"\\n       *ngIf=\\\"hovered\\\"\\n       (click)=\\\"showSaveForm = true\\\">\\n    \\n  </div>\\n  <div class=\\\"action-button delete-button service-element\\\"\\n       *ngIf=\\\"hovered\\\"\\n       (click)=\\\"removeNode()\\\">\\n    \\n  </div>\\n</div>\\n<div class=\\\"service-element save-form\\\" *ngIf=\\\"showSaveForm\\\">\\n  <text #blockIdInput [value]=\\\"''\\\"></text>\\n  <button-input (valueChange)=\\\"saveNode(blockIdInput.value)\\\" caption=\\\"Save\\\"></button-input>\\n</div>\\n<!-- todo DO NOT DELETE - USEFUL FOR DEBUGGING-->\\n<!--<span class=\\\"service-element\\\" style=\\\"font-size: 10px;\\\">{{node.path.join(',')}}</span>-->\\n<ng-container *ngFor=\\\"let child of node.children\\\">\\n  <ng-container *ngIf=\\\"child.type === nodeTypes.TEXT_NODE\\\">\\n    {{child.content}}\\n  </ng-container>\\n  <document-renderer *ngIf=\\\"child.type === nodeTypes.ELEMENT_NODE\\\"\\n                     [node]=\\\"child\\\">\\n  </document-renderer>\\n</ng-container>\\n\";","import {EditorEventType} from '../../entities/EditorEvent';\nimport {EditorReducer} from '../../state/state.types';\nimport {InjectionToken} from '@angular/core';\n\nexport interface SubscriberOptions {\n    key?: string;\n    className?: string;\n    context?: any;\n    previousSentValue?: any;\n}\n\nexport interface EventSubscriberOptions extends SubscriberOptions {\n    type: EditorEventType;\n    pipes?: string;\n    condition?: string;\n}\n\nexport interface ReducerOptions extends SubscriberOptions {\n    type: EditorEventType;\n    reducer?: EditorReducer;\n    stateProperty?: string;\n}\n\nexport interface StateStreamOptions {\n    stateProperty?: string;\n}\n\nexport interface StateSubscriberOptions extends StateStreamOptions, SubscriberOptions {\n    definedOnly?: boolean;\n}\n\nexport interface InjectedValueOptions {\n    token: string | InjectionToken<any> | any,\n    dynamicInjector?: boolean;\n}\n\nexport interface EmitterOptions {\n    type: EditorEventType;\n    unsubscribeImmediately?: boolean;\n}\n\nexport enum SubscriberType {\n    subscriber = '_subscribers',\n    reducer = '_reducers',\n    stateSubscriber = '_stateSubscribers',\n}\n\nexport const destroyEmitter = '_componentDestroyed$';\n\n\n// export interface EventsServiceSubscriber {\n//     [SubscriberType.subscriber]: EventSubscriberOptions\n// }","export default \"<span class=\\\"service-element\\\">{{value}}</span>\\n\";","export default \"<ng-container *ngIf=\\\"node\\\">\\n  <button (click)=\\\"deleteControl()\\\">Delete</button>\\n  <br>\\n  <b>Contained value:</b>\\n  <ngx-json-viewer [json]=\\\"node.value  | controlObjectValue\\\" [expanded]=\\\"false\\\"></ngx-json-viewer>\\n  <br>\\n  <b>Input type:</b><br>\\n  <select-component [value]=\\\"node.tag\\\"\\n                    [items]=\\\"inputTypes\\\"\\n                    (valueChange)=\\\"changeInputType($event)\\\">\\n  </select-component>\\n  <div *ngFor=\\\"let binding of node.bindings | keyvalue\\\" class=\\\"service-element\\\">\\n    <b>Property:</b><br>\\n    <text [value]=\\\"getParentBindingPropertyName(binding.value)\\\"\\n          (valueChange)=\\\"renameParentBindingProperty(binding.key,$event)\\\"></text>\\n  </div>\\n\\n  <ng-container *ngIf=\\\"node.tag === 'LABEL' || node.tag === 'BUTTON'\\\">\\n    <br>\\n    <b>Label:</b><br>\\n    <text [value]=\\\"node.tag === 'LABEL' ? node.localState.initialValue : node.localState.label\\\"\\n          (valueChange)=\\\"setLocalStateProperty( node.tag === 'LABEL'?'initialValue' : 'label', $event)\\\"></text>\\n    <br>\\n  </ng-container>\\n\\n  <b>Additional settings:</b><br>\\n  <toggler-component [value]=\\\"showAdditionalSettings\\\"\\n                     (valueChange)=\\\"showAdditionalSettings = !showAdditionalSettings\\\">\\n  </toggler-component>\\n  <ng-container *ngIf=\\\"showAdditionalSettings\\\">\\n    <br>\\n    <b>ModificationType:</b><br>\\n    <select-component [value]=\\\"node.updateType\\\"\\n                      [items]=\\\"updateTypes\\\"\\n                      (valueChange)=\\\"setUpdateType($event)\\\">\\n    </select-component>\\n    <br>\\n    <b>Local state:</b><br>\\n    <textarea (change)=\\\"setLocalState($event.target.value)\\\">{{node.localState | json}}</textarea>\\n    <br>\\n  </ng-container>\\n\\n  <!--  todo disable instead of hide-->\\n  <div class=\\\"input-container service-element\\\">\\n    <ng-container *ngIf=\\\"isChildDisplayed(node)\\\">\\n      <ui-renderer [node]=\\\"node\\\"\\n                   (componentEvent)=\\\"onComponentEvent($event)\\\"\\n                   #renderer>\\n      </ui-renderer>\\n    </ng-container>\\n  </div>\\n\\n</ng-container>\\n\";","export default \".patch-item {\\n  padding: 10px;\\n  border: 1px solid lightblue;\\n}\\n.replay-item {\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n:host {\\n  max-height: 69vh;\\n  display: block;\\n  overflow-y: auto;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvaGlzdG9yeS9oaXN0b3J5LmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC9jb21wb25lbnRzL3VpL2hpc3RvcnkvaGlzdG9yeS5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtBQ0NGO0FERUE7RUFDRSxZQUFBO0VBQ0Esb0JBQUE7QUNBRjtBREdBO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvaGlzdG9yeS9oaXN0b3J5LmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhdGNoLWl0ZW17XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Ymx1ZTtcbn1cblxuLnJlcGxheS1pdGVte1xuICBvcGFjaXR5OiAwLjU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG46aG9zdHtcbiAgbWF4LWhlaWdodDogNjl2aDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG4iLCIucGF0Y2gtaXRlbSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Ymx1ZTtcbn1cbi5yZXBsYXktaXRlbSB7XG4gIG9wYWNpdHk6IDAuNTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG46aG9zdCB7XG4gIG1heC1oZWlnaHQ6IDY5dmg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuIl19 */\";","export const previewStyles = `\n<style type=\"text/css\">\n/*base preview panel*/\n\n\n  .hovered-node-component:before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #24b0ff;\n    box-shadow: inset 0px 0px 0px 2px #4a60ff !important;\n    opacity: 0.7;\n    color: white;\n    top: 0;\n    left: 0;\n    text-align: center;\n    font-size: 10px;\n  }\n\n  .selected-node-component {\n    z-index: 100;\n    box-shadow: inset 0px 0px 0px 2px rgba(0, 0, 0, 1) !important;\n  }\n\n  .dragged-over-node-component:before {\n    content: 'DROP HERE';\n    font-weight: bold;\n    color: white;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    box-shadow: inset 0px 0px 0px 2px red !important;\n    top: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background: black;\n    opacity: 0.8;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .dragged-over-insert-before-node-component:before {\n    content: 'INSERT BEFORE';\n    font-weight: bold;\n    color: white;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    box-shadow: inset 0px 8px 0px 0px red !important;\n    top: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background: black;\n    opacity: 0.8;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .dragged-node-component {\n    filter: grayscale(90%);\n    pointer-events: none;\n  }\n\n\n\n\n\n/*preview panel*/\n\npreview-panel {\n  display: block;\n  border: 1px solid red;\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n}\n\n.test {\n  color: red\n}\n\n/*document node*/\n\n\n/*:not(.service-element) {*/\n.document-node-component {\n  position: relative;\n}\n\n.action-buttons {\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  z-index: 100;\n}\n\n.action-button {\n  color: red;\n  font-weight: bold;\n  font-size: 20px;\n  height: 25px;\n  overflow: hidden;\n  line-height: 25px;\n  text-shadow: 0px 0px 4px #ffffff;\n  display: inline-block;\n  cursor: pointer;\n  margin-left: 5px;\n}\n\n.delete-button {\n  color: red;\n}\n\n.save-button {\n  font-size: 17px;\n  line-height: 23px;\n  color: green;\n}\n\n.author-name {\n  width: 100px;\n  height: 20px;\n  z-index: 100;\n  position: absolute;\n  font-size: 11px;\n  font-family: arial, serif;\n  text-align: center;\n  line-height: 20px;\n  right: 0;\n  top: 0;\n}\n\n\nngx-json-viewer {\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-weight: bold;\n  text-shadow: 1px 0 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, -1px 0 0 #fff;\n}\n\nngx-json-viewer {\n  section {\n    display: flex;\n    margin: 0 !important;\n  }\n\n  .segment-key, .segment-separator {\n    display: none;\n  }\n}\n\n.save-form {\n  background: lightblue;\n  padding: 25px;\n  text-align: center;\n  border: 1px solid blue;\n  border-radius: 5px;\n  box-shadow: 10px 10px 19px 0px rgba(0, 0, 0, 0.75);\n  z-index: 1000;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  height: 70px;\n  width: 300px;\n}\n\n\n/*amp element*/\n\namp-element, external-block-wrapper {\n  border: 1px solid green;\n  padding: 20px !important;\n  display: block !important;\n}\n\n/*renderer*/\ndocument-renderer{\n  display: none;\n}\n\n\n\n</style>\n\n`;\n","export default \"accordion\\n\";","import {Component, OnInit, ViewEncapsulation} from '@angular/core';\nimport {RepositoryService} from './api/repository.service';\nimport {WebsocketService} from './api/websocket.service';\nimport {applicationUI} from './configs/applicationUI';\nimport {fakeConfig} from './fake-config';\nimport {EventsService} from './state/events.service';\nimport {StateStream} from './tools/decorators/StateStream/StateStream.decorator';\nimport {EditorEventListener} from './tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {UIState} from './state/ui-state.service';\nimport {ExtraModuleInjector} from './services/extra-module-injector/extra-module-injector';\nimport {Observable} from 'rxjs';\nimport {HtmlDocument} from '../../common/entities/HtmlDocument';\nimport {Emitter} from './tools/decorators/Emitter/Emitter.decorator';\nimport {EditorEventType} from './entities/EditorEvent';\nimport {getFakeDocument} from './configs/fakeDocument';\nimport {StateManagerService} from './state/state-manager.service';\nimport {DocumentStateService} from './state/document.state.service';\nimport {ConfigStateService} from './state/config.state.service';\nimport {AppStateService} from './state/app.state.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.less'],\n  encapsulation: ViewEncapsulation.ShadowDom\n})\n@EditorEventListener()\nexport class AppComponent implements OnInit {\n  @StateStream({stateProperty: 'ui'}) ui$;\n\n  public constructor(emi: ExtraModuleInjector,\n                     private repository: RepositoryService,\n                     private ws: WebsocketService,\n                     private state: StateManagerService,\n                     private documentState: DocumentStateService,\n                     private events: EventsService,\n                     private configState: ConfigStateService,\n                     private uiState: UIState,\n                     private appState: AppStateService) {\n  }\n\n  /**\n   *    ,     SET_DOCUMENT     \n   */\n  @Emitter({type: EditorEventType.SET_DOCUMENT})\n  private loadDocument(): Observable<HtmlDocument> {\n    const documentId = window.location.pathname.replace('/', '') || '1';\n    return this.repository.loadDocument(documentId);\n  }\n\n  @Emitter({type: EditorEventType.SET_DOCUMENT})\n  private loadFakeDocument() {\n    return getFakeDocument();\n  }\n\n  private setUI() {\n    this.uiState.setUI(applicationUI);\n  }\n\n  private setConfig(): void {\n    this.configState.setConfig({\n      externalBlocks: [],\n      externalControls: [],\n      documentsAPIUrl: 'http://localhost:5000/documents/{id}',\n      controlsAPIUrl: 'http://localhost:5000/controls/{id}',\n      customBlocksAPIUrl: 'http://localhost:5000/custom-blocks/{id}',\n      // ...(this.el.nativeElement.config || {})\n      ...(fakeConfig || {}),\n      useFakeData: true,\n    });\n  }\n\n  private setAppState(): void {\n    this.appState.set({\n      addingControl: false,\n      editedControl: undefined,\n      viewingHistory: false,\n      selectedNode: undefined,\n      draggedNode: undefined,\n      draggedControl: undefined,\n      selectedRemoteNodes: [],\n      previewFrame: undefined,\n    });\n  }\n\n  ngOnInit(): void {\n    console.log('%cEditor has started!', 'color:green;font-weight:bold;', this);\n    this.setAppState();\n    this.setUI();\n    this.setConfig();\n    console.log(\"this.configState.config\",this.configState.config)\n    this.configState.config.useFakeData ? this.loadFakeDocument() : this.loadDocument();\n  }\n}\n\n// https://jsfiddle.net/dqr371zj/2/\n","import {Injectable} from '@angular/core';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {EventsService} from './events.service';\nimport {Reducer} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {AppStateSetEvent, AppStateUpdateEvent, EditorEventType} from '../entities/EditorEvent';\nimport {ApplicationState} from './state.types';\n\n// todo create base state class\n@Injectable()\n@EditorEventListener()\nexport class AppStateService {\n  @AsyncValue()\n  @StateStream({stateProperty: 'applicationState'})\n  // @ts-ignore\n  public state: ApplicationState/* = this.state*/;\n\n  public constructor() {\n    console.log('APP state:', this);\n  }\n\n  @Reducer({type: EditorEventType.SET_APP_STATE, stateProperty: 'applicationState'})\n  private onSet(state: ApplicationState, e: AppStateSetEvent): ApplicationState {\n    return e.data;\n  }\n\n  @Reducer({type: EditorEventType.UPDATE_APP_STATE, stateProperty: 'applicationState'})\n  private onUpdate(state: ApplicationState, e: AppStateUpdateEvent): ApplicationState {\n    return {...state, ...e.data};\n  }\n\n  public set(state: ApplicationState): void {\n    EventsService.dispatch({type: EditorEventType.SET_APP_STATE, data: state});\n  }\n}\n","import {BaseControlComponent} from '../base/base-control.component';\nimport {ChangeDetectionStrategy, Component, HostBinding, OnInit} from '@angular/core';\nimport {\n    ControlObject,\n    ControlType,\n    ControlUpdateType,\n    ControlValueAccessorType,\n    InputType,\n    UINodeEventType,\n    UIRendererMode\n} from '../../../../../entities/UIObject';\nimport {ControlUtils} from '../../../../../tools/ControlUtils';\nimport {NodeUtils} from '../../../../../../../../ui-editor-common/tools/NodeUtils';\nimport {SelectItem} from '../../inputs/select/select.component';\nimport {BaseControlEditSettings} from '../../BaseControlEditSettings';\nimport {filter} from 'rxjs/operators';\nimport {MixinsDecorator} from '../../../../../tools/decorators/Mixins/Mixins.decorator';\nimport {EditorEvent} from '../../../../../entities/EditorEvent';\nimport {UpdateCommand} from '../../../../../../../../ui-editor-common/entities/Command';\n\n/**\n *    \n */\n@Component({\n    selector: 'base-control-edit',\n    templateUrl: './base-control-edit.component.html',\n    styleUrls: ['./base-control-edit.component.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n@MixinsDecorator([BaseControlEditSettings])\nexport class BaseControlEditComponent extends BaseControlComponent implements /*DoCheck,*/ OnInit {\n    @HostBinding('attr.draggable') draggable = true;\n    rendererMode = UIRendererMode.EDIT;\n    valueAccessors: SelectItem[];\n    updateTypes: SelectItem[];\n    collapsed = false;\n    showAdditionalSettings = false;\n\n    ngOnInit(): void {\n        super.ngOnInit();\n        this.valueAccessors = Object.entries(ControlValueAccessorType).map(([key, value]) => ({value, label: key}));\n        this.updateTypes = Object.entries(ControlUpdateType).map(([key, value]) => ({value, label: key}));\n    }\n\n    private saveControl() {\n        NodeUtils.reIndexNodeChildren(this.node);\n        this.applicationState.controlsDataService\n            .updateNode({\n                path: this.node.path,\n                value: this.node\n            } as UpdateCommand);\n        this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n    }\n\n    public addControl(): void {\n        this.node.children.push({\n            ...ControlUtils.defaultControlProperties,\n            tag: ControlType.BASE,\n            valueAccessor: ControlValueAccessorType.BUFF,\n            children: [],\n            bindings: {value: ControlUtils.valueAccessorProp},\n        });\n        this.saveControl();\n    }\n\n    public addInput(): void {\n        this.node.children.push({\n            ...ControlUtils.defaultControlProperties,\n            tag: InputType.TEXT,\n            children: [],\n            bindings: {value: ControlUtils.valueAccessorProp}\n        });\n        this.saveControl();\n    }\n\n    public renameValueAccessor(valueAccessor: ControlValueAccessorType): void {\n        this.node.valueAccessor = valueAccessor;\n        if (valueAccessor === ControlValueAccessorType.STYLE) {\n            this.node.bindings = {value: `${this.node.path.length ? ControlUtils.valueAccessorProp : 'editedNode'}.attributes.style`};\n        }\n        this.setValueAccessor();\n        this.saveControl();\n    }\n\n    // protected isOverCurrentNode() {\n    //   return filter((e: EditorEvent) => {\n    //       const result = !this.dragged &&\n    //         !!this.node.path.length &&\n    //         (e.data.target === this.el.nativeElement ||\n    //           (<Element>e.data.target).closest('base-control-edit') === this.el.nativeElement) &&\n    //         !(<Element>e.data.target).closest('base-input-edit');\n    //       return result;\n    //     }\n    //   );\n    // }\n\n    protected isOverCurrentNode(e: EditorEvent): boolean {\n        return !this.dragged &&\n            !!this.node.path.length &&\n            (e.data.target === this.el.nativeElement ||\n                (<Element>e.data.target).closest('base-control-edit') === this.el.nativeElement) &&\n            !(<Element>e.data.target).closest('base-input-edit');\n    }\n\n    protected onDragEnter(e: EditorEvent) {\n        super.onDragEnter(e);\n        this.cdr.markForCheck();\n    }\n\n    // todo ACTUALIZE\n    protected moveInto(e): void {\n        // this.globalState.controlsDataService.removeNodes([this.globalState.draggedControl]);\n        // this.globalState.controlsDataService.insertNodes([this.getNodeForInsert(this.globalState.draggedControl, e, true)]);\n        // NodeUtils.reIndexNodeChildren(this.node);\n        // this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n        this.onDragStop();\n    }\n\n    protected copyInto(e: Event): void {\n        // this.globalState.controlsDataService.insertNodes([cloneDeep(this.getNodeForInsert(this.globalState.draggedControl, e))]);\n        // NodeUtils.reIndexNodeChildren(this.node);\n        // this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n        this.onDragStop();\n    }\n\n\n    public setIteration(iterate: boolean): void {\n        if (iterate) {\n            this.node.iterate = ControlUtils.valueAccessorProp;\n            this.node.bindings = {value: 'value'};\n        } else {\n            this.node.iterate = undefined;\n            this.node.bindings = {value: ControlUtils.valueAccessorProp};\n        }\n        this.saveControl();\n    }\n\n    public isIterable(): boolean {\n        if (!this.node.path.length) {\n            return false;\n        }\n        const parent = NodeUtils.getChildByPath(\n            this.applicationState.controlsDataService.data.html, this.node.path.slice(0, -1)\n        ) as ControlObject;\n        return [ControlValueAccessorType.DOM, ControlValueAccessorType.STYLE].indexOf(parent.valueAccessor) >= 0;\n    }\n}\n","export default \".block-thumb {\\n  background: lightgreen;\\n  padding: 5px;\\n  text-align: center;\\n  border-radius: 5px;\\n  border: 1px solid #40ca40;\\n  box-shadow: 1px 1px 2px 0px rgba(0, 0, 0, 0.75);\\n  margin-top: 5px;\\n}\\n.block-thumb:hover {\\n  background: #39eea0;\\n  cursor: -webkit-grab;\\n  cursor: grab;\\n}\\n:host {\\n  display: block;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvYmxvY2stdGh1bWIvYmxvY2stdGh1bWIuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvYmxvY2stdGh1bWIvYmxvY2stdGh1bWIuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSwrQ0FBQTtFQUNBLGVBQUE7QUNDRjtBREVBO0VBQ0UsbUJBQUE7RUFDQSxvQkFBQTtFQUFBLFlBQUE7QUNBRjtBREdBO0VBQ0UsY0FBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS9ibG9jay10aHVtYi9ibG9jay10aHVtYi5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ibG9jay10aHVtYiB7XG4gIGJhY2tncm91bmQ6IGxpZ2h0Z3JlZW47XG4gIHBhZGRpbmc6IDVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM0MGNhNDA7XG4gIGJveC1zaGFkb3c6IDFweCAxcHggMnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xuICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5ibG9jay10aHVtYjpob3ZlcntcbiAgYmFja2dyb3VuZDogIzM5ZWVhMDtcbiAgY3Vyc29yOiBncmFiO1xufVxuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuIiwiLmJsb2NrLXRodW1iIHtcbiAgYmFja2dyb3VuZDogbGlnaHRncmVlbjtcbiAgcGFkZGluZzogNXB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyOiAxcHggc29saWQgIzQwY2E0MDtcbiAgYm94LXNoYWRvdzogMXB4IDFweCAycHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cbi5ibG9jay10aHVtYjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMzOWVlYTA7XG4gIGN1cnNvcjogZ3JhYjtcbn1cbjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4iXX0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2xhYmVsL2xhYmVsLmNvbXBvbmVudC5sZXNzIn0= */\";","import {Pipe, PipeTransform} from '@angular/core';\nimport {ControlObject} from '../../../entities/UIObject';\nimport {cloneDeep} from 'lodash';\n\n@Pipe({\n  name: 'controlObjectValue'\n})\nexport class ControlObjectValuePipe implements PipeTransform {\n\n  constructor() {\n  }\n\n  private cleanDevProps(value): void {\n    if (value) {\n      delete value.type;\n      delete value.path;\n      delete value._id;\n      delete value.customBlockId;\n      delete value.documentId;\n      delete value.__v;\n      (value.children || []).forEach(c => this.cleanDevProps(c));\n    }\n  }\n\n  public transform(value: ControlObject): ControlObject {\n    if (!value) {\n      return {} as any;\n    }\n    value = cloneDeep(value);\n    this.cleanDevProps(value);\n    return value;\n  }\n}\n","import {isObservable, Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\nimport {destroyEmitter} from '../decorator.types';\nimport DecoratorTools from '../decorator.tools';\n\nexport function AsyncValue(property?: string) {\n    return function (target: Object, key: string) {\n\n        let value;\n        target[key].subscribe(v => value = property ? v[property] : v);\n\n        // DecoratorTools.redefineAccessors(target, key, (_get, _set) => {\n        //   return {\n        //     get: function () {\n        //       return _get.call(this);\n        //     },\n        //     set: function (value: Observable<any>) {\n        //       if (isObservable(value)) {\n        //         value\n        //           .pipe(takeUntil(this[destroyEmitter]))\n        //           .subscribe(result => result && _set.call(this, property ? result[property] : result, true));\n        //       } else {\n        //         _set.call(this, value);\n        //       }\n        //     }\n        //   };\n        // });\n\n        DecoratorTools.redefineAccessors(target, key, (_get, _set) => {\n            return {\n                get: function () {\n                    return value;\n                },\n                set: function (value: Observable<any>) {\n                    _set.call(this, value);\n                }\n            };\n        });\n    };\n}\n","export default \"<!--<html amp=\\\"\\\">-->\\n<!--<head>-->\\n\\n  <!--<script async src=\\\"https://cdn.ampproject.org/v0/amp-carousel-0.1.js\\\"></script>-->\\n  <!--<script async src=\\\"https://cdn.ampproject.org/v0.js\\\"></script>-->\\n  <!--<script async src=\\\"https://cdn.ampproject.org/shadow-v0.js\\\"></script>-->\\n<!--</head>-->\\n<!--<body>-->\\n\\n\\n<css-renderer></css-renderer>\\n<ui-renderer\\n  *ngIf=\\\"ui$ | async as ui\\\"\\n  [node]=\\\"ui\\\">\\n</ui-renderer>\\n\\n\\n<!--</body>-->\\n<!--</html>-->\\n\";","export default \"<html-editor *ngIf=\\\"editedNode\\\" [node]=\\\"editedNode\\\" (valueChanged)=\\\"updateNode($event)\\\"></html-editor>\\n\";","export default \".switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 30px;\\n  height: 17px;\\n}\\n.switch input {\\n  opacity: 0;\\n  width: 0;\\n  height: 0;\\n}\\n.slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #ccc;\\n  transition: 0.4s;\\n}\\n.slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 13px;\\n  width: 13px;\\n  left: 2px;\\n  bottom: 2px;\\n  background-color: white;\\n  transition: 0.4s;\\n}\\ninput:checked + .slider {\\n  background-color: #60f351;\\n}\\ninput:focus + .slider {\\n  box-shadow: 0 0 1px #60f351;\\n}\\ninput:checked + .slider:before {\\n  transform: translateX(13px);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL3RvZ2dsZXIvdG9nZ2xlci5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvY29tcG9uZW50cy91aS9zZXR0aW5ncy9pbnB1dHMvdG9nZ2xlci90b2dnbGVyLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0Y7QURFQTtFQUNFLFVBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0FGO0FER0E7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtBQ0RGO0FESUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQ0ZGO0FES0E7RUFDRSx5QkFBQTtBQ0hGO0FETUE7RUFDRSwyQkFBQTtBQ0pGO0FET0E7RUFDRSwyQkFBQTtBQ0xGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS9zZXR0aW5ncy9pbnB1dHMvdG9nZ2xlci90b2dnbGVyLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLnN3aXRjaCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAxN3B4O1xufVxuXG4uc3dpdGNoIGlucHV0IHtcbiAgb3BhY2l0eTogMDtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbn1cblxuLnNsaWRlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XG4gIHRyYW5zaXRpb246IC40cztcbn1cblxuLnNsaWRlcjpiZWZvcmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGhlaWdodDogMTNweDtcbiAgd2lkdGg6IDEzcHg7XG4gIGxlZnQ6IDJweDtcbiAgYm90dG9tOiAycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB0cmFuc2l0aW9uOiAuNHM7XG59XG5cbmlucHV0OmNoZWNrZWQgKyAuc2xpZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzYwZjM1MTtcbn1cblxuaW5wdXQ6Zm9jdXMgKyAuc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogMCAwIDFweCAjNjBmMzUxO1xufVxuXG5pbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTNweCk7XG59XG4iLCIuc3dpdGNoIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDE3cHg7XG59XG4uc3dpdGNoIGlucHV0IHtcbiAgb3BhY2l0eTogMDtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbn1cbi5zbGlkZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xuICB0cmFuc2l0aW9uOiAwLjRzO1xufVxuLnNsaWRlcjpiZWZvcmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGhlaWdodDogMTNweDtcbiAgd2lkdGg6IDEzcHg7XG4gIGxlZnQ6IDJweDtcbiAgYm90dG9tOiAycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB0cmFuc2l0aW9uOiAwLjRzO1xufVxuaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjBmMzUxO1xufVxuaW5wdXQ6Zm9jdXMgKyAuc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogMCAwIDFweCAjNjBmMzUxO1xufVxuaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEzcHgpO1xufVxuIl19 */\";","export default \"input {\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvY29udHJvbHMvYmFzZS9iYXNlLWNvbnRyb2wuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvY29udHJvbHMvYmFzZS9iYXNlLWNvbnRyb2wuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3VpL3NldHRpbmdzL2NvbnRyb2xzL2Jhc2UvYmFzZS1jb250cm9sLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbn1cbiIsImlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXX0= */\";","import {ChangeDetectorRef, ElementRef, HostListener, Injector} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {EditorEventType} from '../../../entities/EditorEvent';\nimport {Emitter} from '../../../tools/decorators/Emitter/Emitter.decorator';\n\n/**\n *         ,  {@link UINodeComponent}\n *        drag&drop\n *    {@link BaseNodeComponent}         drag&drop\n *\n */\nexport abstract class BaseNodesContainerComponent extends UINodeComponent {\n\n  @Emitter({type: EditorEventType.NODE_DRAG_START})\n  @HostListener('dragstart', ['$event'])\n  onChildDragStart(e) {\n    console.log('\\nonChildDragStart', e);\n    // this.cdr.detach();\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDragStart();\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  @Emitter({type: EditorEventType.NODE_DRAG_END})\n  @HostListener('dragend', ['$event'])\n  onChildDragEnd(e) {\n    console.log('\\nonChildDragEnd');\n    // this.cdr.reattach();\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDragStop();\n    //   // this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  @Emitter({type: EditorEventType.NODE_DRAG_ENTER})\n  @HostListener('dragenter', ['$event'])\n  onChildDragEnter(e) {\n    e.preventDefault();\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDragEnter({type: undefined, data: e});\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  @Emitter({type: EditorEventType.NODE_DRAG_LEAVE})\n  @HostListener('dragleave', ['$event'])\n  onChildDragLeave(e) {\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDragStop();\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  // @Emitter({type: EditorEventType.NODE_DRAG_OVER})\n  @HostListener('dragover', ['$event'])\n  onChildDragOver(e) {\n    e.preventDefault();\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDragEnter({type: undefined, data: e});\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  @Emitter({type: EditorEventType.NODE_DRAG_DROP})\n  @HostListener('drop', ['$event'])\n  onChildDrop(e) {\n    // if (this.applicationState.componentsMap.get(e.target)) {\n    //   this.applicationState.componentsMap.get(e.target).onDrop({type: undefined, data: e});\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n}\n","export default \":host ::ng-deep .hovered-node-component:before {\\n  content: ' ';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  background: #24b0ff;\\n  box-shadow: inset 0px 0px 0px 2px #4a60ff !important;\\n  opacity: 0.7;\\n  color: white;\\n  top: 0;\\n  left: 0;\\n  text-align: center;\\n  font-size: 10px;\\n}\\n:host ::ng-deep .selected-node-component {\\n  z-index: 100;\\n  box-shadow: inset 0px 0px 0px 2px #000000 !important;\\n}\\n:host ::ng-deep .dragged-over-node-component:before {\\n  content: 'DROP HERE';\\n  font-weight: bold;\\n  color: white;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  box-shadow: inset 0px 0px 0px 2px red !important;\\n  top: 0;\\n  left: 0;\\n  text-align: center;\\n  font-size: 14px;\\n  background: black;\\n  opacity: 0.8;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host ::ng-deep .dragged-over-insert-before-node-component:before {\\n  content: 'INSERT BEFORE';\\n  font-weight: bold;\\n  color: white;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  box-shadow: inset 0px 8px 0px 0px red !important;\\n  top: 0;\\n  left: 0;\\n  text-align: center;\\n  font-size: 14px;\\n  background: black;\\n  opacity: 0.8;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host ::ng-deep .dragged-node-component {\\n  filter: grayscale(90%);\\n  pointer-events: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvYmFzZS1ub2Rlcy1jb250YWluZXIvYmFzZS1ub2Rlcy1jb250YWluZXIuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvYmFzZS1ub2Rlcy1jb250YWluZXIvYmFzZS1ub2Rlcy1jb250YWluZXIuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0Esb0RBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FDQUo7QURiQTtFQWlCSSxZQUFBO0VBQ0Esb0RBQUE7QUNESjtBRGpCQTtFQXNCSSxvQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnREFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNGSjtBRG5DQTtFQXlDSSx3QkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnREFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNISjtBRHJEQTtFQTRESSxzQkFBQTtFQUNBLG9CQUFBO0FDSkoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3VpL2Jhc2Utbm9kZXMtY29udGFpbmVyL2Jhc2Utbm9kZXMtY29udGFpbmVyLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIHtcbiAgLmhvdmVyZWQtbm9kZS1jb21wb25lbnQ6YmVmb3JlIHtcbiAgICBjb250ZW50OiAnICc7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiAjMjRiMGZmO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggMHB4IDJweCAjNGE2MGZmICFpbXBvcnRhbnQ7XG4gICAgb3BhY2l0eTogMC43O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICB9XG5cbiAgLnNlbGVjdGVkLW5vZGUtY29tcG9uZW50IHtcbiAgICB6LWluZGV4OiAxMDA7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMSkgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5kcmFnZ2VkLW92ZXItbm9kZS1jb21wb25lbnQ6YmVmb3JlIHtcbiAgICBjb250ZW50OiAnRFJPUCBIRVJFJztcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwcHggMHB4IDBweCAycHggcmVkICFpbXBvcnRhbnQ7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICBvcGFjaXR5OiAwLjg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG5cbiAgLmRyYWdnZWQtb3Zlci1pbnNlcnQtYmVmb3JlLW5vZGUtY29tcG9uZW50OmJlZm9yZSB7XG4gICAgY29udGVudDogJ0lOU0VSVCBCRUZPUkUnO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCA4cHggMHB4IDBweCByZWQgIWltcG9ydGFudDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJhY2tncm91bmQ6IGJsYWNrO1xuICAgIG9wYWNpdHk6IDAuODtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICAuZHJhZ2dlZC1ub2RlLWNvbXBvbmVudCB7XG4gICAgZmlsdGVyOiBncmF5c2NhbGUoOTAlKTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG59XG5cbiIsIjpob3N0IDo6bmctZGVlcCAuaG92ZXJlZC1ub2RlLWNvbXBvbmVudDpiZWZvcmUge1xuICBjb250ZW50OiAnICc7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogIzI0YjBmZjtcbiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAwcHggMnB4ICM0YTYwZmYgIWltcG9ydGFudDtcbiAgb3BhY2l0eTogMC43O1xuICBjb2xvcjogd2hpdGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEwcHg7XG59XG46aG9zdCA6Om5nLWRlZXAgLnNlbGVjdGVkLW5vZGUtY29tcG9uZW50IHtcbiAgei1pbmRleDogMTAwO1xuICBib3gtc2hhZG93OiBpbnNldCAwcHggMHB4IDBweCAycHggIzAwMDAwMCAhaW1wb3J0YW50O1xufVxuOmhvc3QgOjpuZy1kZWVwIC5kcmFnZ2VkLW92ZXItbm9kZS1jb21wb25lbnQ6YmVmb3JlIHtcbiAgY29udGVudDogJ0RST1AgSEVSRSc7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogd2hpdGU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAwcHggMnB4IHJlZCAhaW1wb3J0YW50O1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgb3BhY2l0eTogMC44O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbjpob3N0IDo6bmctZGVlcCAuZHJhZ2dlZC1vdmVyLWluc2VydC1iZWZvcmUtbm9kZS1jb21wb25lbnQ6YmVmb3JlIHtcbiAgY29udGVudDogJ0lOU0VSVCBCRUZPUkUnO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHdoaXRlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJveC1zaGFkb3c6IGluc2V0IDBweCA4cHggMHB4IDBweCByZWQgIWltcG9ydGFudDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgYmFja2dyb3VuZDogYmxhY2s7XG4gIG9wYWNpdHk6IDAuODtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG46aG9zdCA6Om5nLWRlZXAgLmRyYWdnZWQtbm9kZS1jb21wb25lbnQge1xuICBmaWx0ZXI6IGdyYXlzY2FsZSg5MCUpO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbiJdfQ== */\";","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\nimport {HtmlDocument} from '../../../../ui-editor-common/entities/HtmlDocument';\nimport {Control} from '../../../../ui-editor-common/entities/Control';\nimport {CustomBlock} from '../../../../ui-editor-common/entities/CustomBlock';\nimport {ConfigStateService} from '../state/config.state.service';\n\n// todo needs complete refactoring\n@Injectable()\nexport class RepositoryService {\n\n  public constructor(private http: HttpClient,\n                     private configState: ConfigStateService) {\n  }\n\n  private getUrl(url: string, urlParams: any = {}, queryParams: any = {}): string {\n    Object.keys(urlParams)\n      .forEach(urlParam => url = url.replace(`{${urlParam}}`, urlParams[urlParam]));\n\n    let query = Object.keys(queryParams)\n      .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(queryParams[k])}`)\n      .join('&');\n    query = query ? `?${query}` : '';\n\n    url = url.replace(/{.+}/g, '');\n\n    return `${url}${query}`;\n  }\n\n  public loadDocument(id: any): Observable<HtmlDocument> {\n    // return this.http.get<HtmlDocument>(this.getUrl(this.config.documentsAPIUrl, {id}), {withCredentials: true});\n    return this.http.get<HtmlDocument>(this.getUrl(this.configState.getConfig().documentsAPIUrl, {id}), {withCredentials: true});\n  }\n\n  public loadControls(documentId: string): Observable<Control[]> {\n    // return this.http.get<Control[]>(this.getUrl(this.config.controlsAPIUrl, {}, {documentId}), {withCredentials: true});\n    return this.http.get<Control[]>(this.getUrl(this.configState.getConfig().controlsAPIUrl, {}, {documentId}), {withCredentials: true});\n  }\n\n  public createControl(control: Control, documentId: string): Observable<Control[]> {\n    // return this.http.post<Control[]>(this.getUrl(this.config.controlsAPIUrl, {}, {documentId}), control, {withCredentials: true});\n    return this.http.post<Control[]>(this.getUrl(this.configState.getConfig().controlsAPIUrl, {}, {documentId}), control, {withCredentials: true});\n  }\n\n  public deleteControl(id: string, documentId: string): Observable<Control[]> {\n    // return this.http.delete<Control[]>(this.getUrl(this.config.controlsAPIUrl, {id}, {documentId}), {withCredentials: true});\n    return this.http.delete<Control[]>(this.getUrl(this.configState.getConfig().controlsAPIUrl, {id}, {documentId}), {withCredentials: true});\n  }\n\n  public updateControl(control: Control, documentId: string): Observable<Control[]> {\n    return this.http\n      // .patch<Control[]>(this.getUrl(this.config.controlsAPIUrl, {id: control.id}, {documentId}), control, {withCredentials: true});\n      .patch<Control[]>(this.getUrl(this.configState.getConfig().controlsAPIUrl, {id: control.id}, {documentId}), control, {withCredentials: true});\n  }\n\n\n  public loadBlocks(documentId: string): Observable<CustomBlock[]> {\n    // return this.http.get<Control[]>(this.getUrl(this.config.customBlocksAPIUrl, {}, {documentId}), {withCredentials: true});\n    return this.http.get<Control[]>(this.getUrl(this.configState.getConfig().customBlocksAPIUrl, {}, {documentId}), {withCredentials: true});\n  }\n\n  public createBlock(block: CustomBlock, documentId: string): Observable<CustomBlock[]> {\n    // return this.http.post<CustomBlock[]>(this.getUrl(this.config.customBlocksAPIUrl, {}, {documentId}), block, {withCredentials: true});\n    return this.http.post<CustomBlock[]>(this.getUrl(this.configState.getConfig().customBlocksAPIUrl, {}, {documentId}), block, {withCredentials: true});\n  }\n\n  public deleteBlock(id: string, documentId: string): Observable<CustomBlock[]> {\n    // return this.http.delete<CustomBlock[]>(this.getUrl(this.config.customBlocksAPIUrl, {id}, {documentId}), {withCredentials: true});\n    return this.http.delete<CustomBlock[]>(this.getUrl(this.configState.getConfig().customBlocksAPIUrl, {id}, {documentId}), {withCredentials: true});\n  }\n\n  public updateBlock(control: CustomBlock, documentId: string): Observable<CustomBlock[]> {\n    return this.http\n      .patch<CustomBlock[]>(\n        // this.getUrl(this.config.customBlocksAPIUrl, {id: control.customBlockId}, {documentId}), control, {withCredentials: true}\n        this.getUrl(this.configState.getConfig().customBlocksAPIUrl, {id: control.customBlockId}, {documentId}), control, {withCredentials: true}\n      );\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {AppComponent} from './app.component';\nimport {CoreModule} from './core/core.module';\nimport {ComponentsModule} from './components/components.module';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n    ],\n    imports: [\n        CoreModule,\n        ComponentsModule\n    ],\n    providers: [],\n    bootstrap: [AppComponent]\n    // entryComponents: [AppComponent]\n})\nexport class AppModule {\n    // todo find out how to activate with build options\n    // constructor(private injector: Injector) {\n    //   const el = createCustomElement(AppComponent, {injector});\n    //   customElements.define('ui-editor', el);\n    // }\n    //\n    // ngDoBootstrap() {\n    // }\n\n}\n\n","import {BaseDomRenderer} from '../components/renderers/dom/base.dom-renderer';\nimport {Component, InjectionToken} from '@angular/core';\nimport {NodeObject} from '../../../common/entities/NodeObject';\n\n/**\n * Interface    Node\n *    node {@link NodeObject}      node  {@link BaseDomRenderer}\n */\nexport interface NodeComponent extends Component {\n  node: NodeObject;\n  container: BaseDomRenderer;\n}\n\nexport const NodeComponentNode = new InjectionToken<number>('NodeComponentNode');\n","import {ChangeDetectorRef, Component, ElementRef, Injector, OnInit} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {BaseNodesContainerComponent} from '../base-nodes-container/base-nodes-container.component';\nimport {ControlUtils} from '../../../tools/ControlUtils';\nimport {BaseNodes} from '../../../entities/BaseNodes';\nimport {UIObject, UIObjectType} from '../../../entities/UIObject';\nimport {CustomBlocksService} from '../../../services/custom-blocks/custom-blocks.service';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {ConfigStateService} from '../../../state/config.state.service';\n\n/**\n *     , external   custom ,\n *  {@link BaseNodesContainerComponent}\n *\n*/\n@Component({\n  selector: 'blocks-panel-component',\n  // templateUrl: './blocks-panel.component.html',\n  templateUrl: '../ui-node-component/ui-node.component.html',\n  styleUrls: ['./blocks-panel.component.less']\n})\n@EditorEventListener()\nexport class BlocksPanelComponent extends BaseNodesContainerComponent implements OnInit {\n\n  public constructor(el: ElementRef,\n                     cdr: ChangeDetectorRef,\n                     events: EventsService,\n                     private customBlocks: CustomBlocksService,\n                     private configState: ConfigStateService,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  private getExternalBlocks(): UIObject[] {\n    return this.configState.getExternalBlocks().map(b => ({\n      ...ControlUtils.defaultUINodeProperties,\n      tag: UIObjectType.BLOCK_THUMB,\n      localState: {\n        externalBlock: true,\n        block: {...ControlUtils.defaultUINodeProperties, ...b.defaultTemplate, externalBlock: true}\n      }\n    }));\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.customBlocks\n      .getCustomBlocks()\n      .subscribe(customBlocks => {\n        this.node.children = [\n          ...Object\n            .entries(BaseNodes)\n            .map(([key, value]) => ({\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.BLOCK_THUMB,\n              localState: {\n                block: {tag: value}\n              }\n            })),\n\n          ...this.getExternalBlocks(),\n\n          ...customBlocks\n            .map(node => ({\n              ...ControlUtils.defaultUINodeProperties,\n              tag: UIObjectType.BLOCK_THUMB,\n              localState: {\n                customBlock: true,\n                block: node\n              }\n            }))\n        ];\n\n        console.log('blocks:', this.node.children);\n      });\n\n  }\n}\n","import {UINodeComponent} from '../../../ui-node-component/ui-node.component';\nimport {ChangeDetectionStrategy, Component, DoCheck, EventEmitter, HostBinding, HostListener, OnInit} from '@angular/core';\nimport {\n  ControlObject,\n  ControlUpdatedEvent,\n  ControlUpdateType,\n  ControlValueAccessor,\n  InputType,\n  IterableControlValueAccessor,\n  SettingsObject,\n  UINodeEvent,\n  UINodeEventType,\n  UIObject,\n  UpdateSummary,\n} from '../../../../../entities/UIObject';\nimport {valueAccessors} from '../../value-accessors/valueAccessors';\nimport {cloneDeep, isEqual, pickBy, set} from 'lodash';\nimport {ControlUtils} from '../../../../../tools/ControlUtils';\nimport {DataMethod} from '../../../../../../../../ui-editor-common/services/dom.data.service';\nimport {EditorEventType} from '../../../../../entities/EditorEvent';\nimport {LogMethod} from '../../../../../tools/decorators/Log/Log.decorator';\nimport {EventsService} from '../../../../../state/events.service';\n\n/**\n *    \n */\n@Component({\n  selector: 'base-control',\n  templateUrl: '../../../ui-node-component/ui-node.component.html',\n  styleUrls: ['./base-control.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n// @LogClass()\nexport class BaseControlComponent extends UINodeComponent implements OnInit, DoCheck {\n\n  @HostBinding('class.control-with-inputs') containsInputs: boolean;\n\n  valueAccessor: ControlValueAccessor;\n  node: ControlObject;\n  uiNodeEvent: EventEmitter<ControlUpdatedEvent> = new EventEmitter<ControlUpdatedEvent>();\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.setValueAccessor();\n    this.containsInputs = Boolean(this.node.children.find(c => Object.values(InputType).includes(<InputType>c.tag)));\n  }\n\n  ngDoCheck(): void {\n    if (!isEqual(this.node, this.container.node)) {\n      this.node = <ControlObject>this.container.node;\n      this.node.localState && Object.assign(this.localState, this.node.localState);\n      this.setValueAccessor();\n    }\n    if (this.node && !isEqual(this.node.localState, this.localState)) {\n      this.updateLocalState();\n    }\n  }\n\n  //todo causes change detection on each run\n  @HostListener('click', ['$event'])\n  onClick(e: Event) {\n    if (!this.node.path.length && e['ctrlKey']) {\n      this.applicationState = {\n        editedControl: this.node,\n        addingControl: true\n      };\n    }\n  }\n\n  /**\n   *  valueAccessor  '   \"node.valueAccessor\"\n   */\n  protected setValueAccessor(): void {\n    // @ts-ignore\n    this.valueAccessor = new valueAccessors[this.node.valueAccessor](this.node.value);\n  }\n\n  /**\n   *        valueAccessor\n   */\n  protected applyChildBinding(child: SettingsObject, to: string, from: string, context: any = this): UIObject {\n    // todo BUG child should be new every time\n    // todo maybe predefined value should be in separate prop, otherwise we do not know which value should be removed\n    // if (child[to] !== undefined && this.rendererMode === UIRendererMode.DISPLAY) {\n    //   return child;\n    // }\n\n    if (!child.iterate && from && from.indexOf(ControlUtils.valueAccessorProp) === 0) {\n      set(child, to, cloneDeep(this.valueAccessor.getValue(ControlUtils.getValueAccessorProperty(from))));\n      return child;\n    } else {\n      return super.applyChildBinding(child, to, from, context);\n    }\n  }\n\n  protected updateValue(property: string, value: any): void {\n    this.valueAccessor.setValue(ControlUtils.getValueAccessorProperty(property), value);\n  }\n\n  protected insertValue(value: any): void {\n    (<IterableControlValueAccessor>this.valueAccessor).addItem(value);\n  }\n\n  protected removeValue(index: string | number): void {\n    (<IterableControlValueAccessor>this.valueAccessor).removeItem(index);\n  }\n\n  // todo global state is being set here dynamically\n  /**\n   *    '  ,      \n   *  ,     \n   * @param child\n   */\n  protected updateBindedProperty(child: SettingsObject): void {\n    console.log('child.bindings', child.bindings);\n    if (child.bindings.value.match('applicationState')) {\n      EventsService.dispatch({\n        type: EditorEventType.UPDATE_APP_STATE,\n        data: {\n          [child.bindings.value.replace(`applicationState.`, '')]: child.value\n        }\n      });\n    } else {\n      set(this, child.bindings.value, child.value);\n    }\n    this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n  }\n\n  protected getDataMethod(updateType: ControlUpdateType): DataMethod {\n    if (updateType === ControlUpdateType.MODIFY || !this.valueAccessor.structural) {\n      return DataMethod.UPDATE;\n    }\n\n    if (updateType === ControlUpdateType.INSERT) {\n      return DataMethod.INSERT;\n    }\n\n    if (updateType === ControlUpdateType.DELETE) {\n      return DataMethod.DELETE;\n    }\n  }\n\n  protected getUpdateSummary(event: ControlUpdatedEvent): UpdateSummary {\n    const dataMethod = this.getDataMethod(event.emitter.updateType);\n    const lastSummary = event.summary || {} as any;\n\n    if (this.valueAccessor.transformer) {\n      return event.summary || {dataMethod} as any;\n    }\n\n    return {\n      modifiedPath: this.valueAccessor.getModifiedPath && this.valueAccessor.getModifiedPath(),\n      modifiedProperty: this.node.bindings.value,\n      value: this.valueAccessor.getModifiedValue(),\n      ...pickBy(lastSummary, v => !!v),\n      dataMethod: dataMethod !== DataMethod.UPDATE ? dataMethod : (lastSummary.dataMethod || dataMethod)\n    };\n\n  }\n\n  protected save(event: ControlUpdatedEvent): void {\n    if (this.valueAccessor.isValid()) {\n      this.uiNodeEvent.emit({\n        type: UINodeEventType.CONTROL_VALUE_UPDATE,\n        emitter: {...this.node, value: this.valueAccessor.getRawValue()},\n        summary: this.getUpdateSummary(event)\n      });\n    }\n  }\n\n  public onChildUpdated(event: ControlUpdatedEvent): void {\n    if (event.emitter.updateType === ControlUpdateType.INSERT) {\n      this.insertValue(event.emitter.value);\n    } else if (event.emitter.updateType === ControlUpdateType.MODIFY) {\n      this.updateValue(event.emitter.bindings.value, event.emitter.value);\n    }\n  }\n\n  public onIterableChildUpdated(event: ControlUpdatedEvent, iterableComponentIndex: string | number): void {\n    if (event.emitter.updateType === ControlUpdateType.DELETE) {\n      this.removeValue(iterableComponentIndex);\n    } else {\n      (<IterableControlValueAccessor>this.valueAccessor).updateItem(iterableComponentIndex, event.emitter.value);\n    }\n  }\n\n  private isControlValueUpdated(event: ControlUpdatedEvent): boolean {\n    return event.emitter.updateType === ControlUpdateType.DELETE ||\n      event.emitter.updateType === ControlUpdateType.INSERT ||\n      ControlUtils.isBoundToValueAccessor(event.emitter.bindings.value);\n  }\n\n  private updateControlValue(event: ControlUpdatedEvent, iterableComponentIndex?: string | number): void {\n    if (event.emitter.updateType !== ControlUpdateType.NONE) {\n      iterableComponentIndex !== undefined ?\n        this.onIterableChildUpdated(event, iterableComponentIndex) :\n        this.onChildUpdated(event);\n    }\n    this.save(event);\n  }\n\n  protected onControlUpdate(event: UINodeEvent, iterableComponentIndex?: string | number): void {\n    if (iterableComponentIndex !== undefined || this.isControlValueUpdated(event)) {\n      this.updateControlValue(event, iterableComponentIndex);\n    } else {\n      this.updateBindedProperty(event.emitter);\n    }\n  }\n\n  public onComponentEvent(event: UINodeEvent, iterableComponentIndex?: string | number): void {\n    console.log('onComponentEvent', event, iterableComponentIndex);\n    if (event.type === UINodeEventType.CONTROL_VALUE_UPDATE) {\n      this.onControlUpdate(event, iterableComponentIndex);\n    }\n  }\n\n  // todo duplication from basecontroleditsettings\n  /**\n   *     bindings({key: value}).\n   *     child.key   this[value] a this.valueAccessor[value] ( value   'valueAccessor')\n   * @param child\n   * @param context\n   */\n  public applyBindings(child: SettingsObject, context: any = this): SettingsObject {\n    const result: SettingsObject = super.applyBindings(child, context);\n    if (result.localState && result.localState.initialValue) {\n      result.value = result.localState.initialValue;\n    }\n    return result;\n  }\n}\n","import {NodeComponent, NodeComponentNode} from '../../../entities/NodeComponent';\nimport {BaseDomRenderer} from './base.dom-renderer';\nimport {ChangeDetectorRef, ElementRef, HostBinding, Injector, OnDestroy, OnInit} from '@angular/core';\nimport {filter} from 'rxjs/operators';\nimport {HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {EditorEvent, EditorEventType} from '../../../entities/EditorEvent';\nimport {EventsService} from '../../../state/events.service';\nimport {Path} from '../../../../../../ui-editor-common/entities/Path';\nimport {NodeUtils} from '../../../../../../ui-editor-common/tools/NodeUtils';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {EventSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\nimport {InjectedValue} from '../../../tools/decorators/InjectedValue/InjectedValue.decorator';\nimport {AsyncValue} from '../../../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../../../tools/decorators/StateStream/StateStream.decorator';\nimport {ApplicationState} from '../../../state/state.types';\n\n\n/**\n *    ,  {@link NodeComponent}\n * <br/>    drag & drop       \n */\n@EditorEventListener()\nexport class BaseNodeComponent implements NodeComponent, OnInit, OnDestroy {\n    @HostBinding('class.dragged-node-component') dragged = false;\n    @HostBinding('class.dragged-over-node-component') draggedOver = false;\n    @HostBinding('class.dragged-over-insert-before-node-component') draggedOverInsertBefore = false;\n    draggable: boolean = false;\n    @InjectedValue({token: NodeComponentNode, dynamicInjector: true}) node: HtmlObject;\n    container: BaseDomRenderer;\n    index: number;\n\n\n    @AsyncValue()\n    @StateStream({stateProperty: 'applicationState'})\n    // @ts-ignore\n    public applicationState: Partial<ApplicationState>/* = this.applicationState*/;\n\n    // applicationState = {};\n\n    constructor(public cdr: ChangeDetectorRef,\n                protected el: ElementRef,\n                protected events: EventsService,\n                protected injector: Injector) {\n    }\n\n    protected applyNodeAttributes() {\n        this.node && Object.keys(this.node.attributes || {})\n            .forEach(attr => this.el.nativeElement.setAttribute(attr, this.node.attributes[attr]));\n    }\n\n    ngOnInit(): void {\n        // console.log('%cINIT', 'font-weight:bold;color:red;');\n        this.applyNodeAttributes();\n        // if (!this.applicationState.componentsMap) {\n        //   this.applicationState = {componentsMap: new WeakMap<Element, BaseNodeComponent>()};\n        // }\n        // this.applicationState.componentsMap.set(this.el.nativeElement, this);\n    }\n\n    // @LogMethod()\n    @EventSubscriber({type: EditorEventType.NODE_DRAG_START, pipes: 'isOverCurrentNode', condition: 'draggable'})\n    protected onDragStart() {\n        console.log('onDragStart');\n        setTimeout(() => {\n            this.dragged = true;\n            this.cdr.markForCheck();\n        });\n    }\n\n    @EventSubscriber({type: EditorEventType.NODE_DRAG_LEAVE, pipes: 'isOverCurrentNode', condition: 'draggable'})\n    @EventSubscriber({type: EditorEventType.NODE_DRAG_END, condition: 'draggable'})\n    protected onDragStop(): void {\n        this.dragged = false;\n        this.draggedOver = false;\n        this.draggedOverInsertBefore = false;\n        this.cdr.markForCheck();\n    }\n\n    @EventSubscriber({type: EditorEventType.NODE_DRAG_ENTER, pipes: 'isOverCurrentNode', condition: 'draggable'})\n    protected onDragEnter(e: EditorEvent) {\n        if (e.data.ctrlKey) {\n            this.draggedOverInsertBefore = true;\n        } else {\n            this.draggedOver = true;\n        }\n        this.cdr.markForCheck();\n    }\n\n    protected moveInto(e: Event): void {\n    }\n\n    protected copyInto(e: Event): void {\n    }\n\n    // @LogMethod()\n    @EventSubscriber({type: EditorEventType.NODE_DRAG_DROP, pipes: 'isOverCurrentNode', condition: 'draggable'})\n    protected onDrop(e: EditorEvent): void {\n        console.log('BNC onDrop:', e);\n        e.data.altKey ? this.copyInto(e.data) : this.moveInto(e.data);\n        this.cdr.markForCheck();\n    }\n\n    // protected isOverCurrentNode() {\n    //     return filter((e: EditorEvent) => {\n    //         return e.data.target === this.el.nativeElement;\n    //     });\n    // }\n\n    protected isOverCurrentNode(e: EditorEvent): boolean {\n        return e.data.target === this.el.nativeElement;\n    }\n\n\n    protected getPathToInsert(previousPath: Path, e: Event, move = false): Path {\n        const targetPath = [...this.node.path];\n        if (move &&\n            NodeUtils.areSiblings([this.node.path, previousPath]) &&\n            NodeUtils.isBefore(previousPath, this.node.path)) {\n            targetPath[targetPath.length - 1]--;\n        }\n        return e['ctrlKey'] ? targetPath : [...targetPath, this.node.children.length];\n    }\n\n    ngOnDestroy(): void {\n        delete this.el;\n    }\n}\n","import {ReplaySubject} from 'rxjs';\nimport DecoratorTools from '../decorator.tools';\nimport {EventsService} from '../../../state/events.service';\nimport {distinctUntilChanged, filter, map, takeUntil, tap} from 'rxjs/operators';\nimport {\n    destroyEmitter,\n    ReducerOptions,\n    EventSubscriberOptions,\n    SubscriberType,\n    StateSubscriberOptions\n} from '../decorator.types';\nimport {StateManagerService} from '../../../state/state-manager.service';\n\nconst editorEventListeners = [];\n\nfunction overrideDestroyMethod(originalConstructor) {\n    const originalMethod = originalConstructor.prototype.ngOnDestroy;\n    originalConstructor.prototype.ngOnDestroy = function () {\n        this.destroyed = true;\n        this[destroyEmitter].next();\n        this[destroyEmitter].complete();\n        if (originalMethod) {\n            originalMethod.call(this);\n        }\n    };\n}\n\nfunction assignEventSubscribers(instance) {\n\n    // todo replace with injector so state implementation could be switched\n    (instance[SubscriberType.subscriber] || [])\n        .forEach((options: EventSubscriberOptions) => EventsService.addSubscriber({\n            ...options,\n            context: instance\n        }));\n\n    // (instance[SubscriberType.subscriber] || [])\n    //   .forEach((options: EventSubscriberOptions) => {\n    //     if (instance[options.key]) {\n    //       // todo replace with injector so state implementation could be switched\n    //       EventsService.getEventStream(options.type)\n    //         .pipe(\n    //           // (options.condition ? takeWhile(() => instance[options.condition]) : map(e => e)),\n    //           // todo \\/ temporary fix for timeout problem - observable should be completed if condition is false /\\\n    //           (options.condition ? filter(() => instance[options.condition]) : map(e => e)),\n    //           takeUntil(instance[destroyEmitter]),\n    //           (options.pipes && instance[options.pipes]) ?\n    //             instance[options.pipes].call(instance) : map(e => e),\n    //         )\n    //         .subscribe(e => instance[options.key].call(instance, e));\n    //     }\n    //   });\n}\n\nfunction assignStateSubscribers(instance) {\n\n    (instance[SubscriberType.stateSubscriber] || [])\n        .forEach((options: StateSubscriberOptions) => StateManagerService.addSubscriber({\n           ...options,\n           context: instance\n        }));\n\n    // (instance[SubscriberType.stateSubscriber] || [])\n    //     .forEach((options: StateSubscriberOptions) => {\n    //         if (instance[options.key]) {\n    //             // todo replace with injector so state implementation could be switched\n    //             StateManagerService\n    //                 .getStatePropertyStream(options.stateProperty)\n    //                 .pipe(\n    //                     takeUntil(instance[destroyEmitter]),\n    //                     distinctUntilChanged(),\n    //                     options.definedOnly ? filter(v => !!v) : tap()\n    //                 )\n    //                 .subscribe(e => instance[options.key].call(instance, e));\n    //         }\n    //     });\n}\n\nfunction assignReducers(instance) {\n    (instance[SubscriberType.reducer] || [])\n        .forEach((options: ReducerOptions) => {\n            if (instance[options.key]) {\n                // todo replace with injector so state implementation could be switched\n                instance[destroyEmitter].subscribe(StateManagerService.addReducer({\n                    ...options,\n                    reducer: (...params) => instance[options.key].call(instance, ...params)\n                }));\n            }\n        });\n}\n\n/**\n * @description\n * performs subscriptions assigned by various decorators\n * subscriptions could not be used inside original constructor since they are being added after it finishes\n * */\nexport function EditorEventListener() {\n    return function (originalConstructor: new(...args: any[]) => any) {\n        editorEventListeners.push(originalConstructor.name);\n\n        // todo needs to be reassigned in bottom decorator only\n        overrideDestroyMethod(originalConstructor);\n\n        if (!originalConstructor.prototype[destroyEmitter]) {\n            DecoratorTools.redefineAccessors(originalConstructor.prototype, destroyEmitter, (_get, _set) => {\n                return {\n                    get: function () {\n                        let value = _get.call(this);\n                        // todo CAREFUL defines property on prototype which leads to its presence in children  - FIND FIX\n                        // if (!value || !this.hasOwnProperty(destroyEmitter)) {\n                        if (!value || !this.hasOwnProperty(`_${destroyEmitter}`)) {\n                            value = new ReplaySubject(1);\n                            _set.call(this, value);\n                        }\n                        return value;\n                    }\n                };\n            });\n        }\n\n        return DecoratorTools.decorateConstructor(originalConstructor, (construct, params, thisArg?) => {\n            const instance = construct();\n            const context = instance || thisArg;\n\n            if (!context._editorEventListener && (instance || !editorEventListeners.find(l => l === context.constructor.name))) {\n                context._editorEventListener = true;\n                assignEventSubscribers(context);\n                assignReducers(context);\n                assignStateSubscribers(context);\n            }\n            return instance;\n        });\n    };\n}\n","import {destroyEmitter, EmitterOptions} from '../decorator.types';\nimport {EventsService} from '../../../state/events.service';\nimport {isObservable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\n\nfunction emit(options: EmitterOptions, data?: any, error?: any) {\n  EventsService.dispatch({type: options.type, data, error});\n}\n\nexport function Emitter(options: EmitterOptions) {\n  return function (target: any, key: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n    descriptor.value = function (...params) {\n      const result = originalMethod.call(this, ...params);\n      if (isObservable(result)) {\n        const subscription = result\n          .pipe(takeUntil(this[destroyEmitter]))\n          .subscribe(\n            r => {\n              emit(options, r);\n              if (options.unsubscribeImmediately) {\n                subscription.unsubscribe();\n              }\n            },\n            e => emit(options, null, e)\n          );\n      } else {\n        emit(options, result);\n      }\n      return result;\n    };\n    return descriptor;\n  };\n}\n","import {\n  ControlObject,\n  ControlType,\n  ControlUpdateType,\n  ControlValueAccessorType,\n  InputObject,\n  InputType\n} from '../entities/UIObject';\n\nexport class ControlUtils {\n\n  static readonly valueAccessorProp = 'valueAccessor';\n  static readonly editedNodeProp = 'editedNode';\n\n  static readonly defaultUINodeProperties = {\n    type: 1,\n    children: [],\n    path: [],\n    localState: {},\n    attributes: {}\n  };\n\n  static readonly defaultControlProperties = {\n    ...ControlUtils.defaultUINodeProperties,\n    attributes: {style: 'display: block;'},\n    updateType: ControlUpdateType.MODIFY\n  };\n\n  static getValueAccessorProperty(property: string): string {\n    return property.replace(new RegExp(`${ControlUtils.valueAccessorProp}(.?)`), '');\n  }\n\n  static getLabel(options: { value?: string, bindTo?: string }): InputObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      tag: InputType.LABEL,\n      value: options.value,\n      bindings: {value: options.bindTo},\n      localState: {initialValue: options.value},\n    };\n  }\n\n  static getInput(options: {\n    type?: InputType,\n    bindTo: string,\n  }): InputObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      tag: options.type || InputType.TEXT,\n      bindings: {value: options.bindTo},\n    };\n  }\n\n  static getBasicStyleControl(options: {\n    id: string;\n    bindTo: string,\n    label: string,\n    styleProperty: string,\n    inputType?: InputType,\n  }): ControlObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      id: 'styleControl_' + options.id,\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.STYLE,\n      bindings: {value: options.bindTo},\n      children: [\n        ControlUtils.getLabel({value: options.label}),\n        ControlUtils.getInput({\n          bindTo: `${ControlUtils.valueAccessorProp}.${options.styleProperty}`,\n          type: options.inputType || InputType.TEXT\n        })\n      ],\n    };\n  }\n\n  static getTextControl(options: {\n    id: string;\n    bindTo: string,\n    label?: string,\n    inputType?: InputType,\n  }): ControlObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      id: 'textControl_' + options.id,\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.TEXT,\n      bindings: {value: options.bindTo},\n      children: [\n        ControlUtils.getLabel({value: options.label || 'Text'}),\n        ControlUtils.getInput({bindTo: `${ControlUtils.valueAccessorProp}`, type: InputType.TEXT})\n      ],\n    };\n  }\n\n  static getFormControl(options: {\n    id: string;\n    bindTo?: string,\n    iterate?: string,\n    updateType?: ControlUpdateType,\n  }): ControlObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      id: 'formControl_' + options.id,\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.FORM,\n      bindings: {value: options.bindTo},\n      iterate: options.iterate,\n      updateType: options.updateType,\n      children: [\n        options.updateType === ControlUpdateType.INSERT ?\n          ControlUtils.getInput({bindTo: `${ControlUtils.valueAccessorProp}.key`}) :\n          ControlUtils.getLabel({bindTo: `${ControlUtils.valueAccessorProp}.key`}),\n        ControlUtils.getInput({bindTo: `${ControlUtils.valueAccessorProp}.value`}),\n      ],\n    };\n  }\n\n  static getButton(options: { value?: any, bindTo?: string, label: string }): InputObject {\n    return {\n      ...ControlUtils.defaultControlProperties,\n      tag: InputType.BUTTON,\n      value: options.value,\n      bindings: {value: options.bindTo},\n      localState: {label: options.label, initialValue: options.value}\n    };\n  }\n\n  static isBoundToValueAccessor(binding: string): boolean {\n    return binding.indexOf(ControlUtils.valueAccessorProp) === 0;\n  }\n\n  static getModifiedProperty(property: string = ''): string {\n    let modifiedProperty = property\n      .replace(ControlUtils.valueAccessorProp, '')\n      .replace(ControlUtils.editedNodeProp, '');\n\n    if (modifiedProperty.charAt(0) === '.') {\n      modifiedProperty = modifiedProperty.slice(1);\n    }\n\n    return modifiedProperty;\n  }\n}\n","export default \"/*\\n:host {\\n  border: 1px solid green;\\n  padding: 20px !important;\\n  display: block !important;\\n}\\n\\niframe {\\n  background-color: transparent;\\n  border: 0px none transparent;\\n  padding: 0px;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.play-button {\\n  color: orangered;\\n  font-size: 18px;\\n}\\n*/\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kb2N1bWVudC9hbXAtZWxlbWVudC9hbXAtZWxlbWVudC5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW1CQyIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZG9jdW1lbnQvYW1wLWVsZW1lbnQvYW1wLWVsZW1lbnQuY29tcG9uZW50Lmxlc3MifQ== */\";","export default \"<div class=\\\"service-element action-buttons\\\">\\n  <div class=\\\"action-button play-button service-element\\\"\\n       *ngIf=\\\"hovered\\\"\\n       (click)=\\\"playAMP()\\\">\\n    <span class=\\\"service-element\\\" *ngIf=\\\"play\\\"></span>\\n    <span class=\\\"service-element\\\" *ngIf=\\\"!play\\\"></span>\\n  </div>\\n  <div class=\\\"action-button save-button service-element\\\"\\n       *ngIf=\\\"hovered\\\"\\n       (click)=\\\"showSaveForm = true\\\">\\n    \\n  </div>\\n  <div class=\\\"action-button delete-button service-element\\\"\\n       *ngIf=\\\"hovered\\\"\\n       (click)=\\\"removeNode()\\\">\\n    \\n  </div>\\n</div>\\n\\n<!--attach shadow-->\\n<!--    <div class=\\\"service-element amp-container\\\"></div>-->\\n\\n\\n<!--usual-->\\n<ng-container *ngIf=\\\"play\\\">\\n  <div class=\\\"service-element child-container\\\" *ngFor=\\\"let c of children\\\" [innerHTML]=\\\"c\\\"></div>\\n</ng-container>\\n\\n\\n<!--    frame-->\\n\\n<!--    <iframe *ngIf=\\\"ampPreview\\\" [src]=\\\"ampPreview\\\" seamless=\\\"true\\\" (load)=\\\"adjustSize(frame)\\\" #frame></iframe>-->\\n\\n<!--<iframe *ngIf=\\\"play &&  ampPreview\\\"-->\\n<!--[srcdoc]=\\\"ampPreview\\\"-->\\n<!--seamless=\\\"true\\\"-->\\n<!--(load)=\\\"onFameLoaded(frame)\\\"-->\\n<!--(message)=\\\"onFrameMessage($event)\\\"-->\\n<!--(click)=\\\"onFrameClick()\\\"-->\\n<!--#frame-->\\n<!--style=\\\"width: 0;height: 0;\\\">-->\\n<!--</iframe>-->\\n\\n\\n<ng-container *ngIf=\\\"!play\\\">\\n  <ng-container *ngFor=\\\"let child of node.children\\\">\\n    <ng-container *ngIf=\\\"child.type === nodeTypes.TEXT_NODE\\\">\\n      {{child.content}}\\n    </ng-container>\\n    <document-renderer *ngIf=\\\"child.type === nodeTypes.ELEMENT_NODE\\\"\\n                       [node]=\\\"child\\\">\\n    </document-renderer>\\n  </ng-container>\\n</ng-container>\\n\";","import {HtmlAttributes, HtmlNodeType, HtmlObject} from '../../../common/entities/HtmlObject';\n\n\nexport class HtmlConverter {\n\n  private static getDomElementAttributes(domElement: Element): HtmlAttributes {\n    const attributes = domElement.attributes || [];\n    const result: HtmlAttributes = {};\n    for (let i = 0; i < attributes.length; i++) {\n      // result[attributes[i].name] = attributes[i].value;\n      //todo may cause problems in the future\n      const attributeName = attributes[i].name.replace(/(\\-\\w)/g, m => m[1].toUpperCase());\n      result[attributeName] = attributes[i].value;\n    }\n    return result;\n  }\n\n  private static setElementAttributes(e: Element, attributes: HtmlAttributes = {}): Element {\n    Object.keys(attributes).forEach(attribute => {\n      try {\n        //todo may cause problems in the future\n        const attributeName = attribute.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\n        e.setAttribute(attributeName, attributes[attribute]);\n        // e.setAttribute(attribute, attributes[attribute]);\n      } catch (e) {\n        console.warn('wrong attribute', attribute, attributes[attribute]);\n      }\n    });\n    return e;\n  }\n\n  private static stringToDom(html: string): Element[] {\n    const template = document.createElement('template');\n    html = html.trim();\n    template.innerHTML = html;\n    return Array.from(template.content.childNodes) as Element[];\n  }\n\n  public static parseDom(domElement: Element, path: number[] = [], removePathAttribute?: boolean): HtmlObject {\n    const object: HtmlObject = {} as HtmlObject;\n    object.tag = domElement.tagName;\n    object.type = domElement.nodeType;\n    if (object.type === HtmlNodeType.TEXT_NODE || object.type === HtmlNodeType.COMMENT_NODE) {\n      object.content = domElement.textContent;\n    }\n    object.attributes = HtmlConverter.getDomElementAttributes(domElement);\n    if (removePathAttribute) {\n      delete object.attributes.path;\n    }\n    object.children = [];\n    object.path = path;\n    const children = domElement.childNodes || [];\n    for (let i = 0; i < children.length; i++) {\n      object.children.push(HtmlConverter.parseDom(children[i] as Element, [...path, i]));\n    }\n    return object;\n  }\n\n  public static parseObject(object: HtmlObject, storePathToAttribute?: boolean): Element | Comment | Text {\n    if (object.type === HtmlNodeType.COMMENT_NODE) {\n      return document.createComment(object.content);\n    }\n    if (object.type === HtmlNodeType.TEXT_NODE) {\n      return document.createTextNode(object.content);\n    }\n\n    const element = document.createElement(object.tag);\n    HtmlConverter.setElementAttributes(element, storePathToAttribute ? {\n      ...object.attributes,\n      path: object.path.join(',')\n    } : object.attributes);\n\n    (object.children || []).forEach(child => {\n      element.appendChild(HtmlConverter.parseObject(child, storePathToAttribute));\n    });\n\n    return element;\n\n  }\n\n  public static HtmlToObject(html: string, path: number[] = []): HtmlObject[] {\n    const els = HtmlConverter.stringToDom(html);\n    return els.map((el, i) => HtmlConverter.parseDom(el, path.length ? [...path.slice(0, -1), path[path.length - 1] + i] : path));\n  }\n\n  public static ObjectToHtml(object: any): string {\n    return (HtmlConverter.parseObject(object) as Element).outerHTML;\n  }\n\n  public static stylesToObject(styles = '') {\n    const stylesObj = {};\n    styles.split(';').forEach(style => {\n      if (style.trim()) {\n        const [prop, value] = style.split(':');\n        stylesObj[prop.trim()] = value.trim();\n      }\n    });\n    return stylesObj;\n  }\n\n}\n\nwindow['HtmlConverter'] = HtmlConverter;\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","import {CodeEditorComponent} from './code-editor/code-editor.component';\nimport {ControlPanelComponent} from './control-panel/control-panel.component';\nimport {PreviewPanelComponent} from './preview-panel/preview-panel.component';\nimport {UIContainerComponent} from './uicontainer/uicontainer.component';\nimport {UIObjectType} from '../../entities/UIObject';\nimport {HeaderComponent} from './header/header.component';\nimport {ControlEditorPanelComponent} from './control-editor-panel/control-editor-panel.component';\nimport {AccordionComponent} from './accordion/accordion.component';\nimport {BlocksPanelComponent} from './blocks-panel/blocks-panel.component';\nimport {BlockThumbComponent} from './block-thumb/block-thumb.component';\nimport {PreviewPanelContainer} from './preview-panel/preview-panel-container.component';\nimport {HistoryComponent} from './history/history.component';\n\nexport const uiComponents = [\n  CodeEditorComponent,\n  ControlPanelComponent,\n  PreviewPanelComponent,\n  UIContainerComponent,\n  HeaderComponent,\n  ControlEditorPanelComponent,\n  BlocksPanelComponent,\n  AccordionComponent,\n  BlockThumbComponent,\n  PreviewPanelContainer,\n  HistoryComponent\n];\n\nexport const uiComponentsMap = {\n  [UIObjectType.CONTAINER]: UIContainerComponent,\n  [UIObjectType.PREVIEW]: PreviewPanelComponent,\n  [UIObjectType.CODE_EDITOR]: CodeEditorComponent,\n  [UIObjectType.CONTROLS_PANEL]: ControlPanelComponent,\n  [UIObjectType.CONTROL_EDITOR_PANEL]: ControlEditorPanelComponent,\n  [UIObjectType.HEADER]: HeaderComponent,\n  [UIObjectType.ACCORDION]: AccordionComponent,\n  [UIObjectType.BLOCKS_PANEL]: BlocksPanelComponent,\n  [UIObjectType.BLOCK_THUMB]: BlockThumbComponent,\n  [UIObjectType.PREVIEW_CONTAINER]: PreviewPanelContainer,\n  [UIObjectType.HISTORY]: HistoryComponent,\n};\n","import {BaseValueAccessor} from './BaseValueAccessor';\nimport {get, set} from 'lodash';\n\nexport class BufferValueAccessor extends BaseValueAccessor {\n\n  private value;\n\n  // public transformer = true; // ???\n\n  constructor(value: any = {}) {\n    super();\n    this.value = value;\n  }\n\n  getRawValue(): any {\n    return this.value;\n  }\n\n  getValue(valuePath: string): any {\n    if (valuePath) {\n      return get(this.value, valuePath);\n    }\n    return this.value;\n  }\n\n  setValue(valuePath: string, value: any): any {\n    if (valuePath) {\n      set(this.value, valuePath, value);\n      return;\n    }\n    this.value = value;\n  }\n\n}\n","export default \"<button (click)=\\\"undo($event)\\\"></button>\\n<button (click)=\\\"redo($event)\\\"></button>\\n<button (click)=\\\"showHistory($event)\\\"></button>\\n\";","import {ChangeDetectorRef, Component, ElementRef, Injector, OnInit} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {NodeWrapperService} from '../../../services/node-wrapper/node-wrapper.service';\nimport {CustomBlocksService} from '../../../services/custom-blocks/custom-blocks.service';\nimport {DocumentNodeComponent} from '../document-node-component/document-node.component';\nimport {ExternalBlock} from '../../../entities/ApplicationConfig';\nimport {cloneDeep} from 'lodash';\nimport {ConfigStateService} from '../../../state/config.state.service';\n\n// import * as ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\n@Component({\n  selector: 'external-block-wrapper',\n  templateUrl: './external-block-wrapper.component.html'\n})\nexport class ExternalBlockWrapperComponent extends DocumentNodeComponent implements OnInit {\n  // public Editor = ClassicEditor;\n\n  externalBlock: ExternalBlock;\n\n  constructor(el: ElementRef,\n              events: EventsService,\n              actionManager: ActionManagerService,\n              cdr: ChangeDetectorRef,\n              actions: ActionsService,\n              nodeWrapper: NodeWrapperService,\n              customBlocks: CustomBlocksService,\n              private configState: ConfigStateService,\n              injector: Injector) {\n    super(el, events, actionManager, cdr, actions, nodeWrapper, customBlocks, injector);\n  }\n\n  // todo rerender on undo redo only\n  ngOnInit() {\n    super.ngOnInit();\n    this.externalBlock = this.configState.getExternalBlockConfig(this.node.tag);\n    !this.externalBlock.initialized && this.externalBlock.initialize(this.applicationState.previewFrame.contentWindow);\n    this.externalBlock.render(this.el.nativeElement, cloneDeep(this.node), {\n      onChange: node => {\n        // this.actionManager.runActions([\n        //   this.actions.getNodeUpdateAction(node),\n        // ]);\n        // this.cdr.detectChanges();\n        console.log('UPDATED');\n      }\n    });\n  }\n\n\n}\n\n// https://stackoverflow.com/questions/47600603/saving-a-fabricjs-canvas-as-png-is-not-working\n","import {BaseValueAccessor} from './BaseValueAccessor';\n\n\nexport class FormValueAccessor extends BaseValueAccessor {\n\n  private key;\n  private value;\n\n  public transformer = true;\n\n  constructor(value: any = {}) {\n    super();\n    this.key = value.key;\n    this.value = value.value;\n  }\n\n  getRawValue(): any {\n    //todo delete this\n    const value = {[this.key]: this.value};\n    this.key = undefined;\n    this.value = undefined;\n    return value;\n  }\n\n  getValue(valuePath: string): any {\n    return this[valuePath] || '';\n  }\n\n  setValue(valuePath: string, value: any): any {\n    this[valuePath] = value;\n  }\n\n  public isValid() {\n    return this.key !== undefined && this.value !== undefined;\n  }\n\n}\n\n//todo fix add span, div, move span in div\n","import {controls, controlsMap} from '../settings/controls/controls';\nimport {uiComponents, uiComponentsMap} from '../ui-components';\nimport {inputs, inputsMap} from '../settings/inputs/inputs';\nimport {UINodeComponent} from './ui-node.component';\nimport {ControlType, InputType} from '../../../entities/UIObject';\nimport {BaseControlEditComponent} from '../settings/controls/base-control-edit/base-control-edit.component';\nimport {BaseInputEditComponent} from '../settings/inputs/base-input-edit/base-input-edit.component';\n\nexport const uiNodeComponents = [\n  UINodeComponent,\n  ...uiComponents,\n  ...controls,\n  ...inputs\n];\n\nexport const uiNodeComponentsMap = {\n  ...uiComponentsMap,\n  ...controlsMap,\n  ...inputsMap\n};\n\nexport const editControlsMap = {\n  ...uiNodeComponentsMap,\n  [ControlType.BASE]: BaseControlEditComponent,\n  [InputType.COLOR]: BaseInputEditComponent,\n  [InputType.TEXT]: BaseInputEditComponent,\n  [InputType.LABEL]: BaseInputEditComponent,\n  [InputType.BUTTON]: BaseInputEditComponent,\n};\n\n","import {Input, Output, EventEmitter, OnInit, DoCheck, AfterViewChecked} from '@angular/core';\nimport {UINodeComponent} from '../../ui-node-component/ui-node.component';\nimport {ControlUpdatedEvent, InputObject, UINodeEventType} from '../../../../entities/UIObject';\nimport {isEqual} from 'lodash';\n\n/**\n *     \n */\nexport class BaseInputComponent extends UINodeComponent implements OnInit, DoCheck, AfterViewChecked {\n  node: InputObject;\n  private initiallySet = false;\n  protected _value: any;\n\n  @Output() valueChange = new EventEmitter();\n  uiNodeEvent: EventEmitter<ControlUpdatedEvent> = new EventEmitter<ControlUpdatedEvent>();\n\n\n  @Input() get value() {\n    return this._value;\n  }\n\n  set value(newValue) {\n    console.log('Base input component set value');\n    if (newValue === this._value) {\n      this.initiallySet = true;\n      return;\n    }\n    this._value = newValue;\n    if (this.initiallySet) {\n      this.emitChangeEvent();\n    }\n    this.initiallySet = true;\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.setInitialValue();\n  }\n\n  protected updateLocalState() {\n    super.updateLocalState();\n    if ((this.node.localState && this.node.localState.initialValue)) {\n      this.node.value = this.node.localState.initialValue;\n      this._value = this.node.value;\n    }\n  }\n\n  ngDoCheck(): void {\n    if (this.node && this.container && this.container.node && !isEqual(this.node, this.container.node)) {\n      this.node = (<InputObject>this.container.node);\n    }\n    if (this.node && !isEqual(this.node.localState, this.localState)) {\n      this.updateLocalState();\n    }\n  }\n\n  ngAfterViewChecked(): void {\n    if (this.node && this.node.value !== this._value) {\n      this._value = this.node.value;\n      this.cdr.detectChanges();\n    }\n  }\n\n  protected setInitialValue() {\n    if (this.node) {\n      this.value = this.node.value;\n    }\n  }\n\n  protected emitChangeEvent() {\n    this.valueChange.emit(this._value);\n    if (this.node) {\n      this.uiNodeEvent.emit({\n        type: UINodeEventType.CONTROL_VALUE_UPDATE,\n        emitter: {\n          ...this.node,\n          value: this.value\n        }\n      });\n    }\n  }\n\n}\n","import {HtmlObject} from '../entities/HtmlObject';\nimport {Path} from '../entities/Path';\nimport {set} from 'lodash';\n\nexport class NodeUtils {\n  public static reIndexNodeChildren(node: HtmlObject, parentPath?: number[]): void {\n    parentPath = parentPath || node.path;\n    node.children && node.children.forEach((c, i) => {\n      c.path = [...parentPath, i];\n      NodeUtils.reIndexNodeChildren(c, c.path);\n    });\n  }\n\n  public static updateNode(root: HtmlObject, path: Path, property: string, value: any): HtmlObject {\n    const correspondingParent = NodeUtils.getChildByPath(root, path.slice(0, -1));\n    const updatedNode = property ? {...NodeUtils.getChildByPath(root, path)} : value;\n    property && set(updatedNode, property, value);\n    correspondingParent.children[path[path.length - 1]] = updatedNode;\n    !property && NodeUtils.reIndexNodeChildren(correspondingParent);\n    return updatedNode;\n  }\n\n  public static insertNodes(root: HtmlObject, path: Path, nodes: HtmlObject[]): HtmlObject[] {\n    const correspondingParent = NodeUtils.getChildByPath(root, path.slice(0, -1));\n    const position = path[path.length - 1];\n    correspondingParent.children.splice(position, 0, ...nodes);\n    NodeUtils.reIndexNodeChildren(correspondingParent);\n    return nodes;\n  }\n\n  public static arePathsEqual(p1: Path, p2: Path): boolean {\n    return p1.length === p2.length && p1.every((e, i) => e === p2[i]);\n  }\n\n  public static areSiblings(paths: Path[]): boolean {\n    return paths.every(p1 =>\n      paths.every(p2 =>\n        NodeUtils.arePathsEqual(p1.slice(0, -1), p2.slice(0, -1))));\n  }\n\n  public static isBefore(p1: Path, p2: Path): boolean {\n    return p1.length === p2.length && p2[p2.length - 1] > p1[p1.length - 1];\n  }\n\n  public static removeNodes(root: HtmlObject, path: Path, count: number): HtmlObject[] {\n    // todo allow to remove from different parents\n    const parentPath = path.slice(0, -1);\n    const startingIndex = path[path.length - 1];\n    const correspondingParent = NodeUtils.getChildByPath(root, parentPath);\n    const removedNodes = correspondingParent.children.splice(startingIndex, count);\n    NodeUtils.reIndexNodeChildren(correspondingParent);\n    return removedNodes;\n  }\n\n\n  public static getChildByPath(node: HtmlObject, path: number[], getClosest = true): HtmlObject {\n    for (const i of path) {\n      if (node && node.children[i]) {\n        node = node.children[i];\n      } else if (getClosest) {\n        break;\n      } else {\n        return null;\n      }\n    }\n    return node;\n  }\n\n  public static getNodesDifference(node1: HtmlObject, node2: HtmlObject): any {\n\n  }\n\n  // public static isDependable(dependable: Path, path: Path): boolean {\n  //   if (dependable.length < path.length ||\n  //     !NodeUtils.arePathsEqual(dependable.slice(0, path.length - 1), path.slice(0, path.length - 1))) {\n  //     return false;\n  //   }\n  //\n  //   return path[path.length - 1] <= dependable[path.length - 1];\n  //\n  //   // if (NodeUtils.arePathsEqual(dependable, path)) {\n  //   //   return true;\n  //   // }\n  //   //\n  //   // let lastIndex = 0;\n  //   // while (lastIndex < path.length - 1) {\n  //   //   if (path[lastIndex] !== dependable[lastIndex]) {\n  //   //     return false;\n  //   //   }\n  //   //   lastIndex++;\n  //   // }\n  //   //\n  //   // return path[lastIndex] <= dependable[lastIndex];\n  //\n  // }\n\n  public static getStructuralDependency(dependable: Path, path: Path): number {\n    if (dependable.length < path.length ||\n      !NodeUtils.arePathsEqual(dependable.slice(0, path.length - 1), path.slice(0, path.length - 1))) {\n      return 1;\n    }\n\n    return path[path.length - 1] - dependable[path.length - 1];\n  }\n\n}\n","import {ChangeDetectorRef, Component, ElementRef, Injector, OnInit} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {BehaviorableNode} from '../../../entities/BehaviorableNode';\nimport {Action} from '../../../../../../ui-editor-common/entities/Action';\nimport {EditorEvent, EditorEventType} from '../../../entities/EditorEvent';\nimport {EventSubscriber, StateSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {LogClass} from '../../../tools/decorators/Log/Log.decorator';\n\n/**\n *   html   {@link UINodeComponent}\n *  {@link HtmlEditorComponent}\n */\n@Component({\n  selector: 'code-editor',\n  templateUrl: './code-editor.component.html',\n  styleUrls: ['./code-editor.component.less']\n})\n@EditorEventListener()\n// @LogClass()\nexport class CodeEditorComponent extends UINodeComponent implements OnInit {\n  private editedNode: BehaviorableNode;\n\n  public constructor(events: EventsService,\n                     private actionManager: ActionManagerService,\n                     private actions: ActionsService,\n                     el: ElementRef,\n                     cdr: ChangeDetectorRef,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  ngOnInit(): void {\n  }\n\n  @StateSubscriber({stateProperty: 'applicationState.selectedNode'})\n  private onNodeSelected(node: BehaviorableNode) {\n    this.editedNode = node;\n  }\n\n  // @LogMethod({logTrace: true})\n  public updateNode([updatedNode, ...newNodes]) {\n    const oldNode = this.editedNode.getHtmlObjectValue();\n    const actions: Action[] = [\n      this.actions.getNodeUpdateAction(oldNode, oldNode.path, null, updatedNode)\n    ];\n    newNodes && newNodes.length && actions.push(\n      this.actions.getNodeInsertAction(newNodes[0].path, newNodes)\n    );\n\n    this.actionManager.runActions(actions);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvYWNjb3JkaW9uL2FjY29yZGlvbi5jb21wb25lbnQubGVzcyJ9 */\";","import {Injectable} from '@angular/core';\nimport {EventsService} from '../state/events.service';\nimport {HttpClient} from '@angular/common/http';\nimport {EditorEvent, EditorEventType} from '../entities/EditorEvent';\nimport {WebsocketService} from '../api/websocket.service';\nimport {Patch} from '../../../../ui-editor-common/entities/Patch';\nimport {Action} from '../../../../ui-editor-common/entities/Action';\nimport {NodeWrapperService} from '../services/node-wrapper/node-wrapper.service';\nimport {HtmlNodeType} from '../../../../ui-editor-common/entities/HtmlObject';\nimport {cloneDeep} from 'lodash';\nimport {OperationUtils} from '../tools/OperationUtils';\nimport {EventSubscriber} from '../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {ApplicationState} from '../state/state.types';\nimport {StateStream} from '../tools/decorators/StateStream/StateStream.decorator';\nimport {AsyncValue} from '../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {DocumentStateService} from '../state/document.state.service';\n\n@Injectable()\n@EditorEventListener()\nexport class ActionManagerService {\n  @AsyncValue()\n  @StateStream({stateProperty: 'applicationState'})\n  // @ts-ignore\n  private applicationState: ApplicationState/* = this.applicationState*/;\n\n  public undoStack: Patch[] = [];\n  public redoStack: string[] = [];\n  // todo POC\n  public documentVersion: string = 'initial';\n\n\n  public constructor(private events: EventsService,\n                     private http: HttpClient,\n                     private ws: WebsocketService,\n                     private nodeWrapper: NodeWrapperService,\n                     private documentState: DocumentStateService) {\n    window['actions'] = this;\n  }\n\n  private getPatch(actions: Action[], replay = false): Patch {\n    console.log('%ccreating patch object:', 'color:red;', this.undoStack);\n    const patch = {\n      actions,\n      documentId: this.documentState.getDocumentId(),\n      time: new Date().getTime(),\n      // todo POC\n      id: `patch${replay ? `_replay` : ``}_${new Date().getTime()}_${Math.random()}`,\n      previousPatchId: this.undoStack.length ? this.undoStack[this.undoStack.length - 1].id : undefined,\n      replay,\n      confirmed: false,\n      documentVersion: this.documentVersion\n    };\n    console.log('CREATED PATCH:', patch);\n    return patch;\n  }\n\n  // todo POC\n  private prepareRemotePatch(patch: Patch): Patch {\n    console.log('\\nprepareRemotePatch', patch);\n    patch = {\n      ...patch,\n      remote: true,\n      replay: true\n    };\n\n    console.log('this.documentVersion', this.documentVersion);\n    console.log('patch.documentVersion', patch.documentVersion);\n    if (this.documentVersion !== patch.documentVersion) {\n      console.log('UPDATE');\n      const commonHistoryPointIndex = this.undoStack.findIndex(p => p.documentVersion === patch.documentVersion);\n      if (commonHistoryPointIndex >= 0) {\n        const preparedActions = OperationUtils\n          .transformActions(\n            patch.actions,\n            this.undoStack.slice(commonHistoryPointIndex, this.undoStack.length)\n              // .filter(p => !p.remote)\n              .filter(p => !p.remote || (p.remote && p.documentVersion !== patch.documentVersion))\n              .map(p => p.actions)\n          );\n        console.log('prepared actions:', preparedActions);\n        patch.actions = preparedActions;\n        // patch.documentVersion = this.documentVersion;\n      }\n    }\n\n    console.log('prepared patch', patch);\n    return patch;\n\n  }\n\n  @EventSubscriber({type: EditorEventType.REMOTE_UPDATE})\n  private executeRemotePatch(e: EditorEvent): void {\n    let patch = e.data;\n    console.log('%cexecuteRemotePatch', 'color:orange;font-weight:bold;', patch);\n    // todo POC\n    patch = this.prepareRemotePatch(patch);\n\n    this.executePatch(patch);\n    this.undoStack.push(patch);\n    // this.documentVersion = patch.id;\n  }\n\n  private executePatch(patch: Patch): void {\n    console.log('%cexecuting actions:', 'font-weight:bold;', cloneDeep(patch.actions));\n\n    // @ts-ignore\n    this.documentState.executePatch(patch);\n\n    // this.documentVersion = patch.id;\n    if (this.applicationState.selectedNode) {\n      let nodeToReselect = this.documentState.getChildByPath(this.applicationState.selectedNode.path);\n      if (nodeToReselect.type === HtmlNodeType.TEXT_NODE) {\n        nodeToReselect = this.documentState.getChildByPath(this.applicationState.selectedNode.path.slice(0, -1));\n      }\n      this.nodeWrapper.selectNode(nodeToReselect);\n    }\n  }\n\n  private executeUserPatch(patch: Patch): void {\n    this.executePatch(patch);\n    // this.ws.savePatch(patch);\n  }\n\n  public undo(): void {\n    console.log('\\n');\n    const patchToUndo = [...this.undoStack].reverse()\n      .find(p =>\n        !p.remote && !p.replay && !this.redoStack.find(patchId => patchId === p.id));\n\n    console.log('patchToUndo', patchToUndo);\n\n    if (patchToUndo) {\n      const actionsToDo = OperationUtils\n        .reverseActions(\n          OperationUtils\n            .transformActions(\n              patchToUndo.actions,\n              this.getPatchesSince(patchToUndo, true, true)\n                .map(p => p.actions)\n            )\n        );\n      console.log('actionsToDo', actionsToDo);\n\n      this.redoStack.unshift(patchToUndo.id);\n      this.runActions(actionsToDo, true);\n    }\n  }\n\n  public redo(): void {\n    console.log('\\n');\n    const id = this.redoStack.shift();\n    console.log('id to redo', id);\n    if (id) {\n      const patchToRedo = this.undoStack.find(p => p.id === id);\n      console.log('patchToRedo', patchToRedo);\n      const actionsToRedo = OperationUtils\n        .transformActions(\n          patchToRedo.actions,\n          [\n            patchToRedo.actions,\n            ...this.getPatchesSince(patchToRedo, true, true)\n              .map(p => p.actions)\n          ]\n        );\n      console.log('actions to redo:', actionsToRedo);\n      this.runActions(actionsToRedo, true);\n    }\n  }\n\n  public runActions(actions: Action[], replay = false): void {\n    const patch = this.getPatch(actions, replay);\n    this.executeUserPatch(patch);\n    this.undoStack.push(cloneDeep(patch));\n\n    // todo POC\n    this.ws.connected && this.undoStack\n      .filter(p => !p.sent)\n      .forEach(p => {\n        p.sent = true;\n        this.ws.savePatch(p);\n\n        this.documentVersion = p.id;\n        // p.documentVersion = this.documentVersion;\n      });\n\n\n    if (!replay) {\n      this.redoStack = [];\n    }\n  }\n\n\n  private getPatchesSince(patch: Patch, includeReplays = true, includeOwn = true): Patch[] {\n    console.log('getPatchesSince', patch, includeReplays, includeOwn);\n    const patchIndex = this.undoStack.findIndex(p => p.id === patch.id);\n    console.log('patchIndex', patchIndex);\n    if (patchIndex < 0) {\n      return [];\n    }\n    return this.undoStack\n      .slice(patchIndex + 1, this.undoStack.length)\n      .filter(p => includeReplays ? true : !p.replay)\n      .filter(p => includeOwn ? true : p.replay);\n\n  }\n\n  public cancelSinglePatch(patch: Patch): void {\n    console.log('cancelSinglePatch', patch);\n    const cancelActions = OperationUtils\n      .transformActions(patch.actions, this.getPatchesSince(patch).map(p => p.actions))\n      .map(action => ({do: action.undo, undo: action.do}));\n    console.log('transformed actions:', cancelActions);\n    this.runActions(cancelActions, true);\n  }\n}\n","import {Observable, Subscription} from 'rxjs';\n\nexport interface SharedSubscriptionSubscriber<T> {\n    invoke: Function;\n    options: T;\n}\n\nexport type SharedSubscriptionChecker = (subscriber: any, event: any) => boolean;\n\nexport class SharedSubscription<T> {\n    private subscribers: SharedSubscriptionSubscriber<T>[] = [];\n    private subscription: Subscription;\n    private lastEvent: any;\n\n    constructor(private observable: Observable<any>,\n                private conditionChecker: SharedSubscriptionChecker = () => true,\n                private removeChecker: SharedSubscriptionChecker = () => false,\n                private replay = false) {\n        this.subscription = this.observable.subscribe(this.onEvent.bind(this));\n    }\n\n    private handleSubscriber(s: SharedSubscriptionSubscriber<T>, e): void {\n        if (this.removeChecker(s.options, e)) {\n            this.removeSubscriber(s);\n            return;\n        }\n        if (this.conditionChecker(s.options, e)) {\n            s.invoke.call(s.options, e);\n        }\n    }\n\n    private onEvent(e: any): void {\n        this.replay && (this.lastEvent = e);\n        for (let i = this.subscribers.length - 1; i >= 0; i--) {\n            // if (this.removeChecker(this.subscribers[i].options, e)) {\n            //     this.removeSubscriber(this.subscribers[i]);\n            //     continue;\n            // }\n            // if (this.conditionChecker(this.subscribers[i].options, e)) {\n            //     this.subscribers[i].invoke.call(this.subscribers[i].options, e);\n            // }\n            this.handleSubscriber(this.subscribers[i], e);\n        }\n    }\n\n    public removeSubscriber(subscriber: SharedSubscriptionSubscriber<T>): void {\n        this.subscribers = this.subscribers.filter(s => s !== subscriber);\n    }\n\n    public addSubscriber(s: SharedSubscriptionSubscriber<T>): Function {\n        this.subscribers.push(s);\n        this.lastEvent && this.handleSubscriber(s, this.lastEvent);\n        return () => this.removeSubscriber(s);\n    }\n\n    public destroy(): void {\n        this.subscription.unsubscribe();\n        delete this.subscribers;\n    }\n}","import {NgModule} from '@angular/core';\nimport {CoreModule} from '../core/core.module';\nimport {NgxJsonViewerModule} from 'ngx-json-viewer';\nimport {CKEditorModule} from '@ckeditor/ckeditor5-angular';\nimport {ControlObjectValuePipe} from './ui/settings/control-object-value.pipe';\nimport {uiNodeComponents} from './ui/ui-node-component/ui-node-components';\nimport {documentNodeComponents} from './document/document-node-component/document-node-components';\nimport {renderers} from './renderers/renderers';\n\n@NgModule({\n    imports: [\n        CoreModule,\n        NgxJsonViewerModule,\n        CKEditorModule\n    ],\n    declarations: [\n        ControlObjectValuePipe,\n        ...uiNodeComponents,\n        ...documentNodeComponents,\n        ...renderers\n    ],\n    exports: [\n        ...uiNodeComponents,\n        ...documentNodeComponents,\n        ...renderers\n    ]\n})\nexport class ComponentsModule {\n\n}\n","export default \"<div class=\\\"switch service-element\\\" (click)=\\\"value = !value\\\">\\n  <input type=\\\"checkbox\\\" [checked]=\\\"value\\\">\\n  <span class=\\\"slider service-element\\\"></span>\\n</div>\\n\";","export enum WSMessages {\n  PATCH = 'onPatch',\n  CONNECT = 'onConnect',\n  NODE_SELECTED = 'onNodeSelected'\n}\n\nexport enum WSEvents {\n  PATCH = 'onRemotePatch',\n  NODE_SELECTED = 'onRemoteNodeSelect'\n}\n","import {ChangeDetectorRef, Component, ElementRef} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {EventsService} from '../../../state/events.service';\n\n@Component({\n  selector: 'accordion-component',\n  templateUrl: './accordion.component.html',\n  styleUrls: ['./accordion.component.less']\n})\nexport class AccordionComponent extends UINodeComponent {\n}\n","export default \"input {\\n  width: 100%;\\n}\\n:host {\\n  background: rgba(173, 216, 230, 0.36);\\n  border: 1px solid rgba(32, 178, 170, 0.43);\\n  padding: 5px;\\n  margin: 5px;\\n  position: relative;\\n}\\n:host:hover {\\n  background: rgba(173, 216, 230, 0.52);\\n  border: 1px solid rgba(32, 178, 170, 0.62);\\n}\\n* {\\n  font-size: 12px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvY29udHJvbHMvYmFzZS1jb250cm9sLWVkaXQvYmFzZS1jb250cm9sLWVkaXQuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvY29udHJvbHMvYmFzZS1jb250cm9sLWVkaXQvYmFzZS1jb250cm9sLWVkaXQuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0Y7QURHQTtFQUNFLHFDQUFBO0VBQ0EsMENBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDREY7QURJQTtFQUNFLHFDQUFBO0VBQ0EsMENBQUE7QUNGRjtBREtBO0VBQ0UsZUFBQTtBQ0hGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS9zZXR0aW5ncy9jb250cm9scy9iYXNlLWNvbnRyb2wtZWRpdC9iYXNlLWNvbnRyb2wtZWRpdC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbImlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cblxuOmhvc3Qge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MywgMjE2LCAyMzAsIDAuMzYpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDMyLCAxNzgsIDE3MCwgMC40Myk7XG4gIHBhZGRpbmc6IDVweDtcbiAgbWFyZ2luOiA1cHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuOmhvc3Q6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MywgMjE2LCAyMzAsIDAuNTIpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDMyLCAxNzgsIDE3MCwgMC42Mik7XG59XG5cbioge1xuICBmb250LXNpemU6IDEycHg7XG59XG4iLCJpbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuOmhvc3Qge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MywgMjE2LCAyMzAsIDAuMzYpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDMyLCAxNzgsIDE3MCwgMC40Myk7XG4gIHBhZGRpbmc6IDVweDtcbiAgbWFyZ2luOiA1cHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbjpob3N0OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgxNzMsIDIxNiwgMjMwLCAwLjUyKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzMiwgMTc4LCAxNzAsIDAuNjIpO1xufVxuKiB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbiJdfQ== */\";","import {EditorEvent, EditorEventType} from '../entities/EditorEvent';\nimport {ReplaySubject} from 'rxjs';\nimport {LogMethod} from '../tools/decorators/Log/Log.decorator';\nimport {filter} from 'rxjs/operators';\nimport {SharedSubscription} from '../tools/SharedSubscription';\nimport {EventSubscriberOptions, SubscriberType} from '../tools/decorators/decorator.types';\n\n\nexport class EventsService {\n    private static dispatcher$ = new ReplaySubject<EditorEvent>(1);\n    private static subscribers = new SharedSubscription<EventSubscriberOptions>(\n        EventsService.dispatcher$,\n        EventsService.isTargetSubscriber,\n        EventsService.isInvalidSubscriber\n    );\n\n    public constructor() {\n        window['EventsService'] = EventsService;\n    }\n\n    private static isTargetSubscriber(subscriber: EventSubscriberOptions, event: EditorEvent): boolean {\n        if (event.type === subscriber.type) {\n            return !subscriber.pipes || subscriber.context[subscriber.pipes].call(subscriber.context, event)\n        }\n        return false;\n    }\n\n    private static isInvalidSubscriber(subscriber: EventSubscriberOptions, event: EditorEvent): boolean {\n        return subscriber.context.destroyed || (subscriber.condition && !subscriber.context[subscriber.condition]);\n    }\n\n    public static addSubscriber(subscriber: EventSubscriberOptions): Function {\n        return this.subscribers.addSubscriber({\n            options: subscriber,\n            invoke: e => subscriber.context[subscriber.key].call(subscriber.context, e)\n        });\n    }\n\n    public static getEventStream(type: EditorEventType) {\n        return EventsService.dispatcher$\n            .pipe(\n                filter((e: EditorEvent) => e.type === type)\n            );\n    }\n\n    // @LogMethod()\n    public static dispatch(event: EditorEvent): void {\n        EventsService.dispatcher$.next(event);\n    }\n\n    public static getDispatcher(): ReplaySubject<EditorEvent> {\n        return EventsService.dispatcher$;\n    }\n}\n","import {Component, ElementRef, OnInit} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\n\n/**\n *   ui   {@link UINodeComponent}\n *      CONTAINER {@link UIObjectType}\n *  -  node children\n */\n@Component({\n  selector: 'app-uicontainer',\n  templateUrl: '../ui-node-component/ui-node.component.html',\n  styleUrls: ['./uicontainer.component.less']\n})\nexport class UIContainerComponent extends UINodeComponent implements OnInit {\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvc2V0dGluZ3MvaW5wdXRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50Lmxlc3MifQ== */\";","export const html = `\n\n<div class=\"body\">\n    <div class=\"es-wrapper-color\">\n        <!--[if gte mso 9]>\n   <v:background xmlns:v=\"urn:schemas-microsoft-com:vml\" fill=\"t\">\n    <v:fill type=\"tile\" color=\"#f6f6f6\"></v:fill>\n   </v:background>\n  <![endif]-->\n        <table class=\"es-wrapper\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n            <tbody>\n                <tr>\n                    <td class=\"esd-email-paddings\" valign=\"top\">\n                        <table class=\"es-content es-preheader esd-header-popover\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"es-adaptive esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p10\" align=\"left\">\n                                                        <!--[if mso]><table width=\"580\"><tr><td width=\"280\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"280\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"es-infoblock esd-block-text es-m-txt-c\" align=\"left\">\n                                                                                        <p>Preheader text</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"280\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"280\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"es-infoblock esd-block-text es-m-txt-c\" align=\"right\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">View in browser</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content es-preheader\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"es-adaptive esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p10\" align=\"left\">\n                                                        <!--[if mso]><table width=\"580\"><tr><td width=\"280\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr class=\"es-mobile-hidden\">\n                                                                    <td class=\"esd-container-frame\" width=\"280\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"es-infoblock esd-block-text\" align=\"left\">\n                                                                                        <p>Preheader text (hidden on mobile)</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"280\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"280\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"es-infoblock esd-block-text es-m-txt-c\" align=\"right\">\n                                                                                        <p><a href=\"http://#\" style=\" target=\" _blank>View in browser</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content es-preheader\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"es-adaptive esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p10\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"580\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"es-infoblock esd-block-text\" align=\"center\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">View in browser</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-header\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-header-body\" style=\"background-color: #ffffff;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p10\" style=\"background-color: #ffffff;\" bgcolor=\"#ffffff\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"580\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/6791493239462422.png\" alt width=\"84\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" style=\"background-color: #31cb4b;\" bgcolor=\"#31cb4b\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p10t es-p10b\" style=\"background-color: #31cb4b;\" bgcolor=\"#31cb4b\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"600\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-menu\" esd-img-prev-h=\"16\" esd-img-prev-w=\"16\">\n                                                                                        <table class=\"es-menu\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr class=\"links\">\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 0px; \" width=\"20.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #ffffff !important;\" href=\"http://\">Service1</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 0px; \" width=\"20.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #ffffff !important;\" href=\"http://\">Service2</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 0px; \" width=\"20.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #ffffff !important;\" href=\"http://\">Service3</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 0px; \" width=\"20.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #ffffff !important;\" href=\"http://\">Service4</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l es-mobile-hidden\" style=\"padding-bottom: 0px; padding-top: 0px; \" width=\"20.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #ffffff !important;\" href=\"http://\">Service5</a></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-header\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"es-adaptive esd-stripe\" align=\"center\">\n                                        <table class=\"es-header-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p15t es-p15b es-p15r es-p15l\" style=\"background-color: #ffffff;\" bgcolor=\"#ffffff\" align=\"left\">\n                                                        <!--[if mso]><table width=\"570\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r esd-container-frame\" width=\"180\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-m-p0l es-p15l es-m-txt-c\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/24971493241141712.png\" alt width=\"108\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"370\" valign=\"top\"><![endif]-->\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"370\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-menu\" esd-img-prev-h=\"16\" esd-img-prev-w=\"16\">\n                                                                                        <table class=\"es-menu\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr class=\"links\">\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 20px; \" width=\"25.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #31cb4b !important;\" href=\"http://\">Service1</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 20px; \" width=\"25.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #31cb4b !important;\" href=\"http://\">Service2</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l\" style=\"padding-bottom: 0px; padding-top: 20px; \" width=\"25.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #31cb4b !important;\" href=\"http://\">Service3</a></td>\n                                                                                                    <td class=\"es-p10t es-p10b es-p5r es-p5l es-mobile-hidden\" style=\"padding-bottom: 0px; padding-top: 20px; \" width=\"25.00%\" bgcolor=\"transparent\" align=\"center\"><a target=\"_blank\" style=\"color: #31cb4b !important;\" href=\"http://\">Service4</a></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-header\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"es-adaptive esd-stripe\" align=\"center\">\n                                        <table class=\"es-header-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p15\" style=\"background-color: #31cb4b;border-bottom:1px solid #2cb543\" bgcolor=\"#31cb4b\" align=\"left\">\n                                                        <!--[if mso]><table width=\"570\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"180\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-m-p0l es-p15l es-m-txt-c\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/891494002104546.png\" alt width=\"108\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"370\" valign=\"top\"><![endif]-->\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"370\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr class=\"es-mobile-hidden\">\n                                                                                    <td align=\"center\" class=\"esd-block-spacer\" height=\"20\"></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-p0r es-m-p0t es-m-txt-c es-p10r\" align=\"right\">\n                                                                                        <p style=\"color: #ffffff;\">October 12, 2017</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"600\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"350\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"560\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"center\">\n                                                                                        <p>Sub Title here</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <h2>MAIN TITLE HERE</h2>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-spacer es-p10t es-p20r es-p20l\" align=\"center\" style=\"font-size:0\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"10%\" height=\"100%\" border=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td style=\"border-bottom: 3px solid #31cb4b; background: none; height: 1px; width: 100%; margin: 0px;\"></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h2>Lorem ipsum text</h2>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h2>Lorem ipsum text</h2>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"125\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p20b\" align=\"center\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://my.stripo.email/cabinet/assets/editor/assets/img/default-img.png\" alt class=\"adapt-img esdev-empty-img\" style=\"display: none;\" width=\"125\" height=\"100\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td width=\"20\"></td>\n                                                                    <td class=\"esd-container-frame\" width=\"125\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p20b\" align=\"center\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://my.stripo.email/cabinet/assets/editor/assets/img/default-img.png\" alt class=\"adapt-img esdev-empty-img\" style=\"display: none;\" width=\"125\" height=\"100\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"125\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p20b\" align=\"center\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://my.stripo.email/cabinet/assets/editor/assets/img/default-img.png\" alt class=\"adapt-img esdev-empty-img\" style=\"display: none;\" width=\"125\" height=\"100\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td width=\"20\"></td>\n                                                                    <td class=\"esd-container-frame\" width=\"125\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p20b\" align=\"center\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://my.stripo.email/cabinet/assets/editor/assets/img/default-img.png\" alt class=\"adapt-img esdev-empty-img\" style=\"display: none;\" width=\"125\" height=\"100\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p5t\" align=\"left\">\n                                                                                        <h2>Lorem ipsum text</h2>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget erat viverra malesuada. Aliquam volutpat vel est quis euismod. Nunc faucibus varius ex eget aliquam.<br></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" style=\"background-color: #31cb4b;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#31cb4b\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p30t es-p30b es-p20r es-p20l\" style=\"background-color: #31cb4b;\" bgcolor=\"#31cb4b\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"560\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <h2 style=\"color: #ffffff;\">Neque porro quisquam est qui dolorem ipsum</h2>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p5t\" align=\"center\">\n                                                                                        <p style=\"color: #ffffff;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"194\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"174\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td class=\"es-hidden\" width=\"20\"></td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"173\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"173\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"173\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"173\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"180\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"360\" valign=\"top\"><![endif]-->\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"360\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget erat viverra malesuada. Aliquam volutpat vel est quis euismod. Nunc faucibus varius ex eget aliquam.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"360\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"360\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget erat viverra malesuada. Aliquam volutpat vel est quis euismod. Nunc faucibus varius ex eget aliquam.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"180\" valign=\"top\"><![endif]-->\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"180\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" style=\"background-color: #2cb543;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#2cb543\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure\" style=\"background-color: #2cb543;\" bgcolor=\"#2cb543\" align=\"left\">\n                                                        <!--[if mso]><table width=\"600\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"290\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"290\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p30t es-p5r es-p25l es-m-txt-l\" align=\"left\">\n                                                                                        <h3 style=\"color: #ffffff;\">Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b es-p25r es-p25l\" align=\"left\">\n                                                                                        <p style=\"color: #ffffff;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget. Aliquam volutpat vel est quis euismod.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p15t es-p25b es-p25r es-p25l\" align=\"left\"><span class=\"es-button-border\" style=\"border-left-color: #2cb543;\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"290\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"290\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"324\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p30t es-p20r es-p20l\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p15r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"26\"></a></td>\n                                                                                    <td align=\"left\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                        <h3>Service 1</h3>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text es-p5t\" align=\"left\">\n                                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p15r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"26\"></a></td>\n                                                                                    <td align=\"left\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                        <h3>Service 1</h3>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text es-p5t\" align=\"left\">\n                                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20t es-p30b es-p20r es-p20l\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p15r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"26\"></a></td>\n                                                                                    <td align=\"left\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                        <h3>Service 1</h3>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text es-p5t\" align=\"left\">\n                                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-p15r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"26\"></a></td>\n                                                                                    <td align=\"left\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                        <h3>Service 1</h3>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-text es-p5t\" align=\"left\">\n                                                                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure\" style=\"background-color: #2cb543;\" bgcolor=\"#2cb543\" align=\"left\">\n                                                        <!--[if mso]><table width=\"600\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"300\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"300\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"324\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"0\"></td><td width=\"300\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"300\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p30t es-p25r es-p25l\" align=\"left\">\n                                                                                        <h3 style=\"color: #ffffff;\">Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b es-p25r es-p25l\" align=\"left\">\n                                                                                        <p style=\"color: #ffffff;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget erat viverra malesuada. Aliquam volutpat vel est quis euismod. Nunc faucibus varius ex eget aliquam.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p15t es-p25b es-p25r es-p25l\" align=\"left\"><span class=\"es-button-border\" style=\"border-left-color: #2cb543;\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p40\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"520\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"350\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t es-p25r\" align=\"left\">\n                                                                                        <h3 style=\"color: #333333;\">Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b es-p25r\" align=\"left\">\n                                                                                        <p style=\"color: #333333;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et. Aliquam vitae sem eget erat viverra malesuada. Aliquam volutpat vel est quis euismod. Faucibus varius ex eget aliquam.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p5t es-p10r\" align=\"left\"><span class=\"es-button-border\" style=\"border-left-color: #2cb543;\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p>Unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Read More +</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"560\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-video\" align=\"center\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-video\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"300\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p15b\" align=\"left\">\n                                                                                        <p>Lorem ipgsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td>\n                                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p15t\" align=\"left\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"260\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"260\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p15b\" align=\"left\">\n                                                                                        <p>Lorem ipgsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td>\n                                                                                        <table class=\"es-table-not-adapt\" cellspacing=\"0\" cellpadding=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                                <tr>\n                                                                                                    <td class=\"esd-block-image es-p5t es-p5b es-p10r\" valign=\"top\" align=\"left\" style=\"font-size:0\"><a href target=\"_blank\"><img src=\"https://hd.stripocdn.email/content/guids/cab_pub_6364d3f0f495b6ab9dcf8d3b5c6e0b01/images/60991496146348081.png\" alt width=\"16\"></a></td>\n                                                                                                    <td align=\"left\">\n                                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                                                            <tbody>\n                                                                                                                <tr>\n                                                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                                                        <p>Lorem ipsum dolor sit amet.</p>\n                                                                                                                    </td>\n                                                                                                                </tr>\n                                                                                                            </tbody>\n                                                                                                        </table>\n                                                                                                    </td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p15t\" align=\"left\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"194\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"174\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p><span style=\"color:#808080;\"><s>MRP $86.00</s></span><br><span style=\"font-size:16px;\">Our Price <span style=\"color:#31cb4b;\">$40.00</span></span></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button\" align=\"center\"><span class=\"es-button-border\" style=\"display: block;\"><a href class=\"es-button\" target=\"_blank\" style=\"border-left-width: 0px; border-right-width: 0px; display: block;\">BUY NOW</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td class=\"es-hidden\" width=\"20\"></td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"173\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"173\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p><span style=\"color: #808080; line-height: 150%;\"><s>MRP $86.00</s></span><br><span style=\"font-size: 16px; line-height: 150%;\">Our Price <span style=\"color: #31cb4b; line-height: 150%;\">$40.00</span></span></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button\" align=\"center\"><span class=\"es-button-border\" style=\"display: block;\"><a href class=\"es-button\" target=\"_blank\" style=\"border-left-width: 0px; border-right-width: 0px; display: block;\">BUY NOW</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"173\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"173\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p><span style=\"color:#808080;\"><s>MRP $86.00</s></span><br><span style=\"font-size:16px;\">Our Price <span style=\"color:#31cb4b;\">$40.00</span></span></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button\" align=\"center\"><span class=\"es-button-border\" style=\"display: block;\"><a href class=\"es-button\" target=\"_blank\" style=\"border-left-width: 0px; border-right-width: 0px; display: block;\">BUY NOW</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p20\" align=\"left\">\n                                                        <!--[if mso]><table width=\"560\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p><span style=\"color:#808080;\"><s>MRP $86.00</s></span><br><span style=\"font-size:16px;\">Our Price <span style=\"color:#31cb4b;\">$40.00</span></span></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button\" align=\"left\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">BUY NOW</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"270\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"270\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"200\"></a></td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <h3>Lorem ipsum text</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t\" align=\"left\">\n                                                                                        <p>Pellentesque vitaeLorem ipsum dol amet, consectetur adipiscing elit.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10t es-p10b\" align=\"left\">\n                                                                                        <p><span style=\"color:#808080;\"><s>MRP $86.00</s></span><br><span style=\"font-size:16px;\">Our Price <span style=\"color:#31cb4b;\">$40.00</span></span></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button\" align=\"left\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">BUY NOW</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" style=\"background-color: #2cb543;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#2cb543\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p30t es-p30b es-p40r es-p40l\" style=\"background-color: #2cb543;\" bgcolor=\"#2cb543\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"520\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text\" align=\"left\">\n                                                                                        <h1 style=\"color: #ffffff;\">Lorem ipsum text</h1>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15t\" align=\"left\">\n                                                                                        <p style=\"color: #ffffff;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae interdum ligula. Pellentesque feugiat ligula ligula, in interdum dolor aliquet et.</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p20t\" align=\"left\"><span class=\"es-button-border\" style=\"border-bottom-color: #2cb543;\"><a href class=\"es-button\" target=\"_blank\">CALL TO ACTION</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure\" align=\"left\">\n                                                        <!--[if mso]><table width=\"600\" cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"300\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"300\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"250\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"0\" valign=\"top\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"300\" align=\"left\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"250\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p40t es-p40r es-p40l\" align=\"left\">\n                                                        <!--[if mso]><table width=\"520\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td class=\"es-hidden\" width=\"20\"></td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\"><img class=\"adapt-img esdev-empty-img\" src=\"https://stripo.email/static//assets/img/default-img.png\" alt style=\"display: none;\" width=\"100%\" height=\"150\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p40\" align=\"left\">\n                                                        <!--[if mso]><table width=\"520\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table style=\"border-radius:8px\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" bgcolor=\"#2cb543\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p25t\" align=\"center\">\n                                                                                        <p style=\"color: #ffffff;\">Silver</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <h1 style=\"color: #ffffff;\"><span style=\"font-size:36px;\">$12.99</span></h1>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-spacer es-p10t es-p20b es-p20r es-p20l\" align=\"center\" style=\"font-size:0\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"35%\" height=\"100%\" border=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td style=\"border-bottom: 3px solid #31cb4b; background: none; height: 1px; width: 100%; margin: 0px;\"></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15r es-p15l\" align=\"center\">\n                                                                                        <p style=\"line-height: 2; color: #ffffff;\">Lorem ipsum dolor sit amet consecteturs</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p10t es-p25b es-p10r es-p10l\" align=\"center\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">BUY</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td class=\"es-hidden\" width=\"20\"></td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table style=\"border-radius:8px\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" bgcolor=\"#2cb543\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p25t\" align=\"center\">\n                                                                                        <p style=\"color: #ffffff;\">Gold</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <h1 style=\"color: #ffffff;\"><span style=\"font-size:36px;\">$26.99</span></h1>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-spacer es-p10t es-p20b es-p20r es-p20l\" align=\"center\" style=\"font-size:0\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"35%\" height=\"100%\" border=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td style=\"border-bottom: 3px solid #31cb4b; background: none; height: 1px; width: 100%; margin: 0px;\"></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15r es-p15l\" align=\"center\">\n                                                                                        <p style=\"line-height: 2; color: #ffffff;\">Lorem ipsum dolor sit amet consecteturs</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p10t es-p25b es-p10r es-p10l\" align=\"center\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">BUY</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table style=\"border-radius:8px\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" bgcolor=\"#2cb543\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p25t\" align=\"center\">\n                                                                                        <p style=\"color: #ffffff;\">Platinum</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <h1 style=\"color: #ffffff;\"><span style=\"font-size:36px;\">$33.95</span></h1>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-spacer es-p10t es-p20b es-p20r es-p20l\" align=\"center\" style=\"font-size:0\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"35%\" height=\"100%\" border=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td style=\"border-bottom: 3px solid #31cb4b; background: none; height: 1px; width: 100%; margin: 0px;\"></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p15r es-p15l\" align=\"center\">\n                                                                                        <p style=\"line-height: 2; color: #ffffff;\">Lorem ipsum dolor sit amet consecteturs</p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-button es-p10t es-p25b es-p10r es-p10l\" align=\"center\"><span class=\"es-button-border\"><a href class=\"es-button\" target=\"_blank\">BUY</a></span></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" style=\"background-color: #ffffff;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" bgcolor=\"#ffffff\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"600\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-spacer es-p40b es-p40r es-p40l\" align=\"center\" style=\"font-size:0\">\n                                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" height=\"100%\" border=\"0\">\n                                                                                            <tbody>\n                                                                                                <tr>\n                                                                                                    <td style=\"border-bottom: 1px solid #efefef; background: none; height: 1px; width: 100%; margin: 0px;\"></td>\n                                                                                                </tr>\n                                                                                            </tbody>\n                                                                                        </table>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"es-footer\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-footer-body\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p25t es-p25b es-p40r es-p40l\" align=\"left\">\n                                                        <!--[if mso]><table width=\"520\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"180\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10b es-m-txt-c\" align=\"left\">\n                                                                                        <h3 style=\"color: #ffffff;\">Contact Us</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"left\">\n                                                                                        <p>Address: 1</p>\n                                                                                        <p>Address: 2</p>\n                                                                                        <p><br></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                    <td class=\"es-hidden\" width=\"20\"></td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-left\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10b es-m-txt-c\" align=\"center\">\n                                                                                        <h3 style=\"color: #ffffff;\">Recommended</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"center\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">New Release</a><br><a href=\"http://#\" target=\"_blank\">Best Seller</a><br><a href=\"http://#\" target=\"_blank\">Promotional</a><br><a href=\"http://#\" target=\"_blank\">Pre Order</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td><td width=\"20\"></td><td width=\"160\"><![endif]-->\n                                                        <table class=\"es-right\" cellspacing=\"0\" cellpadding=\"0\" align=\"right\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"es-m-p0r es-m-p20b esd-container-frame\" width=\"160\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-p10b es-m-txt-c\" align=\"right\">\n                                                                                        <h3 style=\"color: #ffffff;\">Newsletter</h3>\n                                                                                    </td>\n                                                                                </tr>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-text es-m-txt-c\" align=\"right\">\n                                                                                        <p><a href=\"http://#\" target=\"_blank\">Forward</a><br><a href=\"http://#\" target=\"_blank\">Unsubscribe</a><br><a href=\"http://#\" target=\"_blank\">Home</a></p>\n                                                                                    </td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                        <!--[if mso]></td></tr></table><![endif]-->\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table class=\"esd-footer-popover es-content\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"esd-stripe\" align=\"center\">\n                                        <table class=\"es-content-body\" style=\"background-color: transparent;\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" align=\"center\">\n                                            <tbody>\n                                                <tr>\n                                                    <td class=\"esd-structure es-p30t es-p30b es-p20r es-p20l\" align=\"left\">\n                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                            <tbody>\n                                                                <tr>\n                                                                    <td class=\"esd-container-frame\" width=\"560\" valign=\"top\" align=\"center\">\n                                                                        <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">\n                                                                            <tbody>\n                                                                                <tr>\n                                                                                    <td class=\"esd-block-image es-infoblock\" align=\"center\" style=\"font-size:0\"><a target=\"_blank\" href=\"http://viewstripo.email/?utm_source=templates&utm_medium=email&utm_campaign=basic&utm_content=master\"><img src=\"https://hd.stripocdn.email/content/guids/CABINET_9df86e5b6c53dd0319931e2447ed854b/images/64951510234941531.png\" alt width=\"125\"></a></td>\n                                                                                </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                    </td>\n                                                                </tr>\n                                                            </tbody>\n                                                        </table>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n`;\n\nexport const css = `\n * {\n            box-sizing: border-box;\n          }\n          .body {\n            display: flex;\n            min-height: 100%;\n            flex-direction: column;\n            margin: 0;\n          }\n          .main {\n            display: flex;\n            flex: 1;\n          }\n          .main > .article {\n            flex: 1;\n          }\n          .main > .nav,\n          .main > .aside {\n            flex: 0 0 20vw;\n            background: beige;\n          }\n          .main > .nav {\n            order: -1;\n          }\n          .header, .footer {\n            background: yellowgreen;\n            height: 20vh;\n          }\n          .header, .footer, .article, .nav, .aside {\n            padding: 1em;\n          }\n\n/*\nCONFIG STYLES\nPlease do not delete and edit CSS styles below\n*/\n/* IMPORTANT THIS STYLES MUST BE ON FINAL EMAIL */\n#outlook a {\n    padding: 0;\n}\n\n.ExternalClass {\n    width: 100%;\n}\n\n.ExternalClass,\n.ExternalClass p,\n.ExternalClass span,\n.ExternalClass font,\n.ExternalClass td,\n.ExternalClass div {\n    line-height: 100%;\n}\n\n.es-button {\n    mso-style-priority: 100 !important;\n    text-decoration: none !important;\n}\n\na[x-apple-data-detectors] {\n    color: inherit !important;\n    text-decoration: none !important;\n    font-size: inherit !important;\n    font-family: inherit !important;\n    font-weight: inherit !important;\n    line-height: inherit !important;\n}\n\n.es-desk-hidden {\n    display: none;\n    float: left;\n    overflow: hidden;\n    width: 0;\n    max-height: 0;\n    line-height: 0;\n    mso-hide: all;\n}\n\n/*\nEND OF IMPORTANT\n*/\ns {\n    text-decoration: line-through;\n}\n\nhtml,\n.body,\nbody {\n    width: 100%;\n    font-family: arial, 'helvetica neue', helvetica, sans-serif;\n    -webkit-text-size-adjust: 100%;\n    -ms-text-size-adjust: 100%;\n}\n\ntable {\n    mso-table-lspace: 0pt;\n    mso-table-rspace: 0pt;\n    border-collapse: collapse;\n    border-spacing: 0px;\n}\n\ntable td,\nhtml,\n.body,\nbody,\n.es-wrapper {\n    padding: 0;\n    Margin: 0;\n}\n\n.es-content,\n.es-header,\n.es-footer {\n    table-layout: fixed !important;\n    width: 100%;\n}\n\nimg {\n    display: block;\n    border: 0;\n    outline: none;\n    text-decoration: none;\n    -ms-interpolation-mode: bicubic;\n}\n\ntable tr {\n    border-collapse: collapse;\n}\n\np,\nhr {\n    Margin: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5 {\n    Margin: 0;\n    line-height: 120%;\n    mso-line-height-rule: exactly;\n    font-family: arial, 'helvetica neue', helvetica, sans-serif;\n}\n\np,\nul li,\nol li,\na {\n    -webkit-text-size-adjust: none;\n    -ms-text-size-adjust: none;\n    mso-line-height-rule: exactly;\n}\n\n.es-left {\n    float: left;\n}\n\n.es-right {\n    float: right;\n}\n\n.es-p5 {\n    padding: 5px;\n}\n\n.es-p5t {\n    padding-top: 5px;\n}\n\n.es-p5b {\n    padding-bottom: 5px;\n}\n\n.es-p5l {\n    padding-left: 5px;\n}\n\n.es-p5r {\n    padding-right: 5px;\n}\n\n.es-p10 {\n    padding: 10px;\n}\n\n.es-p10t {\n    padding-top: 10px;\n}\n\n.es-p10b {\n    padding-bottom: 10px;\n}\n\n.es-p10l {\n    padding-left: 10px;\n}\n\n.es-p10r {\n    padding-right: 10px;\n}\n\n.es-p15 {\n    padding: 15px;\n}\n\n.es-p15t {\n    padding-top: 15px;\n}\n\n.es-p15b {\n    padding-bottom: 15px;\n}\n\n.es-p15l {\n    padding-left: 15px;\n}\n\n.es-p15r {\n    padding-right: 15px;\n}\n\n.es-p20 {\n    padding: 20px;\n}\n\n.es-p20t {\n    padding-top: 20px;\n}\n\n.es-p20b {\n    padding-bottom: 20px;\n}\n\n.es-p20l {\n    padding-left: 20px;\n}\n\n.es-p20r {\n    padding-right: 20px;\n}\n\n.es-p25 {\n    padding: 25px;\n}\n\n.es-p25t {\n    padding-top: 25px;\n}\n\n.es-p25b {\n    padding-bottom: 25px;\n}\n\n.es-p25l {\n    padding-left: 25px;\n}\n\n.es-p25r {\n    padding-right: 25px;\n}\n\n.es-p30 {\n    padding: 30px;\n}\n\n.es-p30t {\n    padding-top: 30px;\n}\n\n.es-p30b {\n    padding-bottom: 30px;\n}\n\n.es-p30l {\n    padding-left: 30px;\n}\n\n.es-p30r {\n    padding-right: 30px;\n}\n\n.es-p35 {\n    padding: 35px;\n}\n\n.es-p35t {\n    padding-top: 35px;\n}\n\n.es-p35b {\n    padding-bottom: 35px;\n}\n\n.es-p35l {\n    padding-left: 35px;\n}\n\n.es-p35r {\n    padding-right: 35px;\n}\n\n.es-p40 {\n    padding: 40px;\n}\n\n.es-p40t {\n    padding-top: 40px;\n}\n\n.es-p40b {\n    padding-bottom: 40px;\n}\n\n.es-p40l {\n    padding-left: 40px;\n}\n\n.es-p40r {\n    padding-right: 40px;\n}\n\n.es-menu td {\n    border: 0;\n}\n\n.es-menu td a img {\n    display: inline-block !important;\n}\n\n/*\nEND CONFIG STYLES\n*/\na {\n    font-family: arial, 'helvetica neue', helvetica, sans-serif;\n    font-size: 14px;\n    text-decoration: underline;\n}\n\nh1 {\n    font-size: 30px;\n    font-style: normal;\n    font-weight: normal;\n    color: #333333;\n}\n\nh1 a {\n    font-size: 30px;\n}\n\nh2 {\n    font-size: 24px;\n    font-style: normal;\n    font-weight: normal;\n    color: #333333;\n}\n\nh2 a {\n    font-size: 24px;\n}\n\nh3 {\n    font-size: 20px;\n    font-style: normal;\n    font-weight: normal;\n    color: #333333;\n}\n\nh3 a {\n    font-size: 20px;\n}\n\np,\nul li,\nol li {\n    font-size: 14px;\n    font-family: arial, 'helvetica neue', helvetica, sans-serif;\n    line-height: 150%;\n}\n\nul li,\nol li {\n    Margin-bottom: 15px;\n}\n\n.es-menu td a {\n    text-decoration: none;\n    display: block;\n}\n\n.es-wrapper {\n    width: 100%;\n    height: 100%;\n    background-image: ;\n    background-repeat: repeat;\n    background-position: center top;\n}\n\n.es-wrapper-color {\n    background-color: #f6f6f6;\n}\n\n.es-content-body {\n    background-color: #ffffff;\n}\n\n.es-content-body p,\n.es-content-body ul li,\n.es-content-body ol li {\n    color: #333333;\n}\n\n.es-content-body a {\n    color: #1376c8;\n}\n\n.es-header {\n    background-color: transparent;\n    background-image: ;\n    background-repeat: repeat;\n    background-position: center top;\n}\n\n.es-header-body {\n    background-color: transparent;\n}\n\n.es-header-body p,\n.es-header-body ul li,\n.es-header-body ol li {\n    color: #333333;\n    font-size: 14px;\n}\n\n.es-header-body a {\n    color: #1376c8;\n    font-size: 14px;\n}\n\n.es-footer {\n    background-color: transparent;\n    background-image: ;\n    background-repeat: repeat;\n    background-position: center top;\n}\n\n.es-footer-body {\n    background-color: #333333;\n}\n\n.es-footer-body p,\n.es-footer-body ul li,\n.es-footer-body ol li {\n    color: #ffffff;\n    font-size: 14px;\n}\n\n.es-footer-body a {\n    color: #ffffff;\n    font-size: 14px;\n}\n\n.es-infoblock,\n.es-infoblock p,\n.es-infoblock ul li,\n.es-infoblock ol li {\n    line-height: 120%;\n    font-size: 12px;\n    color: #cccccc;\n}\n\n.es-infoblock a {\n    font-size: 12px;\n    color: #cccccc;\n}\n\na.es-button {\n    border-style: solid;\n    border-color: #31cb4b;\n    border-width: 10px 20px 10px 20px;\n    display: inline-block;\n    background: #31cb4b;\n    border-radius: 30px;\n    font-size: 18px;\n    font-family: arial, 'helvetica neue', helvetica, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n    line-height: 120%;\n    color: #ffffff;\n    text-decoration: none;\n    width: auto;\n    text-align: center;\n}\n\n.es-button-border {\n    border-style: solid solid solid solid;\n    border-color: #2cb543 #2cb543 #2cb543 #2cb543;\n    background: #2cb543;\n    border-width: 0px 0px 2px 0px;\n    display: inline-block;\n    border-radius: 30px;\n    width: auto;\n}\n\n/*\nRESPONSIVE STYLES\nPlease do not delete and edit CSS styles below.\n\nIf you don't need responsive layout, please delete this section.\n*/\n@media only screen and (max-width: 600px) {\n\n    p,\n    ul li,\n    ol li,\n    a {\n        font-size: 16px !important;\n        line-height: 150% !important;\n    }\n\n    h1 {\n        font-size: 30px !important;\n        text-align: left;\n        line-height: 120% !important;\n    }\n\n    h2 {\n        font-size: 26px !important;\n        text-align: left;\n        line-height: 120% !important;\n    }\n\n    h3 {\n        font-size: 20px !important;\n        text-align: left;\n        line-height: 120% !important;\n    }\n\n    h1 a {\n        font-size: 30px !important;\n        text-align: left;\n    }\n\n    h2 a {\n        font-size: 26px !important;\n        text-align: left;\n    }\n\n    h3 a {\n        font-size: 20px !important;\n        text-align: left;\n    }\n\n    .es-menu td a {\n        font-size: 16px !important;\n    }\n\n    .es-header-body p,\n    .es-header-body ul li,\n    .es-header-body ol li,\n    .es-header-body a {\n        font-size: 16px !important;\n    }\n\n    .es-footer-body p,\n    .es-footer-body ul li,\n    .es-footer-body ol li,\n    .es-footer-body a {\n        font-size: 16px !important;\n    }\n\n    .es-infoblock p,\n    .es-infoblock ul li,\n    .es-infoblock ol li,\n    .es-infoblock a {\n        font-size: 12px !important;\n    }\n\n    *[class=\"gmail-fix\"] {\n        display: none !important;\n    }\n\n    .es-m-txt-c,\n    .es-m-txt-c h1,\n    .es-m-txt-c h2,\n    .es-m-txt-c h3 {\n        text-align: center !important;\n    }\n\n    .es-m-txt-r,\n    .es-m-txt-r h1,\n    .es-m-txt-r h2,\n    .es-m-txt-r h3 {\n        text-align: right !important;\n    }\n\n    .es-m-txt-l,\n    .es-m-txt-l h1,\n    .es-m-txt-l h2,\n    .es-m-txt-l h3 {\n        text-align: left !important;\n    }\n\n    .es-m-txt-r img,\n    .es-m-txt-c img,\n    .es-m-txt-l img {\n        display: inline !important;\n    }\n\n    .es-button-border {\n        display: block !important;\n    }\n\n    a.es-button {\n        font-size: 20px !important;\n        display: block !important;\n        border-left-width: 0px !important;\n        border-right-width: 0px !important;\n    }\n\n    .es-btn-fw {\n        border-width: 10px 0px !important;\n        text-align: center !important;\n    }\n\n    .es-adaptive table,\n    .es-btn-fw,\n    .es-btn-fw-brdr,\n    .es-left,\n    .es-right {\n        width: 100% !important;\n    }\n\n    .es-content table,\n    .es-header table,\n    .es-footer table,\n    .es-content,\n    .es-footer,\n    .es-header {\n        width: 100% !important;\n        max-width: 600px !important;\n    }\n\n    .es-adapt-td {\n        display: block !important;\n        width: 100% !important;\n    }\n\n    .adapt-img {\n        width: 100% !important;\n        height: auto !important;\n    }\n\n    .es-m-p0 {\n        padding: 0px !important;\n    }\n\n    .es-m-p0r {\n        padding-right: 0px !important;\n    }\n\n    .es-m-p0l {\n        padding-left: 0px !important;\n    }\n\n    .es-m-p0t {\n        padding-top: 0px !important;\n    }\n\n    .es-m-p0b {\n        padding-bottom: 0 !important;\n    }\n\n    .es-m-p20b {\n        padding-bottom: 20px !important;\n    }\n\n    .es-mobile-hidden,\n    .es-hidden {\n        display: none !important;\n    }\n\n    tr.es-desk-hidden,\n    td.es-desk-hidden,\n    table.es-desk-hidden {\n        width: auto !important;\n        overflow: visible !important;\n        float: none !important;\n        max-height: inherit !important;\n        line-height: inherit !important;\n    }\n\n    tr.es-desk-hidden {\n        display: table-row !important;\n    }\n\n    table.es-desk-hidden {\n        display: table !important;\n    }\n\n    td.es-desk-menu-hidden {\n        display: table-cell !important;\n    }\n\n    .es-menu td {\n        width: 1% !important;\n    }\n\n    table.es-table-not-adapt,\n    .esd-block-html table {\n        width: auto !important;\n    }\n\n    table.es-social {\n        display: inline-block !important;\n    }\n\n    table.es-social td {\n        display: inline-block !important;\n    }\n}\n\n/*\nEND RESPONSIVE STYLES\n*/\n\n`;\n","import {Component, Input} from '@angular/core';\nimport {BaseInputComponent} from '../base.input.component';\n\nexport interface SelectItem{\n  value: any;\n  label: string;\n}\n\n/**\n *    select\n */\n@Component({\n  selector: 'select-component',\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.less']\n})\nexport class SelectComponent extends BaseInputComponent {\n  @Input() items: SelectItem[];\n}\n","export default \"<ng-container *ngIf=\\\"node\\\">\\n  <ng-container *ngFor=\\\"let child of node.children; trackBy: trackByPath\\\">\\n<!--  <ng-container *ngFor=\\\"let child of node.children\\\">-->\\n    <ng-container *ngIf=\\\"isChildDisplayed(child)\\\">\\n      <ui-renderer *ngIf=\\\"!child.iterate\\\"\\n                   [node]=\\\"applyBindings(child)\\\"\\n                   (componentEvent)=\\\"onComponentEvent($event)\\\"\\n                   [mode]=\\\"rendererMode\\\">\\n      </ui-renderer>\\n      <ng-container *ngIf=\\\"child.iterate\\\">\\n<!--        <ui-renderer *ngFor=\\\"let value of this[child.iterate]\\\"-->\\n        <ui-renderer *ngFor=\\\"let value of this[child.iterate]; trackBy: trackByKey\\\"\\n                     [node]=\\\"applyBindings(child, value)\\\"\\n                     (componentEvent)=\\\"onComponentEvent($event,value.key)\\\"\\n                     [mode]=\\\"rendererMode\\\">\\n        </ui-renderer>\\n      </ng-container>\\n    </ng-container>\\n  </ng-container>\\n</ng-container>\\n\";","import {Injectable} from '@angular/core';\nimport {ControlObject, SettingsObject} from '../../entities/UIObject';\nimport {baseBlockControls} from '../../configs/baseBlocks';\nimport {cloneDeep} from 'lodash';\nimport {Observable, of} from 'rxjs';\nimport {Control} from '../../../../common/entities/Control';\nimport {RepositoryService} from '../../api/repository.service';\nimport {map} from 'rxjs/operators';\nimport {AsyncValue} from '../../tools/decorators/AsyncValue/AsyncValue.decorator';\nimport {StateStream} from '../../tools/decorators/StateStream/StateStream.decorator';\nimport {ApplicationConfig} from '../../entities/ApplicationConfig';\nimport {EditorEventListener} from '../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\n\n// todo add to controls state to config\n/**\n * ,          \n */\n@Injectable()\n@EditorEventListener()\nexport class ControlsService {\n  documentId: string;\n  controls: any;\n  // @ts-ignore\n  @AsyncValue() @StateStream({stateProperty: 'config'}) public config: ApplicationConfig/* = this.config*/;\n\n  constructor(private repository: RepositoryService) {\n    this.documentId = window.location.pathname.replace('/', '') || '1';\n  }\n\n  private loadControls(): Observable<any> {\n    if (this.config.useFakeData) {\n      this.controls = {\n        undefined: baseBlockControls,\n      };\n    }\n\n    if (this.controls) {\n      return of(this.controls);\n    }\n\n    return this.repository\n      .loadControls(this.documentId)\n      .pipe(\n        map(controls => {\n          console.log(\"got controls from server:\", controls);\n          this.controls = {\n            undefined: baseBlockControls,\n          };\n          controls.forEach(c => {\n            if (!this.controls[c.customBlockId]) {\n              this.controls[c.customBlockId] = [];\n            }\n            this.controls[c.customBlockId].push(c);\n          });\n          return this.controls;\n        })\n      );\n  }\n\n  public saveControl(control: SettingsObject, blockId?: string): void {\n    if (!this.controls[blockId]) {\n      this.controls[blockId] = [];\n    }\n    if (control.id) {\n      const storedControl = this.controls[blockId].find(c => c.id === control.id);\n      Object.assign(storedControl, control);\n      this.repository\n        .updateControl(storedControl, this.documentId)\n        .subscribe(() => console.log('control updated'), e => console.error('failed to update control', e));\n    } else {\n      const newControl = {\n        ...control,\n        id: `control_${(new Date()).getTime()}`,\n        customBlockId: blockId,\n        documentId: this.documentId\n      } as Control;\n      this.controls[blockId].push(newControl);\n      this.repository\n        .createControl(newControl, this.documentId)\n        .subscribe(() => console.log('control created'), e => console.error('failed to create control', e));\n    }\n  }\n\n  public getControls(customBlockId: string): Observable<ControlObject[]> {\n    return this\n      .loadControls()\n      .pipe(\n        map(() => {\n          console.log(\"getting controls for:\", customBlockId);\n          console.log(\"controls map:\", this.controls)\n          let controls = this.controls[customBlockId];\n          if (!controls) {\n            controls = [];\n            this.controls[customBlockId] = controls;\n          }\n          return cloneDeep(controls);\n        })\n      );\n  }\n}\n","import {ComparisonType, ConditionConnection} from '../entities/UIObject';\n\nexport class LogicalOperator {\n  static [ComparisonType.EQUAL](a, b): boolean {\n    return a === b;\n  }\n\n  static [ComparisonType.NOT_EQUAL](a, b): boolean {\n    return a !== b;\n  }\n\n  static [ComparisonType.CAST_EQUAL](a, b): boolean {\n    // tslint:disable-next-line:triple-equals\n    return a == b;\n  }\n\n  static [ConditionConnection.AND](a, b): boolean {\n    return a && b;\n  }\n\n  static [ConditionConnection.OR](a, b): boolean {\n    return a || b;\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {ServicesModule} from '../services/services.module';\nimport {DomainModule} from '../domain/domain.module';\nimport {StateModule} from '../state/state.module';\nimport {ApiModule} from '../api/api.module';\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        ServicesModule,\n        DomainModule,\n        StateModule,\n        ApiModule\n    ],\n    declarations: [],\n    exports: [\n        BrowserModule,\n        ServicesModule,\n        DomainModule,\n        StateModule,\n        ApiModule\n    ]\n})\nexport class CoreModule {\n\n}\n","import {ControlValueAccessorType} from '../../../../entities/UIObject';\nimport {StyleValueAccessor} from './StyleValueAccessor';\nimport {TextValueAccessor} from './TextValueAccessor';\nimport {FormValueAccessor} from './FormValueAccessor';\nimport {DomNodeAccessor} from './DomNodeAccessor';\nimport {BufferValueAccessor} from './BufferValueAccessor';\nimport {GroupDomNodeAccessor} from './GroupDomNodeAccessor';\n\nexport const valueAccessors = {\n  [ControlValueAccessorType.STYLE]: StyleValueAccessor,\n  [ControlValueAccessorType.TEXT]: TextValueAccessor,\n  [ControlValueAccessorType.FORM]: FormValueAccessor,\n  [ControlValueAccessorType.DOM]: DomNodeAccessor,\n  [ControlValueAccessorType.BUFF]: BufferValueAccessor,\n  [ControlValueAccessorType.GROUP_DOM]: GroupDomNodeAccessor,\n};\n","export default \"<!--<input [type]=\\\"type\\\" [value]=\\\"value\\\" (change)=\\\"value = $event.target.value\\\">-->\\n\\n<select (change)=\\\"value = $event.target.value\\\">\\n  <option *ngFor=\\\"let item of items\\\"\\n          [selected]=\\\"value === item.value\\\">\\n    {{item.label}}\\n  </option>\\n</select>\\n\";","import DecoratorTools from '../decorator.tools';\nimport {ExtraModuleInjector} from '../../../services/extra-module-injector/extra-module-injector';\nimport {InjectedValueOptions} from '../decorator.types';\n\nexport function InjectedValue(options: InjectedValueOptions) {\n  return function (target: Object, key: string) {\n    DecoratorTools.redefineAccessors(target, key, (_get, _set) => {\n      return {\n        get: function () {\n          let value = _get.call(this);\n          const useInjector = !options.dynamicInjector || this.constructor.name === this.injector.get('dynamicallyProvidedFor');\n          if (useInjector && (!value /*|| !this.hasOwnProperty(key)*/)) {\n            value = this.injector ? this.injector.get(options.token) : ExtraModuleInjector.get(options.token);\n            _set.call(this, value);\n          }\n          return value;\n        }\n      };\n    });\n  };\n}\n","import {HtmlEditorComponent} from './html/html-editor/html-editor.component';\nimport {CssRendererComponent} from './css/css-renderer.component';\nimport {DocumentRendererComponent} from './dom/document/document-renderer.component';\nimport {UIRendererComponent} from './dom/ui/ui-renderer.component';\n\nexport const renderers = [\n  HtmlEditorComponent,\n  CssRendererComponent,\n  DocumentRendererComponent,\n  UIRendererComponent\n];\n","import {ComponentFactoryResolver, Injector, Input, OnDestroy, OnInit, Type, ViewContainerRef} from '@angular/core';\nimport {BaseNodeComponent} from './base.node-component';\nimport {HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {NodeComponentNode} from '../../../entities/NodeComponent';\nimport {NodeRenderer} from '../../../entities/NodeRenderer';\n\n/**\n *  node  {@link HtmlObject},    {@link BaseNodeComponent}\n */\nexport class BaseDomRenderer implements OnInit, OnDestroy, NodeRenderer {\n  @Input() index: number;\n  @Input() node: HtmlObject;\n  componentRef: any;\n  component: BaseNodeComponent;\n\n  constructor(protected injector: Injector,\n              protected componentFactoryResolver: ComponentFactoryResolver,\n              protected viewContainerRef: ViewContainerRef) {\n  }\n\n  protected getComponentType(): Type<BaseNodeComponent> {\n    return null;\n  }\n\n  protected insertComponent(): void {\n    const injector = Injector.create({\n      providers: [\n        {provide: NodeComponentNode, useValue: this.node},\n        {provide: 'dynamicallyProvidedFor', useValue: this.getComponentType().name}\n      ],\n      parent: this.injector\n    });\n    const factory = this.componentFactoryResolver.resolveComponentFactory(this.getComponentType());\n    this.componentRef = this.viewContainerRef.createComponent(factory, 0, injector);\n    this.component = this.componentRef.instance;\n    this.component.index = this.index;\n    this.component.container = this;\n  }\n\n  protected removeComponent(): void {\n    this.viewContainerRef.detach(0);\n    this.componentRef.destroy();\n    delete this.componentRef;\n    delete this.component;\n  }\n\n  ngOnInit(): void {\n    this.insertComponent();\n  }\n\n  ngOnDestroy(): void {\n    this.removeComponent();\n  }\n\n  public updateComponent(): void {\n    this.removeComponent();\n    this.insertComponent();\n  }\n}\n","import {ChangeDetectorRef, Component, ElementRef, Injector, OnInit} from '@angular/core';\nimport {HtmlConverter} from '../../../tools/HtmlConverter';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\nimport {EventsService} from '../../../state/events.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {ActionsService} from '../../../domain/actions.service';\nimport {NodeWrapperService} from '../../../services/node-wrapper/node-wrapper.service';\nimport {CustomBlocksService} from '../../../services/custom-blocks/custom-blocks.service';\nimport {HtmlObject} from '../../../../../../ui-editor-common/entities/HtmlObject';\nimport {DocumentNodeComponent} from '../document-node-component/document-node.component';\n\n@Component({\n  selector: 'amp-element',\n  templateUrl: './amp-element.component.html',\n  styleUrls: ['../document-node-component/document-node.component.less', './/amp-element.component.less'],\n})\nexport class AmpElementComponent extends DocumentNodeComponent implements OnInit {\n\n  converter = HtmlConverter;\n\n  children: any[] = [];\n  play: boolean = true;\n\n  constructor(el: ElementRef,\n              events: EventsService,\n              actionManager: ActionManagerService,\n              cdr: ChangeDetectorRef,\n              actions: ActionsService,\n              nodeWrapper: NodeWrapperService,\n              customBlocks: CustomBlocksService,\n              private sanitizer: DomSanitizer,\n              injector: Injector) {\n    super(el, events, actionManager, cdr, actions, nodeWrapper, customBlocks, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.children = this.node.children.map(c => this.getHtml(c));\n  }\n\n  public getHtml(object: HtmlObject): SafeHtml {\n    const html = HtmlConverter.ObjectToHtml(object);\n    return html ? this.sanitizer.bypassSecurityTrustHtml(html) : '';\n  }\n\n  public playAMP(): void {\n    this.play = !this.play;\n    if (this.play) {\n      this.children = this.node.children.map(c => this.getHtml(c));\n    }\n  }\n}\n","/** @description merges given constructors into decorated one, adds each property except constructor */\nexport function MixinsDecorator(constructors: Function[]) {\n  return function (constructor: Function) {\n    constructors\n      .forEach(c => {\n        Object\n          .getOwnPropertyNames(c.prototype)\n          .filter(name => name !== 'constructor')\n          .forEach(name => {\n            Object.defineProperty(constructor.prototype, name, Object.getOwnPropertyDescriptor(c.prototype, name));\n          });\n      });\n  };\n}\n","import {ChangeDetectorRef, Component, ElementRef, HostBinding, Injector} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {EventsService} from '../../../state/events.service';\nimport {filter} from 'rxjs/operators';\nimport {EditorEvent} from '../../../entities/EditorEvent';\nimport {HtmlNodeType} from '../../../../../../ui-editor-common/entities/HtmlObject';\n\n/**\n *   ui thumbnail  {@link UINodeComponent}\n */\n@Component({\n    selector: 'block-thumb-component',\n    templateUrl: './block-thumb.component.html',\n    styleUrls: ['./block-thumb.component.less']\n})\nexport class BlockThumbComponent extends UINodeComponent {\n    @HostBinding('attr.draggable') draggable = true;\n\n    public constructor(el: ElementRef,\n                       cdr: ChangeDetectorRef,\n                       events: EventsService,\n                       injector: Injector) {\n        super(cdr, el, events, injector);\n    }\n\n    // protected isOverCurrentNode() {\n    //   return filter((e: EditorEvent) => e.data.target === this.el.nativeElement || this.el.nativeElement.contains(e.data.target));\n    // }\n\n    protected isOverCurrentNode(e: EditorEvent): boolean {\n        return e.data.target === this.el.nativeElement || this.el.nativeElement.contains(e.data.target);\n    }\n\n    protected onDragEnter(e: EditorEvent) {\n    }\n\n    protected onDrop(e: EditorEvent): void {\n    }\n\n    protected onDragStart() {\n        if (this.localState.customBlock || this.localState.externalBlock) {\n            this.applicationState = {draggedNode: this.localState.block};\n        } else {\n            this.applicationState = {\n                draggedNode: {\n                    type: HtmlNodeType.ELEMENT_NODE,\n                    children: [{\n                        type: HtmlNodeType.TEXT_NODE,\n                        children: [],\n                        path: null,\n                        tag: null,\n                        content: this.localState.block.tag,\n                        attributes: {}\n                    }],\n                    path: null,\n                    tag: this.localState.block.tag,\n                    attributes: {style: 'padding:10px; border: 1px solid green; background-color: lightgray;'},\n                }\n            };\n        }\n        super.onDragStart();\n    }\n}\n\n\n//todo fix drag into from the same container\n","export default \"<div class=\\\"patch-item service-element\\\"\\n     *ngFor=\\\"let patch of actions.undoStack\\\"\\n     [class.replay-item]=\\\"patch.replay\\\">\\n  <span class=\\\"service-element\\\">\\n    {{patch.actions[0].do.method}}\\n  </span><br class=\\\"service-element\\\">\\n  <span class=\\\"service-element\\\">\\n    {{patch.actions[0].do.path}}\\n  </span>\\n  <span class=\\\"service-element\\\" *ngIf=\\\"patch.actions[0].do.method==='moveNodes'\\\">\\n    -> {{patch.actions[0].do['destinationPath']}}\\n  </span>\\n  <br class=\\\"service-element\\\">\\n  <button (click)=\\\"cancel(patch)\\\"></button>\\n</div>\\n\";","import {ChangeDetectorRef, Component, ElementRef, HostListener, Injector} from '@angular/core';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {BehaviorableNode} from '../../../entities/BehaviorableNode';\nimport {EventsService} from '../../../state/events.service';\nimport {EditorEventType} from '../../../entities/EditorEvent';\n\n/**\n *    UI,  {@link UINodeComponent}\n * <br/>   undo, redo, showHistory   {@link ActionManagerService}\n */\n\n@Component({\n  selector: 'header-component',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.less']\n})\nexport class HeaderComponent extends UINodeComponent {\n\n  editedNode: BehaviorableNode;\n\n  public constructor(public actionManager: ActionManagerService,\n                     el: ElementRef,\n                     cdr: ChangeDetectorRef,\n                     events: EventsService,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  @HostListener('click', ['$event'])\n  onHeaderClick() {\n    this.applicationState = {selectedNode: undefined};\n  }\n\n  public undo(e: Event): void {\n    e.stopPropagation();\n    this.actionManager.undo();\n  }\n\n  public redo(e: Event): void {\n    e.stopPropagation();\n    this.actionManager.redo();\n  }\n\n  public showHistory(e: Event): void {\n    this.applicationState = {\n      addingControl: false,\n      editedControl: undefined,\n      // editedNode: undefined, // todo where did it come from???\n      viewingHistory: !this.applicationState.viewingHistory,\n    };\n  }\n}\n","export default \":host {\\n  display: block;\\n  height: 98vh;\\n}\\n.control-with-inputs {\\n  border-bottom: 1px solid green;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n}\\ndocument-renderer {\\n  display: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2FwcC5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLFlBQUE7QUNDRjtBREdBO0VBQ0UsOEJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUNERjtBREtBO0VBQ0UsYUFBQTtBQ0hGIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiA5OHZoO1xufVxuXG5cbi5jb250cm9sLXdpdGgtaW5wdXRzIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyZWVuO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIHBhZGRpbmc6IDVweDtcbn1cblxuXG5kb2N1bWVudC1yZW5kZXJlcntcbiAgZGlzcGxheTogbm9uZTtcbn1cbiIsIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogOTh2aDtcbn1cbi5jb250cm9sLXdpdGgtaW5wdXRzIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyZWVuO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIHBhZGRpbmc6IDVweDtcbn1cbmRvY3VtZW50LXJlbmRlcmVyIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbiJdfQ== */\";","import {Injectable, InjectionToken, Injector} from '@angular/core';\nimport {ReplaySubject} from 'rxjs';\n\n@Injectable()\nexport class ExtraModuleInjector {\n  private static injector: Injector;\n  public static injectorValue: ReplaySubject<any> = new ReplaySubject(1);\n\n  public static get(token: string | InjectionToken<any> | any) {\n    if (ExtraModuleInjector.injector) {\n      return ExtraModuleInjector.injector.get(token);\n    }\n  }\n\n  constructor(public injector: Injector) {\n    ExtraModuleInjector.injector = injector;\n    ExtraModuleInjector.injectorValue.next(ExtraModuleInjector.injector);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {ActionManagerService} from './action-manager.service';\nimport {ActionsService} from './actions.service';\n\n@NgModule({\n    imports: [\n    ],\n    declarations: [],\n    exports: [],\n    providers: [\n        ActionManagerService,\n        ActionsService\n    ]\n})\nexport class DomainModule {\n\n}\n","export default \"<textarea class=\\\"service-element\\\" [value]=\\\"html\\\" (change)=\\\"valueChanged.next(generateNodes($event.target.value))\\\"></textarea>\\n\";","import {ChangeDetectorRef, Component, ElementRef, Injector} from '@angular/core';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {EventsService} from '../../../state/events.service';\nimport {ActionManagerService} from '../../../domain/action-manager.service';\nimport {Patch} from '../../../../../../ui-editor-common/entities/Patch';\n\n/**\n *     ,  {@link UINodeComponent}\n */\n@Component({\n  selector: 'history-component',\n  templateUrl: './history.component.html',\n  styleUrls: ['./history.component.less']\n})\nexport class HistoryComponent extends UINodeComponent {\n\n  public constructor(public actions: ActionManagerService,\n                     el: ElementRef,\n                     cdr: ChangeDetectorRef,\n                     events: EventsService,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  public cancel(patch: Patch): void {\n    this.actions.cancelSinglePatch(patch);\n  }\n}\n","export default \"<input [type]=\\\"type\\\" [value]=\\\"value\\\" (change)=\\\"value = $event.target.value\\\">\";","import {Component, Input} from '@angular/core';\nimport {BaseInputComponent} from '../base.input.component';\n\n/**\n *   \n */\n@Component({\n  selector: 'button-input',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.less']\n})\nexport class ButtonInputComponent extends BaseInputComponent {\n  @Input() caption: string;\n  public onClick() {\n    this.emitChangeEvent();\n  }\n}\n","import {ControlObject, ControlType, ControlUpdateType, ControlValueAccessorType, InputType} from '../entities/UIObject';\nimport {HtmlNodeType} from '../../../common/entities/HtmlObject';\nimport {ControlUtils} from '../tools/ControlUtils';\n\n\nconst testControl = {\n  'type': 1,\n  'children': [\n    {\n      'type': 1,\n      'children': [\n        {\n          'type': 1,\n          'children': [\n            {\n              'type': 1,\n              'children': [],\n              'path': [],\n              'localState': {},\n              'attributes': {\n                'style': 'display: block;'\n              },\n              'updateType': 'MODIFY',\n              'tag': 'TEXT',\n              'bindings': {\n                'value': 'valueAccessor.color'\n              }\n            }\n          ],\n          'path': [],\n          'localState': {},\n          'attributes': {\n            'style': 'display: block;'\n          },\n          'updateType': 'MODIFY',\n          'tag': 'BASE',\n          'valueAccessor': 'STYLE',\n          'bindings': {\n            'value': 'valueAccessor.attributes.style'\n          },\n          'value': 'padding:10px;border:1px solid green;background-color:lightgray;color:red'\n        }\n      ],\n      'path': [\n        0\n      ],\n      'localState': {},\n      'attributes': {\n        'style': 'display: block;'\n      },\n      'updateType': 'MODIFY',\n      'tag': 'BASE',\n      'valueAccessor': 'BUFF',\n      'bindings': {\n        'value': 'valueAccessor..menu-item'\n      },\n      'value': {\n        'tag': 'DIV',\n        'type': 1,\n        'attributes': {\n          'class': 'menu-item',\n          'style': 'padding:10px;border:1px solid green;background-color:lightgray;color:green'\n        },\n        'children': [],\n        'path': []\n      }\n    }\n  ],\n  'path': [],\n  'localState': {},\n  'attributes': {\n    'style': 'display: block;'\n  },\n  'updateType': 'MODIFY',\n  'tag': 'BASE',\n  'valueAccessor': 'DOM',\n  'bindings': {\n    'value': 'editedNode'\n  }\n};\n\nconst NODE_BACKGROUND_CONTROL: ControlObject = ControlUtils.getBasicStyleControl({\n  bindTo: 'editedNode.attributes.style',\n  id: 'backgroundColor',\n  inputType: InputType.COLOR,\n  label: 'Background color',\n  styleProperty: `background-color`\n});\n\nconst NODE_TEXT_CONTROL: ControlObject = ControlUtils.getTextControl({\n  bindTo: 'editedNode',\n  id: 'text',\n  label: 'Text'\n});\n\nconst NODE_STYLES_CONTROL: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'styles_control',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.STYLE,\n  bindings: {value: 'editedNode.attributes.style'},\n  children: [\n    ControlUtils.getLabel({value: 'Node styles'}),\n    ControlUtils.getFormControl({\n      id: 'style', iterate: 'valueAccessor'\n    })\n  ],\n};\n\n\nconst ADD_STYLE_CONTROL: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'add_style_control',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.STYLE,\n  bindings: {value: 'editedNode.attributes.style'},\n  children: [\n    ControlUtils.getLabel({value: 'Add style'}),\n    ControlUtils.getFormControl({\n      id: 'new_style', updateType: ControlUpdateType.INSERT, bindTo: `${ControlUtils.valueAccessorProp}`\n    })\n  ]\n};\n\nconst ADD_CHILD_CONTROL: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'add_child_control',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.DOM,\n  bindings: {value: 'editedNode'},\n  children: [\n    {\n      ...ControlUtils.defaultControlProperties,\n      id: 'add_child_control_factory_form',\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.BUFF,\n      updateType: ControlUpdateType.INSERT,\n      localState: {\n        initialValue: {\n          tag: null,\n          attributes: {\n            style: 'background-color:lightgray;border: 1px solid gray;text-align:center;'\n          },\n          children: [\n            {\n              type: HtmlNodeType.TEXT_NODE,\n              content: '[NEW NODE]'\n            }\n          ],\n        }\n      },\n      children: [\n        ControlUtils.getLabel({value: 'Insert child'}),\n        ControlUtils.getInput({bindTo: `${ControlUtils.valueAccessorProp}.tag`})\n      ],\n    }\n  ],\n};\n\n\nconst BUTTON_CONTROLS: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'text_control',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.DOM,\n  bindings: {value: 'editedNode'},\n  children: [\n    ControlUtils.getTextControl({\n      bindTo: `${ControlUtils.valueAccessorProp}.span`,\n      id: 'button',\n    }),\n    {\n      ...ControlUtils.defaultControlProperties,\n      id: 'text_control_color',\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.BUFF,\n      bindings: {value: `${ControlUtils.valueAccessorProp}.span`},\n      children: [\n        ControlUtils.getBasicStyleControl({\n          bindTo: `${ControlUtils.valueAccessorProp}.attributes.style`,\n          id: 'button',\n          inputType: InputType.COLOR,\n          label: 'Button color',\n          styleProperty: 'color'\n        })\n      ],\n    }\n  ],\n};\n\nconst BUTTON_CONTROL: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'button',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.DOM,\n  bindings: {value: 'editedNode'},\n  children: [\n    ControlUtils.getLabel({value: 'BUTTON'}),\n    {\n      ...ControlUtils.defaultControlProperties,\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.BUFF,\n      bindings: {span: `${ControlUtils.valueAccessorProp}.span`},\n      children: [\n          ControlUtils.getTextControl({\n            bindTo: 'span',\n            id: 'b',\n            label: 'Button text'})\n      ]\n    }\n  ]\n};\n\nconst BUTTON_CONTROL2: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'button',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.DOM,\n  bindings: {value: 'editedNode'},\n  children: [\n    ControlUtils.getLabel({value: 'BUTTON'}),\n    ControlUtils.getTextControl({\n      bindTo: `${ControlUtils.valueAccessorProp}.span`,\n      id: 'b',\n      label: 'Button text'}),\n    {\n      ...ControlUtils.defaultControlProperties,\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.BUFF,\n      bindings: {value: `${ControlUtils.valueAccessorProp}.span`},\n      children: [\n        ControlUtils.getBasicStyleControl({\n          id: 'button_background',\n          bindTo: `${ControlUtils.valueAccessorProp}.attributes.style`,\n          label: 'Item background',\n          styleProperty: 'background-color',\n          inputType: InputType.COLOR\n        }),\n        ControlUtils.getTextControl({\n          bindTo: `${ControlUtils.valueAccessorProp}`,\n          id: 'b2',\n          label: 'Button text'}),\n      ]\n    }\n  ]\n};\n\n\nconst MENU_CONTROLS: ControlObject = {\n  ...ControlUtils.defaultControlProperties,\n  id: 'menu_control',\n  tag: ControlType.BASE,\n  valueAccessor: ControlValueAccessorType.DOM,\n  bindings: {value: 'editedNode'},\n  children: [\n    ControlUtils.getLabel({value: 'Menu'}),\n    {\n      ...ControlUtils.defaultControlProperties,\n      id: 'menu_control_item',\n      iterate: 'valueAccessor',\n      tag: ControlType.BASE,\n      valueAccessor: ControlValueAccessorType.BUFF,\n      bindings: {value: 'value'},\n      children: [\n        ControlUtils.getLabel({value: 'Name'}),\n        ControlUtils.getInput({bindTo: `${ControlUtils.valueAccessorProp}.children[0].content`}),\n        ControlUtils.getBasicStyleControl({\n          id: 'menu_background',\n          bindTo: `${ControlUtils.valueAccessorProp}.attributes.style`,\n          label: 'Item background',\n          styleProperty: 'background-color',\n          inputType: InputType.COLOR\n          // inputType: InputType.TEXT\n        })\n      ],\n    },\n    {\n      ...ControlUtils.defaultControlProperties,\n      tag: InputType.BUTTON,\n      updateType: ControlUpdateType.INSERT,\n      bindings: {value: `${ControlUtils.valueAccessorProp}.div`},\n      localState: {\n        label: 'Add item'\n      }\n    },\n    // {\n    //   ...ControlUtils.defaultControlProperties,\n    //   id: 'menu_control_add',\n    //   tag: ControlType.BASE,\n    //   valueAccessor: ControlValueAccessorType.BUFF,\n    //   bindings: {value: `${ControlUtils.valueAccessorProp}.div`},\n    //   updateType: ControlUpdateType.INSERT,\n    //   children: [\n    //     {\n    //       ...ControlUtils.defaultControlProperties,\n    //       bindings: {value: `${ControlUtils.valueAccessorProp}`},\n    //       tag: InputType.BUTTON,\n    //       localState: {\n    //         label: 'Add item'\n    //       }\n    //     }\n    //   ],\n    // }\n  ],\n};\n\n\nexport const baseBlockControls = [\n  NODE_TEXT_CONTROL,\n  NODE_STYLES_CONTROL,\n  ADD_STYLE_CONTROL,\n  testControl\n];\n","import {distinctUntilChanged, takeUntil} from 'rxjs/operators';\nimport {destroyEmitter, StateStreamOptions} from '../decorator.types';\nimport DecoratorTools from '../decorator.tools';\nimport {EditorEventType} from '../../../entities/EditorEvent';\nimport {EventsService} from '../../../state/events.service';\nimport {StateManagerService} from '../../../state/state-manager.service';\n\nexport function StateStream(options: StateStreamOptions = {}) {\n    return function (target: Object, key: string) {\n        function getStream(/*context*/) {\n            return StateManagerService\n                .getStatePropertyStream(options.stateProperty)\n                .pipe(\n                    // takeUntil(context[destroyEmitter]),\n                    distinctUntilChanged()\n                    //     filter(v => !!v)\n                );\n        }\n\n        // DecoratorTools.redefineAccessors(target, key, (_get, _set) => {\n        //   return {\n        //     get: function () {\n        //       let stream = _get.call(this);\n        //       if (!stream) {\n        //         stream = getStream(this);\n        //         _set.call(this, stream);\n        //       }\n        //       return stream;\n        //     },\n        //     set: function (value: any, doNotEmit: boolean) {\n        //       if (doNotEmit) {\n        //         _set.call(this, value);\n        //       } else {\n        //         EventsService.dispatch({\n        //           type: EditorEventType.UPDATE_APP_STATE,\n        //           data: value\n        //         });\n        //       }\n        //     }\n        //   };\n        // });\n\n        let stream;\n        DecoratorTools.redefineAccessors(target, key, (_get, _set) => {\n            return {\n                get: function () {\n                    if (!stream) {\n                        stream = getStream();\n                    }\n                    return stream;\n                },\n                set: function (value: any, doNotEmit: boolean) {\n                    if (doNotEmit) {\n                        stream = value;\n                    } else {\n                        EventsService.dispatch({\n                            type: EditorEventType.UPDATE_APP_STATE,\n                            data: value\n                        });\n                    }\n                }\n            };\n        });\n    };\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver, ComponentRef, EventEmitter,\n  Injector,\n  Input, OnChanges,\n  OnDestroy,\n  OnInit, Output, SimpleChanges,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport {BaseDomRenderer} from '../base.dom-renderer';\nimport {BaseNodeComponent} from '../base.node-component';\nimport {UINodeEvent, UINodeEventType, UIObject, UIRendererMode} from '../../../../entities/UIObject';\nimport {editControlsMap, uiNodeComponents, uiNodeComponentsMap} from '../../../ui/ui-node-component/ui-node-components';\nimport {UINodeComponent} from '../../../ui/ui-node-component/ui-node.component';\n\n\nconst componentsMaps = {\n  [UIRendererMode.EDIT]: editControlsMap,\n  [UIRendererMode.DISPLAY]: uiNodeComponentsMap\n};\n\n/**\n *  node  {@link UIObject}   {@link UIRendererMode},   DISPLAY\n *      editControl  uiNodeComponent\n * <br/>     valueChanged    {@link HtmlObject}\n * <br/>     componentEvent\n */\n@Component({\n  selector: 'ui-renderer',\n  template: '',\n  entryComponents: uiNodeComponents,\n})\nexport class UIRendererComponent extends BaseDomRenderer implements OnInit, OnDestroy, OnChanges {\n\n  private static UIComponentsRefs: ComponentRef<UINodeComponent>[] = [];\n\n  @Input() node: UIObject;\n  @Input() mode = UIRendererMode.DISPLAY;\n  @Output() componentEvent = new EventEmitter<UINodeEvent>();\n  component: UINodeComponent;\n\n  constructor(injector: Injector,\n              componentFactoryResolver: ComponentFactoryResolver,\n              viewContainerRef: ViewContainerRef,\n              public cdr: ChangeDetectorRef) {\n    super(injector, componentFactoryResolver, viewContainerRef);\n  }\n\n  protected getComponentType(): Type<BaseNodeComponent> {\n    return componentsMaps[this.mode][this.node.tag];\n  }\n\n  protected insertComponent(): void {\n    super.insertComponent();\n    UIRendererComponent.UIComponentsRefs.push(this.componentRef);\n    // todo unsubscribe\n    this.component.uiNodeEvent.subscribe(data => {\n      if (data.type === UINodeEventType.CONTROL_PROPERTY_UPDATED) {\n        this.detectChangesInAllUIComponents();\n      }\n      this.componentEvent.emit(data);\n    });\n  }\n\n  protected removeComponent(): void {\n    super.removeComponent();\n    UIRendererComponent.UIComponentsRefs = UIRendererComponent.UIComponentsRefs.filter(r => r !== this.componentRef);\n  }\n\n  public detectChangesInAllUIComponents() {\n    UIRendererComponent.UIComponentsRefs.forEach(r => r.instance.cdr.markForCheck());\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n  }\n}\n","export default \"<button (click)=\\\"onClick()\\\">{{caption || localState.label}}</button>\\n\";","export default \":host {\\n  display: block;\\n  border: 1px solid blue;\\n  width: 100%;\\n  align-self: flex-end;\\n  left: 0;\\n  position: absolute;\\n  height: 100%;\\n  background: white;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvY29kZS1lZGl0b3IvY29kZS1lZGl0b3IuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvY29kZS1lZGl0b3IvY29kZS1lZGl0b3IuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxPQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvY29kZS1lZGl0b3IvY29kZS1lZGl0b3IuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibHVlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgIGxlZnQ6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgYm9yZGVyOiAxcHggc29saWQgYmx1ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICBsZWZ0OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG59XG4iXX0= */\";","export default \":host {\\n  display: block;\\n  border: 1px solid darkcyan;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvY29udHJvbC1lZGl0b3ItcGFuZWwvY29udHJvbC1lZGl0b3ItcGFuZWwuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvdWkvY29udHJvbC1lZGl0b3ItcGFuZWwvY29udHJvbC1lZGl0b3ItcGFuZWwuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsMEJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy91aS9jb250cm9sLWVkaXRvci1wYW5lbC9jb250cm9sLWVkaXRvci1wYW5lbC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGRhcmtjeWFuO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgYm9yZGVyOiAxcHggc29saWQgZGFya2N5YW47XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXX0= */\";","\n\nimport {Component} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {StateSubscriber} from '../../../tools/decorators/Subscriber/Subscriber.decorator';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\n\n/**\n *  document.css  \n */\n@Component({\n  selector: 'css-renderer',\n  template: '<div class=\"service-element\" [innerHTML]=\"styles\"></div>',\n})\n@EditorEventListener()\n// @LogClass({logTrace: true})\nexport class CssRendererComponent {\n  public styles: any = '';\n\n  public constructor(private sanitizer: DomSanitizer) {\n    console.log(\"\\n\\nCSS:\",this)\n  }\n\n  /**\n   *   'document.css'    this.styles   html\n   */\n  @StateSubscriber({stateProperty: 'document.css'})\n  onDataUpdated(css) {\n    console.log(\"\\n\\nonDataUpdated\",css)\n    if (css) {\n      this.styles = this.sanitizer.bypassSecurityTrustHtml(`\n            <style>\n                ${css.textValue}\n            </style>\n        `);\n    }\n  }\n}\n","import {ControlUtils} from '../../../tools/ControlUtils';\nimport {UINodeComponent} from '../ui-node-component/ui-node.component';\nimport {set} from 'lodash';\nimport {ControlUpdateType, SettingsObject, UINodeEventType} from '../../../entities/UIObject';\nimport {EditorEventType} from '../../../entities/EditorEvent';\nimport {DeleteCommand} from '../../../../../../ui-editor-common/entities/Command';\n\n/**\n *        Mixins\n */\nexport abstract class BaseControlEditSettings extends UINodeComponent {\n  _value;\n  node: SettingsObject;\n\n  public abstract saveControl();\n\n  /**\n   *  '\n   * @param prop ' \n   * @param newParentProp '  ,   '\n   */\n  public renameParentBindingProperty(prop: string, newParentProp: string): void {\n    const prefix = !this.node.path.length ? 'editedNode' : ControlUtils.valueAccessorProp;\n    newParentProp = newParentProp ? `${prefix}.${newParentProp}` : prefix;\n    this.node.bindings[prop] = newParentProp;\n    set(this.node, prop, undefined);\n    this.saveControl();\n  }\n\n  public deleteControl(): void {\n    this.applicationState.controlsDataService.removeNodes({path: this.node.path, count: 1} as DeleteCommand);\n    this.uiNodeEvent.emit({type: UINodeEventType.CONTROL_PROPERTY_UPDATED});\n  }\n\n  public getParentBindingPropertyName(property: string) {\n    return !property ? property : property\n      .replace(new RegExp(`editedNode(.?)`), '')\n      .replace(new RegExp(`${ControlUtils.valueAccessorProp}(.?)`), '');\n  }\n\n  /**\n   *  ' \n   * @param oldProp  \n   * @param newProp  \n   */\n  public renameBindingProperty(oldProp: string, newProp: string): void {\n    this.node.bindings[newProp] = this.node.bindings[oldProp];\n    delete this.node.bindings[oldProp];\n    set(this.node, oldProp, undefined);\n    this.saveControl();\n  }\n\n  protected onDragStop(): void {\n    super.onDragStop();\n    this.cdr.markForCheck();\n  }\n\n  protected onDragStart() {\n    setTimeout(() => {\n      this.dragged = true;\n      this.cdr.markForCheck();\n    });\n    this.applicationState = {draggedControl: this.node};\n  }\n\n  public setUpdateType(type: ControlUpdateType): void {\n    this.node.updateType = type;\n    this.saveControl();\n  }\n\n  public setLocalState(state: string): void {\n    let stateObj: any;\n    try {\n      stateObj = JSON.parse(state);\n    } catch (e) {\n      console.error('Invalid config!');\n      return;\n    }\n\n    this.node.localState = stateObj;\n    this.saveControl();\n  }\n\n  public applyBindings(child: SettingsObject, context: any = this): SettingsObject {\n    const result: SettingsObject = super.applyBindings(child, context);\n    if (result.localState && result.localState.initialValue) {\n      result.value = result.localState.initialValue;\n    }\n    return result;\n  }\n\n  protected updateLocalState() {\n    super.updateLocalState();\n    if (this.node.localState && this.node.localState.initialValue) {\n      this.node.value = this.node.localState.initialValue;\n      this._value = this.node.value;\n    }\n  }\n}\n","export default \"<!--<ng-container *ngIf=\\\"globalState.controlsDataService\\\">-->\\n<ng-container *ngIf=\\\"applicationState.controlsDataService\\\">\\n<!--  <ui-renderer [node]=\\\"applyBindings(globalState.controlsDataService.data.html)\\\"-->\\n  <ui-renderer [node]=\\\"applyBindings(applicationState.controlsDataService.data.html)\\\"\\n               (componentEvent)=\\\"onComponentEvent($event)\\\"\\n               [mode]=\\\"rendererMode\\\">\\n  </ui-renderer>\\n</ng-container>\\n<hr>\\n<button (click)=\\\"exit()\\\">Cancel</button>\\n<button (click)=\\\"save()\\\">Save</button>\\n\";","export default \":host {\\n  position: relative;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZXgvUHJvamVjdHMvTUIvbWVzc2FnZS1idWlsZGVyL3VpLWVkaXRvci11aS9zcmMvYXBwL2NvbXBvbmVudHMvdWkvdWktbm9kZS1jb21wb25lbnQvdWktbm9kZS5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvY29tcG9uZW50cy91aS91aS1ub2RlLWNvbXBvbmVudC91aS1ub2RlLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdWkvdWktbm9kZS1jb21wb25lbnQvdWktbm9kZS5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbiIsIjpob3N0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuIl19 */\";","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import {ChangeDetectorRef, Component, ElementRef, HostListener, Injector} from '@angular/core';\nimport {EventsService} from '../../../state/events.service';\nimport {EditorEventType} from '../../../entities/EditorEvent';\nimport {BaseNodesContainerComponent} from '../base-nodes-container/base-nodes-container.component';\nimport {EditorEventListener} from '../../../tools/decorators/EditorEventListener/EditorEventListener.decorator';\nimport {StateStream} from '../../../tools/decorators/StateStream/StateStream.decorator';\nimport {Emitter} from '../../../tools/decorators/Emitter/Emitter.decorator';\n\n/**\n *  html    document-renderer\n * <br/> html    document.html\n */\n@Component({\n  selector: 'preview-panel',\n  templateUrl: './preview-panel.component.html',\n  styleUrls: ['./preview-panel.component.less', '../base-nodes-container/base-nodes-container.component.less'],\n})\n@EditorEventListener()\nexport class PreviewPanelComponent extends BaseNodesContainerComponent {\n\n  @StateStream({stateProperty: 'document.html'}) html$;\n\n  public constructor(el: ElementRef,\n                     events: EventsService,\n                     cdr: ChangeDetectorRef,\n                     injector: Injector) {\n    super(cdr, el, events, injector);\n  }\n\n  @HostListener('mouseover', ['$event'])\n  @Emitter({type: EditorEventType.MOUSE_OVER_NODE})\n  onChildMouseOver(e) {\n    // if ((<any>this.applicationState.componentsMap.get(e.target)) && (<any>this.applicationState.componentsMap.get(e.target)).onHover) {\n    //   (<any>this.applicationState.componentsMap.get(e.target)).onHover({type: null, data: e});\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  @Emitter({type: EditorEventType.MOUSE_OUT_NODE})\n  @HostListener('mouseout', ['$event'])\n  onChildMouseOut(e) {\n    // if ((<any>this.applicationState.componentsMap.get(e.target)) && (<any>this.applicationState.componentsMap.get(e.target)).onHoveOut) {\n    //   (<any>this.applicationState.componentsMap.get(e.target)).onHoveOut({type: null, data: e});\n    //   this.cdr.detectChanges();\n    // }\n    return e;\n  }\n\n  // todo not getting called\n  @HostListener('dragend', ['$event'])\n  onChildDragEnd(e) {\n    this.applicationState = {draggedNode: undefined};\n    super.onChildDragEnd(e);\n  }\n}\n","import {Command, DeleteCommand, InsertCommand, MoveCommand} from '../../../common/entities/Command';\nimport {DataMethod} from '../../../common/services/dom.data.service';\nimport {NodeUtils} from '../../../common/tools/NodeUtils';\nimport {Path} from '../../../common/entities/Path';\nimport {Patch} from '../../../common/entities/Patch';\nimport {cloneDeep} from 'lodash';\nimport {Action} from '../../../common/entities/Action';\n\ninterface Transformable {\n  command: Command;\n\n  getPaths(): Path[];\n\n  setPaths(paths: Path[]): void;\n}\n\ninterface Transformer {\n  transform(path: Path): Path;\n}\n\nclass InsertDeleteUpdateTransformable implements Transformable {\n  constructor(public command: InsertCommand | DeleteCommand) {\n  }\n\n  public getPaths(): Path[] {\n    return [this.command.path];\n  }\n\n  public setPaths([path]: Path[]): void {\n    this.command.path = path;\n  }\n}\n\nclass MoveTransformable implements Transformable {\n  constructor(public command: MoveCommand) {\n  }\n\n  public getPaths(): Path[] {\n    return [this.command.path, this.command.destinationPath];\n  }\n\n  public setPaths([path, destinationPath]: Path[]): void {\n    this.command.path = path;\n    this.command.destinationPath = destinationPath;\n  }\n}\n\nclass DeleteTransformer implements Transformer {\n  constructor(public command: DeleteCommand) {\n  }\n\n  public transform(path: Path): Path {\n    const dependency = NodeUtils.getStructuralDependency(path, this.command.path);\n    let transformed = [...path];\n    if (dependency === 0) {\n      transformed = null;\n    }\n    if (dependency < 0) {\n      transformed[this.command.path.length - 1]--;\n    }\n    return transformed;\n  }\n}\n\nclass InsertTransformer implements Transformer {\n  constructor(public command: DeleteCommand) {\n  }\n\n  public transform(path: Path): Path {\n    const dependency = NodeUtils.getStructuralDependency(path, this.command.path);\n    const transformed = [...path];\n    if (dependency <= 0) {\n      transformed[this.command.path.length - 1]++;\n    }\n    return transformed;\n  }\n}\n\nclass MoveTransformer implements Transformer {\n  constructor(public command: MoveCommand) {\n  }\n\n  public transform(path: Path): Path {\n    const sourceDependency = NodeUtils.getStructuralDependency(path, this.command.path);\n    const destinationDependency = NodeUtils.getStructuralDependency(path, this.command.destinationPath);\n\n    let transformed = [...path];\n\n    if (sourceDependency < 0) {\n      transformed[this.command.path.length - 1]--;\n    }\n\n    // todo CHECK\n    if (sourceDependency === 0) {\n      // transformed = [...this.command.destinationPath, ...transformed.slice(this.command.destinationPath.length, transformed.length)];\n      transformed = [...this.command.destinationPath, ...transformed.slice(this.command.path.length, transformed.length)];\n    }\n\n    if (destinationDependency <= 0) {\n      transformed[this.command.destinationPath.length - 1]++;\n    }\n\n    return transformed;\n  }\n}\n\nclass Transformator {\n  constructor(public transformable: Transformable, public transformer: Transformer) {\n  }\n\n  public transform() {\n    const paths = this.transformable\n      .getPaths()\n      .map(p => {\n        const path = this.transformer.transform(p);\n        if (path === null) {\n          this.transformable.command.detached = true;\n          return p;\n        }\n        return path;\n      });\n\n    if (!this.transformable.command.detached) {\n      this.transformable.setPaths(paths);\n    }\n\n    return this.transformable.command;\n  }\n}\n\nexport class OperationUtils {\n\n  private static transformables = {\n    [DataMethod.MOVE]: MoveTransformable,\n    [DataMethod.INSERT]: InsertDeleteUpdateTransformable,\n    [DataMethod.DELETE]: InsertDeleteUpdateTransformable,\n    [DataMethod.UPDATE]: InsertDeleteUpdateTransformable,\n  };\n\n  private static transformers = {\n    [DataMethod.MOVE]: MoveTransformer,\n    [DataMethod.INSERT]: InsertTransformer,\n    [DataMethod.DELETE]: DeleteTransformer,\n  };\n\n  public static transformAgainst(transformed: Command, target: Command): Command {\n    console.log('\\ntransforming', transformed);\n    console.log('against', target);\n    const transformedCommand = {...transformed, detached: false};\n\n    if (OperationUtils.transformers[target.method]) {\n      const transformator = new Transformator(\n        // @ts-ignore\n        new OperationUtils.transformables[transformedCommand.method](transformedCommand),\n        new OperationUtils.transformers[target.method](target)\n      );\n      const t = transformator.transform();\n      console.log('transformed:', {...t});\n      return t;\n    }\n\n    console.log('transformed:', {...transformedCommand});\n    return transformedCommand;\n  }\n\n  public static reverseActions(actions: Action[]): Action[] {\n    return [...actions].reverse().map(a => ({do: a.undo, undo: a.do}));\n  }\n\n\n  public static transformActions(transformed: Action[], targetActionsArray: Action[][]): Action[] {\n    console.log('transformActions', transformed, targetActionsArray);\n    const transformedActions: Action[] = cloneDeep(transformed);\n    targetActionsArray.forEach(targetActions => {\n      targetActions\n        .forEach(targetAction => {\n          transformedActions\n            .forEach(transformedAction => {\n              transformedAction.do = OperationUtils.transformAgainst(transformedAction.do, targetAction.do);\n              transformedAction.undo = OperationUtils.transformAgainst(transformedAction.undo, targetAction.do);\n            });\n        });\n    });\n\n    // todo ???\n    // cancelActions\n    //   .forEach(cancelAction => {\n    //     cancelAction.undo = OperationUtils.transformAgainst(cancelAction.undo, cancelAction.do);\n    //   });\n\n    return transformedActions;\n  }\n}\n","import {HtmlDocument} from '../../../common/entities/HtmlDocument';\nimport {ApplicationConfig} from './ApplicationConfig';\nimport {UIObject} from './UIObject';\nimport {ApplicationState} from '../state/state.types';\nimport {Patch} from '../../../common/entities/Patch';\n\nexport enum EditorEventType {\n  SET_DOCUMENT = 'setDocument',\n  SET_CONFIG = 'setConfig',\n  SET_UI = 'setUI',\n  SET_APP_STATE = 'setAppState',\n  UPDATE_APP_STATE = 'updateAppState',\n  MOUSE_OVER_NODE = 'mouseOverNode',\n  NODE_DRAG_START = 'nodeDragStart',\n  NODE_DRAG_END = 'nodeDragEnd',\n  NODE_DRAG_ENTER = 'nodeDragEnter',\n  NODE_DRAG_LEAVE = 'nodeDragLeave',\n  /** @deprecated - causes very slow performance*/\n  NODE_DRAG_OVER = 'nodeDragOver',\n  NODE_DRAG_DROP = 'nodeDragDrop',\n  MOUSE_OUT_NODE = 'mouseOutNode',\n  /** @deprecated */\n  NODE_SELECTED = 'nodeSelected',\n  /** @deprecated */\n  REMOTE_NODE_SELECTED = 'remoteNodeSelected',\n  /** @deprecated */\n  DATA_UPDATED = 'dataUpdated',\n  REMOTE_UPDATE = 'remoteUpdate',\n  USER_UPDATE = 'userUpdate',\n  DO = 'do',\n  UNDO = 'undo',\n  UPDATE_DOCUMENT_NODE = 'updateDocumentNode',\n  EXECUTE_PATCH = 'executePatch'\n}\n\nexport interface EditorEvent {\n  type: EditorEventType;\n  data?: any;\n  error?: any;\n}\n\nexport interface DocumentSetEvent {\n  data: HtmlDocument;\n}\n\nexport interface ConfigSetEvent {\n  data: ApplicationConfig;\n}\n\nexport interface UISetEvent {\n  data: UIObject;\n}\n\nexport interface AppStateSetEvent {\n  data: ApplicationState;\n}\n\nexport interface AppStateUpdateEvent {\n  data: Partial<ApplicationState>;\n}\n\nexport interface PatchEvent {\n  data: Patch;\n}\n","import {Component, EventEmitter, Input, Output, SimpleChanges} from '@angular/core';\nimport {HtmlConverter} from '../../../../tools/HtmlConverter';\nimport {HtmlObject} from '../../../../../../../ui-editor-common/entities/HtmlObject';\nimport {NodeRenderer} from '../../../../entities/NodeRenderer';\n\n\n/**\n *    html   (email)\n * <br/> node  {@link HtmlObject}\n * <br/>     valueChanged    {@link HtmlObject}\n */\n@Component({\n  selector: 'html-editor',\n  templateUrl: './html-editor.component.html',\n  styleUrls: ['./html-editor.component.less']\n})\nexport class HtmlEditorComponent implements NodeRenderer {\n  @Input() node: HtmlObject;\n  @Output() valueChanged = new EventEmitter();\n  html: string;\n\n  protected generateCode() {\n    this.html = HtmlConverter.ObjectToHtml(this.node);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.generateCode();\n  }\n\n  protected generateNodes(html: string): HtmlObject[] {\n    return HtmlConverter.HtmlToObject(html, this.node.path);\n  }\n}\n","export default \"<div class=\\\"service-element\\\">\\n  external block wrapper\\n</div>\\n\\n\\n<!--<ckeditor [editor]=\\\"Editor\\\" data=\\\"<p>Hello, world!</p>\\\"></ckeditor>-->\\n\";"],"sourceRoot":"webpack:///"}